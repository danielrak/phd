\newpage

## Introduction {#ageintro}

La plupart des pays fixent un âge minimum d'entrée à l'école via une date seuil. En France, les parents doivent inscrire leur enfant en primaire si ce dernier fête ses 6 ans avant le 31 décembre de l'année civile de la date de rentrée scolaire [@BED:DHU:06, Annexe 1]. Combinée à la distribution de dates de naissance pour une année donnée, une telle règle, si elle est strictement suivie, implique que les élèves nés en janvier sont un an plus âgés que ceux nés en décembre. Ces élèves sont exposés quasiment aux mêmes enseignements. Lorsqu'ils sont testés au bout d'une certaine durée d'études, il est connu qu'à un âge précoce, ceux nés en janvier présentent de meilleures performances comparés à leurs camarades nés en décembre [@DAT:06].  
Ces différentiels pourraient entraîner des différences à plus long terme s'ils entraînent des différentiels de parcours scolaire et d'opportunités professionnelles en défaveur des plus jeunes. 
  
\quad Au moins trois types d'effets distincts peuvent expliquer ces différences [@CRA:eal:07]. Le premier est un effet d'âge d'entrée qui suppose que les plus âgés ont de meilleurs résultats car ils sont entrés à l'école en étant plus âgés, soit plus préparés, et donc plus aptes à assimiler les enseignements prévus. Le deuxième est un effet d'âge absolu qui attribue la différence de résultats à une différence de maturité au moment des évaluations^[On peut penser que les élèves plus âgés ont de meilleures aptitudes car ils ont un cerveau plus développé, par exemple.]. Il est également appelé effet de l'âge aux examens. Le troisième est un effet d'âge relatif $-$ par rapport à ses camarades de classe $-$ qui est lié au fait qu'être parmi les plus âgés de la classe peut procurer un avantage via la confiance en soi, par exemple [@CAS:08].  
Mesurer séparément ces effets est important dans la mesure où ils ont des implications différentes en termes de politiques publiques. Il s'agit d'un exercice difficile dans les pays où une unique date seuil est utilisée car l'âge d'entrée et l'âge aux examens varient parallèlement^[L'âge aux examens étant la somme de l'âge d'entrée et de la durée d'études.]. <!--Dans une moindre mesure, décaler son inscription d'une année (ou de manière équivalente, être âgé d'un an de plus aux évaluations) augmente en moyenne l'âge par rapport à ses camarades de classe. --> L'âge d'entrée et l'âge aux examens varient aussi chacun parallèlement avec l'âge relatif si les élèves nés à certaines périodes de l'année ne sont pas systématiquement regroupés dans certaines classes.  
Autrement dit, s'il y a une différence de performances entre des élèves nés en janvier et d'autres nés en décembre, il est difficile de savoir si c'est parce que les premiers sont entrés un an plus tard, sont plus matures au moment des évaluations, ou sont plus âgés que leurs camarades de classe. 

\quad En France, mesurer séparément ces différents effets est également rendu difficile en soi à cause de trois facteurs institutionnels. Le premier est que la règle de la date de seuil n'est pas strictement suivie puisque certains parents peuvent décaler ou avancer l'entrée de leur enfant en primaire en fonction de caractéristiques qui peuvent influer sur ses résultats scolaires et qui sont inobservées par le chercheur. Typiquement, les parents décalent ou avancent l'inscription de leur enfant car ils jugent que ce dernier n'est pas prêt pour l'école même s'il fête ses 6 ans avant la fin de l'année civile, ou est prêt même s'il a moins de 6 ans, respectivement. Ceux qui sont entrés tardivement (respectivement en avance) ont des caractéristiques inobservées plutôt défavorables (respectivement plutôt favorables) à la réussite scolaire. Le deuxième facteur est la pratique du redoublement et du saut de classe puisque le redoublement (respectivement le saut de classe) d'un enfant est un signal de présence de caractéristiques inobservés plutôt défavorables (respectivement plutôt favorables) à la réussite scolaire [@ALE:eal:13]. Le dernier facteur est le possible regroupement des élèves en fonction de leur âge puisque cela serait plus pratique pour les enseignants, par exemple.  
  
\quad Ce chapitre mobilise des données exhaustives pour mesurer le lien causal entre l'âge aux examens et les performances en fin de primaire et en fin de collège à La Réunion. Pour chaque année scolaire, nous exploitons la disponibilité de la date de naissance exacte afin d'extraire la variation de l'âge aux examens uniquement due à la variation du jour de naissance dans l'année. Nous montrons que cette variation peut être considérée comme exogène dans notre cas puisqu'elle est la même à travers les différentes strates sociales des parents. Contrairement à la majorité des articles usant de stratégies d'identification similaires, nous n'estimons pas l'effet causal d'intérêt par variable instrumentale classique puisque l'hypothèse de monotonie [@IMB:ANG:94] qui permet de donner un sens précis au paramètre estimé correspondant n'est pas vérifiée dans notre étude [@BAR:LAN:09 ; @FIO:STE:21]. Nous mobilisons plutôt une approche par fonction de contrôle [@WOO:15] qui permet d'estimer un effet du type "effet moyen de traitement" qui ne repose pas sur l'hypothèse de monotonie. Les données à disposition pour le primaire nous permettent également de mesurer les effets de l'âge aux examens grâce à un modèle de régression sur une discontinuité qui présente l'avantage de pouvoir isoler d'éventuels effets directs de la date de naissance et de combler l'absence d'études sur le lien entre l'âge et les résultats scolaires à La Réunion et leur rareté en France. Avoir à disposition les résultats en fin de collège est également un avantage car cela permet d'analyser les effets de l'âge à moyen terme. Des effets de l'âge aux examens en primaire qui persistent ou s'aggravent au fil du temps devraient renforcer la préoccupation des décideurs publics sur le sujet. Puisqu'il est possible d'identifier les élèves d'une même classe, aussi bien en primaire qu'au collège, nous exploitons la variation de la position d'âge de la classe pour un même âge aux examens afin d'isoler l'effet de l'âge relatif [voir par exemple @CAS:SCH:16]. La crédibilité d'un tel exercice repose sur l'absence de regroupement systématique des élèves nés à certaines périodes de l'année dans certaines classes. Notre contexte et nos données vont dans le sens de cette hypothèse. Nous tentons enfin de <!--séparer --> mesurer l'effet de l'âge absolu au primaire *per se* en exploitant le fait que les évaluations du primaire ont été décalées de 4 mois pour une année scolaire donnée. Ce décalage est en effet vraisemblablement exogène et procure 4 mois de plus aux élèves concernés par rapport aux élèves des autres années.  
  
\quad Les différentes stratégies d'identification ci-dessus conduisent aux résultats suivants. Sans tenter de séparer les effets de l'âge aux examens de celui de l'âge relatif, les estimations avec l'approche par fonction de contrôle montrent qu'un an de plus au moment des examens donne un avantage d'environ 0.3 unité d'écart-type (UET dans le reste du texte) de note en fin de primaire. Il s'agit d'un effet important mais cumulé avec celui de l'âge d'entrée. L'effet est plus fort chez les filles et chez les enfants issus de familles très favorisées. L'estimation des modèles de régressions sur une discontinuité conduisent à des coefficients de plus grande ampleur (entre 0.5 et 0.7 UET) mais robustes et également plus forts chez les filles. En fin de collège, les effets diminuent en ampleur mais restent significatifs. Les hétérogénéités des effets en fonction du sexe et de la catégorie sociale ne sont plus détectées.  
  
Lorsque nous tentons d'isoler l'effet de l'âge relatif, nous trouvons que celui-ci est négatif aussi bien au primaire qu'au collège. Cela signifie qu'à âge absolu égal, être parmi les plus jeunes de la classe constitue un avantage. Cela peut suggérer que les enseignants portent plus d'attention aux plus jeunes de la classe ou bien que les plus âgés de la classe influencent positivement leurs plus jeunes camarades.  
  
Enfin, être plus mature en valeur absolu de 4 mois en plus ne semble pas avoir d'effet significatif sur les notes en fin de primaire.  

\quad Les sections suivantes sont organisées comme suit. La Section \@ref(agelitt) établit l'état du débat sur les liens entre l'âge et les performances scolaires. La Section \@ref(ageinst) décrit le contexte institutionnel du système éducatif de La Réunion. La Section \@ref(agedata) discute des données mobilisées pour atteindre l'objectif du chapitre. La Section \@ref(agemethods) développe les différentes stratégies d'identification utilisées. La Section \@ref(ageres) expose et interprète les résultats et la Section \@ref(ageconcl) conclue le chapitre notamment en proposant des préconisations de politiques publiques. 

## Revue de littérature {#agelitt}

À quel âge doit-on faire entrer son enfant à l'école ? Il s'agit d'une préoccupation majeure des parents. D'une part, inscrire son enfant au plus tôt à l'école minimise les coûts de garde d'enfant associés aux années supplémentaires hors de l'école, en plus de maximiser le revenu tout au long de la vie via une insertion professionnelle précoce. Certains résultats de recherche semblent de plus indiquer que les plus jeunes sont plus réceptifs à l'éducation [@MAY:KNU:97]. D'autre part, inscrire son enfant à l'école sans que ce dernier ait atteint un niveau de maturité émotionnelle et intellectuelle suffisant peut considérablement nuire à son apprentissage et par conséquent à son parcours scolaire et à la situation professionnelle qui en découle.  
<!-- Il y avait un papier qui exposait clairement ces deux arguments : le retrouver -->
Cette question est également une préoccupation des pouvoirs publics dans la mesure où de larges différences en performances scolaires dues au seul facteur d'âge d'entrée peuvent se transformer en larges différences en termes de situations professionnelles. En effet, les enfants ne choisissent pas leur date de naissance alors que cette dernière implique, avec la mise en place d'une unique date seuil d'entrée à l'école, que les plus jeunes d'une cohorte scolaire en début d'éducation sont 1 an plus jeunes que leurs camarades les plus âgés.  
  
\quad Ces considérations ont induit une littérature importante concernant les effets de l'âge d'entrée à l'école sur différentes mesures en éducation et sur l'avenir professionnel. @STI:02 propose une revue des études menées sur le sujet entre 1980 et les débuts des années 2000 tandis que @PEN:17 recense des articles plus récents. Par exemple, @LAN:eal:84 mobilisent des données de NAEP de 1979 (*National Assessment of Educational Progress*), une évaluation nationale américaine sur les mathématiques, les sciences et la lecture pour les élèves de 9, 13 et 17 ans, afin d'étudier la corrélation entre l'âge d'entrée et les performances issues de cette évaluation. Similairement, @MAY:KNU:97 utilisent des données du NLSY (*National Longitudinal Survey of Youth Mother-Child*) de 1986 à 1992, une enquête longitudinale américaine récoltant les résultats d'élèves américains issus de différents tests de mathématiques, de vocabulaire et de lecture, pour établir le lien entre l'âge d'entrée à l'école et ces résultats. Cet article s'intéresse également à des mesures non cognitives. Les études sur d'autres pays semblent rares durant cette période. Après le début des années 2000, des recherches sur les pays européens commencent à émerger avec @LEU:eal:04 pour les Pays-Bas, @STO:04 pour la Norvège, @PUH:WEB:05 pour l'Allemagne et @FRE:OCK:05 pour la Suède. Le premier exploite des données d'enquête suivant les élèves de primaire du Pays-Bas sur quatre années scolaires^[L'éducation primaire néerlandaise est constituée de 8 années scolaires, les données de @LEU:eal:04 couvrent les 2^ème^, 4^ème^, 6^ème^ et 8^ème^ années.] afin de mesurer l'effet de la durée d'études sur les résultats en arithmétiques et en langue^[Il est possible d'obtenir une variation de la durée d'études au sein d'une même année scolaire grâce à la règle d'entrée au Pays-Bas conditionnée sur l'âge même de l'enfant au lieu d'une unique date seuil : un enfant peut commencer le primaire le lendemain de son 4^ème^ anniversaire et y est obligé avant ses 5 ans.]. Quant à @STO:04, les résultats des tests PISA (Programme International pour le Suivi des Acquis des élèves) de l'an 2000 sur les élèves norvégiens de 15 à 16 ans sont utilisés pour analyser les effets de l'âge d'entrée nets des effets de la durée d'études^[En exploitant le fait qu'en Norvège, les parents n'ont pas la liberté d'avancer ou de décaler l'inscription de leur enfant et que le redoublement ou le saut de classe n'existe pratiquement pas.]. Une partie de l'étude de @PUH:WEB:05 sur l'Allemagne analyse la relation entre l'âge d'entrée et les notes en lecture d'élèves allemands issus du PIRLS (*Progress in International Reading Literacy Study*). Ces données sont constituées d'échantillons de 4^ème^ année de primaire. Enfin, @FRE:OCK:05 utilisent des données exhaustives de la population suédoise née entre 1935 et 1984 afin d'analyser l'effet de l'âge d'entrée à l'école sur les performances en fin d'études obligatoires (à 16 ans), sur le nombre d'années d'éducation et les sur salaires.  
À notre connaissance, notre étude est la première effectuée à La Réunion et la troisième en France, après @GRE:09 et @FLE:12. Il est particulièrement important d'informer les pouvoirs publics locaux des effets de l'âge sur les performances scolaires, dans la mesure où il est connu que les effets sont pour la plupart plus forts chez les individus défavorisés (voir ci-dessous) et que La Réunion présente un contexte économique et social défavorisé comparé à d'autres régions françaises. 
  
\quad La plupart des articles utilisent le salaire comme variable expliquée pour savoir si les effets des différentiels d'âge issus de divers systèmes éducatifs restent visibles à long terme. Par exemple, @GRE:10, qui utilise les données issues de l'Enquête Emploi (EE) couvrant chaque année un échantillon de ménages français, compare toutes choses égales par ailleurs les salaires horaires des personnes nées en janvier et celles nées en décembre de la même année. Pour la Norvège, @BLA:eal:11 utilisent des données d'éducation et des données fiscales de la population, ce qui leur permet d'établir le lien causal entre l'âge d'entrée et le revenu à 24 et 35 ans. Des recherches américaines ou sur le continent asiatique des effets de l'âge d'entrée sur le salaire existent également^[voir @DOB:FER:10 pour les États-Unis, @NAM:14 pour la Corée du sud ou encore @KAW:11 pour le Japon.].  
  
\quad Il est important de comprendre que lorsque les outputs d'intérêt sont mesurés quand les individus concernés ne sont plus en cours d'étude (salaires ou entrées sur le marché du travail, par exemple), l'effet mesuré est net de l'effet de maturité (effet de l'âge absolu, expliquée dans la Section \@ref(ageintro)). Cela est possible car l'âge d'entrée peut varier indépendamment de la maturité absolue [@BLA:eal:11 ; @FRE:OCK:05].  
  
\quad Lorsque les effets sont mesurés en utilisant les notes au bout d'un ou plusieurs niveaux d'éducations, selon les données à disposition, une différence d'âge d'entrée correspond exactement à la même différence en âge absolu (âge aux examens des niveaux considérés). Dans cette configuration précise, il est difficile de mesurer séparément les effets de l'âge d'entrée de ceux de l'âge absolu et la majorité des articles concernés mesurent systématiquement un effet mixte [@BED:DHU:06 ; @GRE:10 ; @PUH:WEB:05]. Quelques articles ont pu explicitement séparer les effets de l'âge absolu pour en faire la comparaison avec l'âge d'entrée. Le premier à notre connaissance est @CRA:eal:07 qui exploitent le fait qu'en Angleterre, le gouvernement central laisse aux autorités locales la liberté de fixer leur dates seuils d'entrée à l'école afin de dépasser la colinéarité parfaite entre l'âge d'entrée et l'âge absolu. Un autre travail sur données anglaise [@CRA:eal:14] effectue deux estimations sur deux types de notes : le premier est une note mesurée au même moment pour des élèves d'âges différents et le second est une note mesurée pour des élèves du même âge à des moments différents. Sous l'hypothèse que les deux évaluations sont comparables, le premier type d'estimation permet de capter d'éventuels effets de maturité tandis que ce n'est pas le cas pour le second puisque les élèves sont évalués au même âge. @BLA:eal:11 et @CAR:eal:15, quant à eux, utilisent comme variable expliquée des tests de QI administrés à des moments différents pour des individus étant entrés à l'école à des moments différents.  
Quelques articles apportent leur contribution en tentant d'isoler cette fois l'effet de la position dans la distribution d'âge de la classe (âge relatif). @CAS:SCH:16 exploitent les données issues du projet STAR (*Student-Teacher Achievement Ratio*) aux États-Unis qui présente l'intérêt que les élèves sont assignés aléatoirement aux classes, ce qui permet d'obtenir deux variations indépendantes : celle de l'âge d'entrée et celle de l'âge des camarades de classe. @ELD:LUB:09 et @PEN:17 estiment des équations similaires à celles de @CAS:SCH:16.  
L'étude présente, n'observant que l'âge au moment des examens pour des niveaux d'éducation bien précis, ne pourra pas explicitement séparer les effets de l'âge aux examens de ceux de l'âge d'entrée. Toutefois, nous pouvons identifier les élèves d'une même classe et discutons de l'hypothèse que la date de naissance des élèves n'a pas d'influence sur la constitution des classes. Cela nous permet d'isoler d'éventuels effets d'âge relatif à La Réunion. À notre connaissance, notre étude est la première à tenter cette mesure en France. 


\quad Outre la difficile séparation de leurs effets, l'âge d'entrée, l'âge aux examens ou l'âge relatif peuvent être endogènes pour des raisons bien identifiées dans la littérature.  
Dans plusieurs pays, malgré une règle d'âge d'entrée établie, les parents peuvent décaler ou avancer l'entrée de leur enfant. De tels choix sont très probablement liés à des caractéristiques de leur enfant pouvant aussi affecter la réussite scolaire puisque les parents qui jugent leur enfant pas assez mature sur le plan intellectuel et émotionnel ont tendance à attendre un an de plus avant d'envoyer leur enfant à l'école [@GRE:10, par exemple]. De la même manière, les parents qui trouvent que leur enfant est prêt pour l'école peuvent l'y envoyer [@LEU:eal:04, par exemple]. Dans ces pays, une simple différence de performances entre les plus âgés à l'entrée et les plus jeunes peut être attribuée à l'effet de l'âge d'entrée ou à la différence *a priori* entre ceux qui ont décalé/avancé leur inscription et ceux qui ne l'ont pas fait.  
En faisant abstraction du décalage ou de l'avance d'entrée à l'école, l'âge aux examens reste potentiellement endogène si l'on mesure les performances après une ou plusieurs années qui suivent l'entrée à l'école à cause de la pratique du redoublement et du saut de classe : le redoublement étant un signal de difficultés, les élèves qui redoublent, et de fait sont plus âgés aux examens auraient très probablement eu de moins bons résultats s'ils n'avaient pas redoublé.  
Enfin, si certaines écoles regroupent systématiquement des élèves selon leurs âge, l'âge relatif est endogène puisque les camarades de classe d'un élève âgé ne sont pas comparables à ceux d'un élève jeune [@BED:DHU:06].  
  
\quad La stratégie principale pour traiter cette endogénéité est d'utiliser la date de naissance dans l'année^[@BED:DHU:06 pour les pays de l'OCDE ; @GRE:09 pour la France ; @PUH:WEB:05 pour l'Allemagne et @ELD:LUB:09 ou @CAS:SCH:16 pour les États-Unis utilisent des instruments de même nature.] comme instrument de l'âge réel. Cette stratégie est soumise à deux critiques principales. La première est le doute sur l'exogénéité de la date de naissance, principalement motivé par @BUC:HUN:13 qui mettent en évidence sur données américaines des liens systématiques entre les caractéristiques familiales et le mois de naissance, indépendamment du système éducatif^[Par exemple, les mères des enfants nés en début d'année civile ont plus tendance à être dans des catégories sociales modestes par rapport aux mères des enfants nés plus tard dans l'année.]. Malgré cette critique, les recherches ultérieures continuent d'utiliser la date de naissance comme instrument, en montrant qu'elle peut être considérée comme exogène. En guise d'illustration, @CRA:eal:14 ne trouvent pas de différence systématique entre les élèves d'Angleterre nés juste avant la date seuil et ceux nés juste après. Une autre possibilité est de vérifier la robustesse des résultats à la prise en compte des caractéristiques familiales (en tant que variables de contrôle ou effets fixes) dans les équations [@BLA:eal:11 ; @ELD:LUB:09].  
La seconde critique est que cet instrument ne vérifie pas l'hypothèse de monotonie [@IMB:ANG:94] lorsque la variable explicative potentiellement endogène est l'âge réel. Cela rend le coefficient estimé quasiment impossible à interpréter [@ALI:12TRUE ; @FIO:STE:21]. La monotonie requiert qu'être né plus tard dans l'année implique (au sens contrefactuel du terme), pour tout individu, d'être plus jeune. Il est connu que cette condition ne peut pas être vérifiée pour tout le monde dans la mesure où être né plus tard dans l'année augmente empiriquement la probabilité que les parents décident de décaler l'inscription ou la probabilité de redoubler. Cette critique a été explicitement formulée par @BAR:LAN:09 et formalisée par @FIO:STE:21. Par rapport à cette critique, @BLA:eal:11 considèrent que le coefficient estimé par variables instrumentales est une bonne approximation de l'effet moyen de traitement. @ATT:COH:18, quant à eux, trouvent un cadre empirique dans lequel cette hypothèse n'est pas violée.  
Une manière très peu exploitée de contourner le problème d'identification liée à la monotonie est de faire appel à l'approche par fonction de contrôle [@GAR:84]. En imposant des relations paramétriques entre les inobservables déterminants de l'âge et de la performance scolaire, il est possible d'estimer un effet moyen de traitement sans recourir à l'hypothèse de monotonie [@WOO:15]. À notre connaissance, @HAM:KOL:12 sont les premiers et les seuls, jusqu'à présent, à avoir utilisé cette approche pour estimer les effets de l'âge d'entrée sur les notes en 4^ème^ et 8^ème^ année de primaire. Cette rareté est probablement en partie due à une compréhension encore relativement limitée des implications de l'hypothèse de monotonie dans les études sur les effets de l'âge en éducation [@FIO:STE:21].  
  
\quad Une troisième critique sur cette stratégie est qu'elle ne permet pas d'isoler d'éventuels effets directs de la date de naissance puisque cette dernière est utilisée comme instrument [@SMI:09]. Ces effets peuvent être importants, comme le suggèrent les résultats de @CAS:LEW:06 ou de @ATT:COH:18. 

\quad Généralement, lorsque des cohortes de naissance sont à disposition, il est aussi possible de faire appel aux régressions sur une discontinuité pour estimer les effets de l'âge en éducation [@CRA:eal:14 ; @KAI:17 ; @MAT:eal:16, par exemple]. Typiquement, les performances des enfants nés juste après la date seuil sont comparés avec celles des enfants nés juste avant, profitant du fait que ces  deux groupes sont très similaires et diffèrent uniquement par leur âge d'entrée (ou aux examens). Par rapport à la stratégie par variable instrumentale ci-dessus, les modèles de régressions sur une discontinuité ont l'avantage d'inclure explicitement des variables de date de naissance parmi les variables explicatives.  
Les stratégies basées sur la régression sur une discontinuité sont elles aussi soumises à certaines critiques. De manière générale, les résultats présentent des problèmes de validité externe vu que les paramètres estimés ne valent que pour les individus nés au voisinage de la date seuil.  
Basé sur le même type de raisonnement qu'avec @BUC:HUN:13, certains parents pourraient volontairement faire naître leur enfant après le seuil plutôt qu'avant pour des raisons liées à la réussite scolaire. Typiquement, si la règle d'entrée est strictement suivie, un enfant né juste après le seuil fera partie des plus âgés de sa promotion tandis qu'un enfant né juste avant fera partie des plus jeunes. Les parents aisés ayant conscience du désavantage subi par l'enfant né juste avant le seuil pourraient préférer viser explicitement une naissance juste après le seuil [@KIM:21 ; @SHI:15].   
Les individus nés après le seuil n'ont pas systématiquement un an de plus à l'entrée ou aux examens toujours via les décalages/avances d'entrée et les redoublements/sauts de classe. Dans ce cas, les modèles de *Fuzzy Regression Discontinuity*, dans lesquels l'âge est instrumenté par le fait d'être né après ou avant le seuil sont utilisés. @HAH:eal:01 montrent que l'hypothèse de monotonie est également requise pour pouvoir correctement interpréter le paramètre estimé et @FIO:STE:21 montrent que celle-ci n'est généralement pas vérifiée dans les études sur les effets d'âge en éducation. 
  

\quad Par rapport à ces considérations méthodologiques, nous exploitons également la date de naissance dans l'année comme instrument mais nous estimons les effets de l'âge par fonction de contrôle. Nous présentons des arguments empiriques en faveur de la validité de notre instrument. Nous présentons aussi systématiquement les résultats obtenus par variables instrumentales usuelles pour visualiser les éventuels biais liés à la violation de l'hypothèse de monotonie.  
Nous utilisons également des modèles de régressions sur une discontinuité similaire à ceux de @SMI:09 pour prendre en compte d'éventuels effets directs de la date de naissance. 
  
\quad Les études susmentionnées trouvent quasiment toutes un effet positif et important de l'âge d'entrée sur les performances scolaires pendant les premières années d'éducation lorsque la date de naissance est utilisée comme instrument. Par exemple, de tous les pays de l'OCDE concernés par l'article de @BED:DHU:06, un an de plus à l'entrée procure un avantage de plus ou moins 0.3 UET en notes de mathématiques et de science. Aux États-Unis, @DAT:06, @ELD:LUB:09 et @CAS:SCH:16 trouvent un effet positif considérable d'être un an plus âgé à l'entrée à l'école^[Une exception notable est @MAY:KNU:97 qui montrent que les élèves étant entrés plus jeunes ont de meilleures notes. Il est toutefois bien compris aujourd'hui qu'une simple comparaison est biaisée par le fait que les plus jeunes entrants ont vraisemblablement des caractéristiques plus favorables à la réussite par rapport à leurs camarades.]. En France, @GRE:09 montre qu'être né en janvier plutôt qu'en décembre procure un avantage de 0.3 UET en 4^ème^ année de primaire.  
@CRA:eal:07, @CRA:eal:14 (Angleterre) ainsi que @BLA:eal:11 (Norvège) démontrent plus particulièrement que l'âge aux examens est le facteur principal de cette différence. À l'inverse, les résultats de @ELD:LUB:09 affirment qu'aux États-Unis, c'est l'âge d'entrée (plus précisément, l'investissement effectué par les parents avant et hors de l'école) qui importe par rapport à la maturité au moment de l'examen. Ce point semble alors être un élément de désaccord de la littérature mais il dépend très probablement du système éducatif considéré.  
En revanche, l'âge relatif a un effet négatif sur les notes [@CAS:SCH:16 (États-Unis) ; @ELD:LUB:09 (États-Unis) ; @PEN:17 (Mexique) ; @SAN:STO:05 (Norvège) ; @LEU:RON:11 (Norvège)]. Autrement dit, être plus jeune dans la classe est avantageux pour un élève. Les raisons précises de ce constat ne semblent toutefois pas encore claires, à notre connaissance (ajustement du comportement de l'enseignant en fonction de la distribution d'âge de la classe ou effets de pairs).  
  
\quad En ce qui concerne les notes, les résultats obtenus avec les modèles de régressions sur une discontinuité sont qualitativement les mêmes [@MAT:eal:16 (Brésil) ; @CRA:eal:14 (Angleterre) ; @KAI:17 (Finlande)].

\quad De manière générale, il est montré que ces effets diminuent avec le temps à moins que le système éducatif ne pratique des différenciations de parcours très tôt dans le cycle d'éducation. Cela est clairement confirmé pour Israël par @ATT:COH:18 qui trouvent que les effets en mathématiques doublent quasiment lorsqu'ils sont mesurés ultérieurement, parce que des parcours différenciés de mathématiques sont mises en place dès l'âge de 7 ans.

\quad De manière plus nuancée, @HAM:KOL:12 trouvent des coefficients inférieurs mais toujours significatifs lorsque l'approche par fonction de contrôle est utilisée. Il faudrait alors être plus prudent dans l'interprétation des résultats obtenus par variables instrumentales classiques. Plus d'application de l'approche par fonction de contrôle est alors également souhaitable pour de futures recherches. 

<!-- \quad En accord avec cette vaste littérature, avec données en coupe (fonction de contrôle) et via des cohortes de naissance limitées au voisinage d'une date de naissance seuil (régressions sur une discontinuité), nous trouvons des effets très forts à bas âges qui diminuent avec le temps. Nous trouvons toutefois des effets plus forts chez les individus très aisés, contrairement à ce que trouvent la plupart des papiers mais en accord avec les résultats de @ELD:LUB:09. Le contexte français implique alors probablement un modèle d'effet de l'âge similaire à celui présenté par ces derniers auteurs qui explique ces résultats par le fait que la préparation pré-primaire est plus importante que la maturité, du moins jusqu'à la fin du primaire. Quelques résultats d'extensions de nos estimations supportent cette hypothèse.     -->
<!-- Les effets négatifs de l'âge relatif que nous trouvons sont cohérents avec les résultats d'autres papiers.  -->

## Contexte institutionnel {#ageinst}

À La Réunion comme dans toute région française, l'instruction est obligatoire dès 6 ans sur la période étudiée^[À partir de la rentrée 2019, elle est obligatoire dès 3 ans (https://www.education.gouv.fr/la-loi-pour-une-ecole-de-la-confiance-5474).]. Cet âge correspond à l'âge normal d'entrée en primaire. Pour s'inscrire en première année de primaire, les élèves doivent avoir 6 ans au plus tard le 31 décembre de l'année civile de la rentrée. Cependant, certains parents inscrivent leur enfant avec une année de retard ou d'avance. Les parents retardent l'inscription de leur enfant soit parce qu'ils considèrent que ce dernier n'est pas prêt pour l'école soit parce qu'ils espèrent de meilleurs résultats d'un enfant plus âgé. Ils avancent l'inscription de leur enfant s'ils considèrent que ce dernier a atteint une maturité intellectuelle et émotionnelle suffisante pour commencer l'école.  
  
\quad L'école primaire comporte 5 années scolaires : le Cours Préparatoire (CP), les Cours Élémentaire 1^ère^ année et 2^ème^ année (CE1 et CE2), et les Cours Moyen 1^ère^ année et 2^ème^ année (CM1 et CM2). Exceptionnellement, un élève peut redoubler une année de primaire si ses acquis sont jugés insuffisants. Au niveau national, autour de la période d'étude, les taux de redoublement en CP, CE1, CE2, CM1 et CM2 sont respectivement de l'ordre de 3.5\%, 4\%, 1.5\%, 1\% et 1.5\% [@DEP:21, p.64]. Bien qu'ils concernent des périodes plus anciennes, les taux de redoublement présentés dans @CHE:PAR:94 pour La Réunion sont systématiquement plus élevés que ceux de la métropole^[Par ailleurs, en fin de primaire, la part d'élèves étant plus âgé que s'ils étaient entrés en primaire à 6 ans et n'avaient connu aucun redoublement ni saut de classe est supérieure d'environ 4 points de pourcentage à La Réunion par rapport au niveau national [@ACA:12].].

\quad L'année scolaire de CM2 débute vers la fin du mois d'août et se termine vers le début du mois de juillet. Les élèves inscrits à 6 ans en primaire et n'ayant connu aucun redoublement ni saut de classe fêtent leur 10^ème^ anniversaire^[Pour faire court, nous dirons désormais qu'ils ont *normalement* 10 ans.] dans l'année civile qui contient le mois d'août de la rentrée de CM2.  

\quad Dans certaines écoles, les élèves de CM2 et de CM1 partagent la même salle de classe : ce sont les classes multiniveaux.  
  
\quad Généralement, vers la fin du mois de janvier, les élèves passent une évaluation nationale des acquis. Il est constitué de 100 *items*. Chaque item correspond à un exercice ou une question bien précis(e). Un élève obtient 1 point s'il a bien répondu et 0 sinon. Il n'y a pas de point intermédiaire. La note d'un élève à cette évaluation est un nombre entier allant de 1 à 100 et représente le pourcentage de bonnes réponses.
Parmi les 100 items, 60 correspondent à des exercices de français et 40 à des exercices de mathématiques. De plus, les 60 et 40 items peuvent, chacun de leur côté, être subdivisés en 5 sous-composantes d'items évaluant des capacités très précises. Le nombre d'items de mathématiques dans les sous-composantes change au fil des années. Ce n'est pas le cas des items de français. Plus précisément, les 60 items de français sont regroupés en 10, 15, 15, 10 et 10 items d'écriture, grammaire, lecture, orthographe et vocabulaire respectivement. Les 40 items de mathématiques sont regroupés, selon l'année considérée, en 12, 13 ou 15 items de calcul ; 7 ou 5 items de géométrie ; 6, 7 ou 8 items de grandeurs-et-mesures ; 6, 7 ou 8 items de nombre ; et 6 ou 7 items d'organisation-et-gestion-des-données (voir la partie inférieure du Tableau \@ref(tab:agestatsevol)).  
  
\quad Après le CM2, l'élève entre au collège pour 4 années, de la 6^ème^ à la 3^ème^. Normalement, les élèves y entrent à 11 ans et en sortent à 15 ans. Il arrive que certains d'entre eux redoublent. Autour de la période d'étude, le taux de redoublement au niveau national est de 3.3\%, 1.9\%, 3\% et 4.3\% en 6^ème^, 5^ème^, 4^ème^ et 3^ème^, respectivement. Ces chiffres sont légèrement inférieurs à La Réunion. Ils valent respectivement 2.6\%, 1.4\%, 2.6\% et 2.2\%.  
  
\quad Au collège, il n'y a pas de classe multiniveau. 
De manière générale, les collégiens suivent le même programme mais des dispositifs spéciaux peuvent accueillir les élèves présentant de grandes difficultés scolaires. Des options ayant tendance à attirer les élèves les plus performants existent également. Nous désignons par *sections* ces dispositifs ou options spécifiques au niveau des élèves. Plus précisément, la section désavantagée regroupe des élèves en difficulté, la section avantagée regroupe des élèves particulièrement bons et la section normale regroupe le reste. Le Chapitre \@ref(pe) en discute plus en détails.
<!-- L'Annexe \@ref(agesections) fournit plus de détails.  -->  
  
\quad La 3^ème^ est l'année scolaire normale pour obtenir le Diplôme National de Brevet (DNB). Ce dernier est composé d'une part de contrôles continus pour lesquels les élèves sont évalués tout au long de l'année scolaire. D'autre part, vers la fin du mois de juin, les élèves passent les épreuves finales. Elles sont constituées des épreuves orales et des épreuves écrites communes à tous les élèves. Nous considérons uniquement les notes aux épreuves écrites dans nos estimations puisque les contrôles continus et épreuves orales sont spécifiques aux enseignants. Ils ne sont donc pas comparables pour tous les élèves. Les matières concernées par les épreuves écrites qui nous intéressent principalement sont le français et les mathématiques^[Les autres matières sont l'histoire-et-géographie, la physique-chimie, les sciences de la vie et de la terre et les sciences technologiques. Les épreuves écrites de français sont partiellement constituées d'épreuves de dictée et de rédaction. Dans les données, en plus des notes en français et en mathématiques aux épreuves écrites, nous avons à notre disposition les notes en dictée et en rédaction. Les notes sur les autres matières des épreuves écrites ne sont pas disponibles.]. 

## Données {#agedata}

Nous mobilisons principalement deux types de fichiers administratifs bien distincts : un ensemble de fichiers de résultats aux évaluations de CM2 et un autre aux épreuves du DNB. Ils permettent de mesurer les effets de l'âge en fin de primaire et en fin de collège, respectivement. Un troisième type de fichier,  les fichiers dits "constat", est utilisé pour récupérer les informations sur la catégorie sociale des parents, sur l'école ou sur la classe des candidats aux examens de CM2 ou au DNB. Les détails et discussions sur les fichiers constats se trouvent en Annexe \@ref(ageconstats).   
Le caractère exhaustif des informations sur les résultats scolaires rend nos résultats principaux généralisables pour La Réunion. La nature en coupe des données constitue une de leur limite puisqu'elle ne permet pas de connaître la progression des élèves à travers le temps.  
  
\quad Les fichiers de CM2 sont des données en coupe couvrant les 4 années scolaires successives de 2008-2009 à 2011-2012. Pour simplifier, nous désignons l'année scolaire $(t-1)\text{-}t$ par $t$^[Par exemple, l'année scolaire 2008-2009 est désignée par l'année scolaire 2009.]. Pour chaque année scolaire, nous retrouvons tous les candidats aux évaluations de CM2 inscrits dans les écoles publiques et privées sous-contrat de La Réunion. Le nombre d'écoles augmentent de 2009 à 2011 pour baisser en 2012, comme le montrent respectivement la première, la deuxième et la dernière ligne du Tableau \@ref(tab:agestatsevol). Cela est dû à l'ouverture, à la fermeture ou à la fusion des écoles au fil des années d'un côté et à la fermeture des classes de CM2 (hors classes multiniveaux) de l'autre. Il en est de même pour le nombre moyen d'élèves de CM2 par école et le nombre d'élèves. Ce dernier passe d'environ 12000 en 2009 à presque 15000 en 2011 pour redescendre à moins de 14000 en 2012.  
Le *baby boom* des années 2000, discutée dans la Section \@ref(agemethodsrd), constitue une autre explication de ces évolutions d'effectif. 

\quad Au niveau individuel, nous disposons de la note totale, en français et en mathématiques. Les notes en sous-composantes de français (écriture, lecture, grammaire, orthographe, vocabulaire) et de mathématiques (calcul, géométrie, grandeurs-et-mesures, nombre, organisation-et-gestion-de-données) sont également disponibles. Il n'y a pas de valeurs manquantes dans cette variable. Il s'agit de la variable dépendante. Comme illustrée par la première colonne du Tableau \@ref(tab:agestats), la moyenne de note totale sur les 4 années scolaires est de 50. Elle se décline en une moyenne de 32 en français et 19 en mathématiques. Derrière ces chiffres se cachent une hétérogénéité selon les années scolaires puisque la note totale augmente en moyenne d'année en année sauf entre 2009 et 2010 (deuxième groupe de lignes du Tableau \@ref(tab:agestatsevol). Cette hétérogénéité est due à celle de la note en français qui passe de 19 points à 16 points entre 2009 et 2010 et de 16 points à 21 points entre 2010 et 2012^[L'observation des distributions des notes totales, en français et en mathématiques par année scolaire nous conduit à la même conclusion.].  

\quad Nous connaissons également la date de naissance exacte de tous les élèves. En conjonction avec les dates des évaluations de chaque année scolaire, nous pouvons construire l'âge au moment des évaluations de CM2 (que nous désignerons indifféremment par âge aux examens). Les examens se déroulent sur une période de 4 jours. Pour chaque année scolaire, nous considérons un jour "au milieu" pour désigner le jour des évaluations. Les évaluations ont eu lieu le 04 février 2009, les 20 janvier 2010 et 2011 et le 25 mai 2012. Les élèves ont en moyenne un peu moins de 11 ans sur les 4 années scolaires sauf en 2012 du fait du décalage de sa date d'évaluation.  
La connaissance de l'année de naissance et de la règle d'entrée en CP nous permet de déduire l'année scolaire de CM2 dans laquelle un élève devrait normalement se trouver. Nous savons alors s'il est à l'heure, en retard ou avance par rapport à cela. Nous désignons cette dernière information par position. Notons bien que nous ne savons pas si un élève est en retard parce que ses parents ont décalé son inscription ou parce qu'il a redoublé. Les élèves de CM2 sont nés entre 1996 (retrouvés en 2009, ayant deux ans de retard) et 2003 (retrouvés en 2012, ayant deux ans d'avance)^[Nous avons exclu les élèves ayant plus de deux ans de retard ou d'avance. Ces situations sont invraisemblables et de fréquence négligeable.]. 81\% parmi eux sont à l'heure, 17\% en retard et 2\% en avance.  
  
\quad Nous savons si l'élève est une fille ou un garçon. Il y a 50\% de filles et 50\% de garçons.
  
\quad Plus important, nous disposons d'une variable renseignant la catégorie socio-professionnelle de l'un des parents ou d'un tuteur de l'enfant. Cette variable a été récupérée dans les fichiers constats via l'Identifiant National de l'Élève (INE). Une description détaillée de la récupération de cette variable, accompagnée d'une discussion de sa qualité est proposée dans l'Annexe \@ref(ageconstats). Cette variable n'est pas disponible pour 2009 et compte un peu moins de 16\% de valeurs manquantes pour les trois années suivantes. Au lieu d'une version détaillée disponible originalement, nous retenons la version en 4 postes (défavorisée, moyenne, favorisée et très favorisée) de la Direction de l'Évaluation, de la Prospection et de la Performance (DEPP) qui est plus intuitive et préférée dans les études empiriques en éducation en France [@MET:eal:17]. Les correspondances entre la version détaillée et la version en 4 postes  se trouvent dans le Tableau \@ref(tab:agecorrespcsp) de l'Annexe \@ref(agecorrespcsp). De plus, nous disposons d'une modalité "Autre" qui regroupe les catégories non renseignées ou sans objet. Il est important de les distinguer des valeurs manquantes issues de la récupération de la CSP car les deux catégories peuvent différer considérablement en termes de déterminant des performances scolaires^[Par exemple, dans la catégorie "Autre", il y a 55\% de filles tandis que ce chiffre est de 48\% parmi les valeurs manquantes issues de la récupération de la CSP (non reporté). <!-- En termes de notes, les NA sont légèrement plus forts (mean score). -->]. La Réunion compte 56\% d'élèves issus de parents défavorisés. Les élèves de CSP moyenne représentent 24\% de la population. Les très favorisés sont plus nombreux (11\%) que les favorisés (7\%). 
   
\quad Nous disposons également de l'identifiant de la classe avec lequel il est possible de calculer la taille de la classe à l'exception des classes multiniveaux. Pour ces dernières, l'identifiant permet juste de compter le nombre d'élèves de CM2. Nous ne pouvons pas identifier les classes multiniveaux et désignons simplement par taille de classe le nombre de CM2 dans la classe, que cette dernière soit multiniveau ou non. En moyenne, la taille de classe de CM2 est de 23 élèves.   
  
\quad Enfin, nous sommes en possession de l'identifiant de l'école. Il permet de récupérer au sein des fichiers constats deux variables dichotomiques indiquant respectivement si l'école est publique ou privée (statut de l'école) et si elle est en éducation prioritaire ou non. Le système est majoritairement constitué d'écoles publiques (93\%). Le statut d'éducation prioritaire peut changer d'une année à l'autre. Nous repérons globalement 354 écoles dans nos données. Parmi ces dernières, 19 (5\%) ont acquis le statut d'éducation prioritaire et 36 (10\%) l'ont perdue. Sur notre période d'étude, 150 écoles (42\%) sont constamment restées hors éducation prioritaires et 149 (42\%) sont constamment restées en éducation prioritaire. D'ailleurs, le Tableau \@ref(tab:agestatsevol) montre que 51\% et 52\% des écoles sont en éducation prioritaire en 2009 et 2010 tandis que ces chiffres baissent à 48\% en 2011 et 2012^[Cependant, un test de $\chi^2$ indique que cette différence n'est pas significative.].  
En tout, 37\% des écoles ont une classe de CM2, 37\% en ont 2, 22\% en ont 3 et seulement 5\% ont 4 classes ou plus.
  
\quad Les fichiers de DNB concernent les candidats au DNB pour les trois années scolaires de 2014 à 2016^[Ces candidats sont pratiquement tous en 3^ème^. Le nombre d'élèves provenant d'autres niveaux (4^ème^ ou 2^nde^) est négligeable.]. Ces trois années scolaires correspondent respectivement aux années dans lesquelles les élèves de CM2 de 2010, 2011 et 2012 devraient être retrouvés s'ils n'ont connu aucun redoublement ou saut de classe entre le CM2 (y compris) et le collège (y compris), et s'ils n'ont pas quitté le système éducatif réunionnais. Les collèges sont moins nombreux mais accueillent plus d'élèves. Nous comptons 82 collèges à La Réunion qui scolarisent environ 170 élèves de 3^ème^ par établissement. Parallèlement aux nombres d'élèves de CM2, le nombre d'élèves de 3^ème^ augmente entre 2014 et 2015 et baisse, dans une moindre mesure, en 2016. Cela s'explique toujours par l'ouverture, la fermeture ou la fusion des collèges ; ou par la fermeture des classes de 3^ème^ ou le *baby boom* des années 2000.  
  
\quad Nous exploitons principalement les notes globales aux épreuves écrites ainsi que les notes en français et en mathématiques à ces épreuves. Ces variables comptent environ 3\% de valeurs manquantes^[Ces valeurs manquantes ne sont vraisemblablement pas aléatoires puisqu'elles regroupent significativement plus de garçons, plus d'élèves défavorisés et plus d'élèves en régime scolaire externe. Ces variables que nous citons sont présentées ci-dessous. Nous pensons que les biais liés à cette sélection sont relativement faibles, au vu de la faible proportion des valeurs manquantes.]. Ce sont les seules variables avec des valeurs manquantes dans les fichiers de DNB. Ce sont des notes sur 20 et elles ne sont pas des nombres entiers comme les notes au CM2. La moyenne de la note globale est d'environ 10 sur 20. Cette moyenne est de 11 en français et 9 en mathématiques. En s'intéressant à l'hétérogénéité de ces moyennes par année scolaire (Tableau \@ref(tab:agestatsevol)), l'année 2015 apparaît comme exceptionnelle puisque dans celle-ci, les moyennes globales, en français et en mathématiques sont équivalentes tandis que la moyenne en mathématiques est nettement inférieure à celle en français pour les autres années.  
  
\quad Comme dans les fichiers de CM2, la date de naissance exacte est renseignée dans les fichiers de DNB et nous permet de calculer, sachant les dates des épreuves, l'âge au moment des examens de DNB. Les candidats au DNB ont un peu plus de 15 ans en moyenne. Cet âge moyen est le même chaque année car les épreuves ont lieu aux mêmes périodes de l'année, à quelques jours près.  
La part des élèves à l'heure en 3^ème^ est de 79\%. Ce chiffre est inférieur à celui de CM2 (81\%) puisque le redoublement est pratiqué entre le CM2 (y compris) et la 3^ème^ (y compris).  
  
\quad Nous disposons également d'une variable dichotomique de sexe. Les filles et les garçons sont toujours également répartis.
  
\quad La variable de CSP est présente dans les fichiers de DNB. Nous retenons ici encore la version en 4 postes pour les mêmes raisons évoquées que dans le cas du CM2. Les proportions sont les mêmes qu'au CM2 : 56\% de défavorisés, 24\% d'élèves de CSP moyenne, 8\% et 12\% de favorisés et très favorisés respectivement.    
  
\quad Outre l'absence de valeurs manquantes dans les variables autres que les notes, un avantage des bases de DNB est qu'elles contiennent une information sur le régime scolaire. Il s'agit des modalités d'entrée et de sortie de l'élève au collège, notamment pendant le repas du midi. Bien que nous disposions de détails plus fins, nous exploitons une version groupée de la variable. Cela permet d'avoir assez d'observations sans perdre l'intuition. Un élève en régime de demi-pensionnaire prend son déjeuner à la cantine puis quitte l'établissement lorsque la journée des cours est terminée. Un élève en régime interne prend son déjeuner et son dîner au sein de l'établissement. Un élève en régime externe ne prend aucun repas au sein de l'établissement.  
Il est connu que cette variable est liée au revenu des parents car le régime de demi-pensionnaire ou interne implique de payer les repas. En l'occurrence, la proportion d'élèves très favorisés parmi ceux en régime de demi-pensionnaire est de 16\% tandis qu'elle n'est que de 5\% parmi ceux en régime externe.  
  
\quad Nous récupérons l'identifiant de la classe de 3^ème^ depuis les fichiers constats (voir Annexe \@ref(ageconstats)). Comme il n'y a pas de classes multiniveaux en 3^ème^, cette variable permet de calculer la taille de classe de 3^ème^. Elle est de 24 élèves en moyenne. Cette moyenne est la même pour toutes les années scolaires.  
  
\quad L'identifiant de l'école a été également récupéré depuis les fichiers constats sans qu'aucune valeur manquante ne soit à mentionner au bout. Les caractéristiques des collèges (statut et éducation prioritaire) sont fondamentalement les mêmes que les écoles (CM2) : 93\% des établissements sont publics et la moitié environ sont en éducation prioritaire. Le statut d'éducation prioritaire n'est toujours pas le même au cours des années scolaires. Sur les 82 collèges détectées chaque année, 10 (12\%) acquièrent le statut d'éducation prioritaire et 5 (6\%) le perdent. 32 (39\%) et 35 (43\%) sont constamment hors éducation prioritaire et en éducation prioritaire. 

\newpage  
```{r, "agestatsevol"}
agestats_evol %>% as.data.frame %>% 
  rownames_to_column %>%
  full_join(agestats_evold %>% as.data.frame %>%
              rownames_to_column %>% 
              mutate(rowname = str_replace(rowname, 
                                           "ep\\.1",
                                           "ep.oui"))) %>% 
  column_to_rownames %>% 
  apply(2, function (x) replace_na(x, "-")) %>% 
  
  (function (d) {
    rownames(d) <- rownames(d) %>% agereplace_evol
    d
  }) %>% 
  (function (x) rbind(x[1:(nrow(x) - 1), ], rep("", ncol(x)),
                      "Observations" = x["Observations", ])) %>% 
  kable(booktabs = TRUE, escape = FALSE, longtable = TRUE, 
        linesep = "",
        caption = "Évolution de quelques chiffres sur l'éducation à La Réunion") %>% 
  group_rows(" ", 1, 3) %>%
  group_rows(" ", 4, 6) %>% 
  group_rows(" ", 7, 7) %>% 
  group_rows("Nombre d'items en", 8, 18, ) %>% 
  add_header_above(c("", "CM2" = 4, "DNB" = 3)) %>% 
  kable_styling(font_size = 8) %>% 
  footnote(general = c("\\\\textit{Sources :} Fichiers CM2 (2009 à 2012), Fichiers DNB (2014 à 2016), calculs de l'auteur.", 
                       "\\\\textit{Notes :} La première ligne renseigne des effectifs, la seconde une moyenne et la troisième des proportions. Les 3 lignes suivantes montrent des moyennes. Au CM2, la note totale est un nombre entier entre 1 et 100, la note en français entre 1 et 60 et la note en mathématiques entre 1 et 40. Au DNB, ce sont des notes sur 20. CM2 : Cours Moyen 2\\\\textsuperscript{ème} année. DNB : Diplôme National du Brevet.")) %>% 
  landscape()
```
  
\newpage  
```{r, "agestats"}
agestats %>% as.data.frame %>% 
  
  (function (d) 
    set_rownames(d, str_replace(rownames(d), "notecm2", "note") %>% 
                   str_replace("notefrcm2", "notefr") %>% 
                   str_replace("notemathscm2", "notemaths"))) %>% 
  
  ## Joint à agestatsd et réordonne les lignes : 
  (function (d) {
    
    agestatsd <- as.data.frame(agestatsd) %>% 
      set_colnames("agestatsd")
    
    rownames(agestatsd) <- 
      str_replace(rownames(agestatsd),
                  "notednb", "note") %>% 
      str_replace("notefrdnb", "notefr") %>% 
      str_replace("notemathsdnb", "notemaths")
    
    rownames_to_column(d) %>% 
      full_join(agestatsd %>% as.data.frame() %>%
                  set_colnames("agestatsd") %>% 
                  rownames_to_column()) %>% 
      column_to_rownames %>% 
      (function (d2)
      d2[c(rownames(d) %>% 
            (function (r) r[! r %in% c(" ", "obs")]),
           rownames(as.data.frame(agestatsd)) %>% 
            (function (r) r[! r %in% rownames(d)]),
          " ", "obs"), ])
  }) %>% apply(2, function (x) replace_na(x, "-")) %>% 
  
  ## Enlever cdi et rdcdi
  (function (d) d[! rownames(d) %in% 
                    c("notednb", 
                      "notefrdnb", 
                      "notemathsdnb"), ]) %>% 
  
  (function (d) {
    rownames(d) <- 
      str_replace(rownames(d), "^note$", "Note totale") %>% 
      str_replace("notefr", "Note en français") %>% 
      str_replace("notemaths", "Note en mathématiques") %>% 
      str_replace("age", "Âge aux examens") %>% 
      str_replace("position_red", "En retard") %>% 
      str_replace("position_heu", "À l'heure") %>% 
      str_replace("position_av", "En avance") %>% 
      str_replace("sexe_f", "Filles") %>% 
      str_replace("sexe_m", "Garçons") %>% 
      str_replace("pcs_defav", "Défavorisés") %>% 
      str_replace("pcs_moy", "Moyens") %>% 
      str_replace("pcs_fav", "Favorisés") %>% 
      str_replace("pcs_tresfav", "Très favorisés") %>% 
      str_replace("pcs_autres", "Autres") %>% 
      str_replace("regime_dp", "Demi-pensionnaires") %>% 
      str_replace("regime_int", "Internes") %>% 
      str_replace("regime_ext", "Externes") %>% 
      str_replace("obs", "Observations")
    d
  }) %>%
  set_colnames(c("CM2", "CM2-DNB", "CM2-RD", "CM2-DNB-RD",
                 "DNB")) %>% 
  as.data.frame %>% 
  select("CM2",
         "CM2-RD",
         "DNB") %>% 
  rename("\\makecell[l]{CM2, nés en \\\\ 1999 et 2000}" = 
           "CM2-RD") %>% 
  kable(booktabs = TRUE, longtable = TRUE, linesep = "",
        caption = "Statistiques descriptives",
        escape = FALSE) %>% 
  group_rows(" ", 1, 3) %>%
  group_rows(" ", 4, 4) %>% 
  group_rows("Position", 5, 7) %>% 
  group_rows("Sexe", 8, 9) %>% 
  group_rows("CSP", 10, 14) %>% 
  group_rows("Régime scolaire", 15, 17) %>% 
  kable_styling(font_size = 8) %>% 
  footnote(general = c("\\\\textit{Sources :} Fichiers CM2 (2009 à 2012), Fichiers DNB (2014 à 2016), calculs de l'auteur.", 
                       "\\\\textit{Notes :} Moyennes et proportions. Écart-types entre parenthèses. La note totale au CM2  est un nombre entier entre 1 et 100, la note en français entre 1 et 60 et la note en mathématiques entre 1 et 40. Les notes au DNB sont des notes sur 20. Les proportions de CSP au CM2 et au DNB sont calculées hors valeurs manquantes. On décompte 16\\\\% de valeurs manquantes au CM2 et aucune au DNB. Les fichiers de CM2 ne contiennent pas d'informations sur le régime scolaire. La deuxième colonne concerne les élèves nés en 1999 et 2000. Elle représente les données de départ pour les estimations de régression sur une discontinuité. CM2 : Cours Moyen 2\\\\textsuperscript{ème} année. DNB : Diplôme National du Brevet. CSP : Catégorie Socio-Professionnelle."))
act <- NA
```

\newpage
## Méthodologie {#agemethods}

### Approche par fonction de contrôle {#agemethodscfh}

Nous souhaitons mesurer l'effet de l'âge au moment des examens sur les performances en fin de primaire et de collège à La Réunion. Notre équation d'intérêt est la suivante \ :

```{=tex}
\begin{equation}
(\#eq:ageols)
y_{i} = \alpha_0 + \alpha_1 a_{i} + x'_{i} \alpha_2 + \epsilon_{i},
\end{equation}
```
dans laquelle $y_{i}$ désigne une note (totale, en français ou ses composantes, et en mathématiques ou ses composantes) aux évaluations de CM2 de l'individu $i$ et $a_i$ son âge au moment des examens^[La nature en coupe de nos données implique que nous observons généralement un élève une fois. Les très rares cas où il est observé plusieurs fois correspondent aux redoublements de CM2. Ainsi, pour alléger les notations, nous n'utilisons des indices de classe, école et année que si cela est nécessaire.]. Comme $a_i$ est construite avec les dates de naissance exactes, elle bénéficie d'un maximum de variabilité. Le vecteur $x_{i}$ inclut les variables de contrôle suivantes : le sexe, la catégorie sociale et l'année scolaire[^5]. Le terme d'erreur $\epsilon_{i}$ représente l'ensemble des facteurs inobservés qui déterminent les résultats aux évaluations nationales. Les facultés cognitives et non cognitives (que nous désignerons désormais par *facultés*) constituent un exemple typique de ces caractéristiques. <!--## Pas de traits d'union après le non quand c'est un nom. -->

[^5]: Contrôler par l'année scolaire permettrait de capturer l'effet des facteurs inobservés spécifiques à l'année (spécificité des examens, par exemple). De plus, cela atténue le biais lié à l'inflation de notes observée dans les données (voir Section \@ref(agedata)).

\quad Le paramètre d'intérêt est $\alpha_1$. Il désigne l'effet d'avoir une année en plus au moment des examens sur la note. Rappelons toutefois que dans notre contexte, il contient également l'effet de l'âge d'entrée et de la durée d'études (et, dans une moindre mesure, celui de l'âge relatif, comme discuté dans la Section \@ref(ageintro)) puisque ces trois quantités varient parallèlement, pour un individu donné : l'âge aux examens est la somme de l'âge d'entrée et la durée d'études.

\quad Les différences d'âge entre élèves au moment des examens ne proviennent pas uniquement des différences dans les mois de naissance. Elles proviennent également du fait que les élèves dans la même année scolaire ne sont pas nés la même année, impliquant la présence des élèves en retard et en avance.  
  
\quad Si un élève est en retard, c'est soit parce que ses parents ont décalé son inscription, soit parce qu'il a redoublé avant ou au CM2. Dans le premier cas, les parents auraient constaté que leur enfant n'est pas encore prêt à aller à l'école ou bien auraient voulu attendre que leur enfant soit relativement plus âgé que ses futurs camarades pour en tirer un avantage [@DAT:06]. Dans le second cas où l'élève a redoublé, cela veut dire que ses résultats scolaires antérieurs ont été jugés comme insuffisants.\
Le retard après redoublement ou retard d'entrée par manque de maturité induit une corrélation négative entre $a_i$ et $\epsilon_i$ tandis que le cas du retard par stratégie parentale induit une corrélation positive entre $a_i$ et $\epsilon_i$.\

\quad Un élève est en avance au CM2 parce qu'il est entré en avance ou a sauté une ou plusieurs classes. Dans le premier cas, les parents auraient jugé que leur enfant est suffisamment mature pour entrer à l'école. Le second cas traduit le fait que l'enfant possède un capital humain et un potentiel d'accumulation de capital humain suffisant pour se permettre le saut de classe.  
Tous les cas d'avance induisent une corrélation positive entre $a_i$ et $\epsilon_i$. 

\quad Les données à disposition ne permettent pas de déterminer empiriquement lequel des cas de retard ci-dessus prévaut. @GRE:09 indique que pour la France entière, les redoublants sont les plus nombreux. Nous faisons l'hypothèse que cela est également vrai pour La Réunion. Cette hypothèse nous semble crédible, le système éducatif étant le même. La part des élèves en avance est moindre (2\%). Cela implique que l'estimation par les moindres carrés ordinaires de l'équation \@ref(eq:ageols) conduit à un paramètre sous-estimé. 
  
\quad Pour résoudre ce problème, nous utilisons une stratégie basée sur les variables instrumentales [voir par exemple @BED:DHU:06].
  
\quad Pour développer notre stratégie d'identification, notons un fait que nous n'avons pas encore évoqué jusqu'ici : la date de naissance^[Sous quelle forme que ce soit : jour ou mois, par exemple.] *dans l'année* (c'est-à-dire indépendamment de l'année de naissance) est liée à la probabilité d'être en retard ou en avance. Cela est illustré par la Figure \@ref(fig:agemoisposition) qui montre, pour chaque mois de naissance[^6], la proportion d'individus en retard et en avance. Nous constatons clairement qu'être né de plus en plus tard (respectivement plus tôt) dans l'année augmente la probabilité d'être en retard (respectivement en avance). Ce lien entre la date de naissance dans l'année et le fait d'être en retard ou en avance peut être aisément expliqué. En effet, être né plus tard dans l'année civile équivaut à être relativement plus jeune, c'est-à-dire moins prêt à entrer à l'école ou encore être moins mature. Cela augmente alors la probabilité que les parents décalent l'entrée à l'école (qui jugent leur enfant trop jeune) ou de redoubler. Un raisonnement symétrique s'applique aux élèves en avance. 

[^6]: Nous choisissons de prendre le mois de naissance au lieu du jour de naissance pour avoir un nombre assez élevé d'observations dans chaque modalité.

```{r, "agemoisposition", fig.cap = "Proportion d'élèves en retard et en avance par mois de naissance"}
agemois_position %>% 
  (function (a) {
    a$mapping$colour <- a$data$position
    a
  }) +
  scale_linetype_manual(name = "Position",
                        labels = c("En retard", "En avance"),
                        values = c("solid", "dashed")) + 
  scale_color_manual(name = "Position",
                        labels = c("En retard", "En avance"),
                        values = c("red", "green")) + 
  scale_x_discrete(labels = mois) + 
  scale_y_continuous(labels = scales::percent) + 
  labs(x = "Mois de naissance",
       y = "Proportion",
       caption = "Sources : Fichiers CM2 (2009 à 2012), calculs de l'auteur. \nNotes : Démontre le lien entre la date de naissance dans l'année, \nprésentée ici sous-forme de mois de naissance, \net la probabilité d'être en retard ou en avance. La somme de la part des élèves à l'heure, \nen retard et en avance par mois de naissance vaut 1 dans ce graphique. \nLa ligne correspondant à la proportion des élèves à l'heure n'est pas montrée.") + 
  theme_bw() + 
  mytheme %>% 
  (function (m) {
    m$axis.text.x <- element_text(angle = 45, hjust = 1) 
    m$legend.position <- "bottom"
    m$legend.key.size <- unit(2, "line")
    m$plot.caption <- element_text(vjust = - 1,
                                   size = m$plot.caption$size,
                                   hjust = 0)
    m
    })
act <- NA
```

Cela nous amène à utiliser la date de naissance dans l'année comme instrument de l'âge aux examens.  
Concrètement, nous ajoutons au modèle l'équation de première étape suivante :

```{=tex}
\begin{equation}
(\#eq:agepe)
a_{i} = \delta_0 + \delta_1 z_{i} + x'_{i} \delta_2 + \nu_{i}, 
\end{equation}
```
où la variable $z_{i}$ désigne la transformation linéaire du jour de naissance suivante :

$$
z_{i} = \frac{365 + I(t = 2012) - d_{i}}{365.25}, 
$$

telle que $d_{i}$ représente le jour de naissance dans l'année de l'individu[^7] et $I()$ la fonction indicatrice. L'écriture du numérateur permet de prendre en compte le fait que 2012 était une année bissextile. Ce mode de calcul fait ressortir la distance entre le jour de naissance de l'élève et le dernier jour de l'année (numérateur), exprimée en années (dénominateur)^[Exprimer l'instrument en années est pratique pour interpréter le coefficient estimé de première étape puisque la variable dépendante de la première étape, l'âge aux examens, est exprimé en années.]. Elle prend des valeurs comprises entre 0 et 1. Dans la littérature des effets de l'âge, $z_{i}$ est appelée *âge relatif théorique* [@GRE:09, par exemple]^[*Relatif* par rapport au plus jeune de l'année scolaire qui est né le dernier jour de l'année. *Théorique* dans le sens où l'élève serait entré à l'heure à l'école et n'a connu aucun redoublement ou saut de classe.]. Cette variable équivaut à la variable de jour de naissance dans l'année. La transformation linéaire rend plus pratique l'interprétation des résultats d'estimation de la première étape. Le terme d'erreur $\nu_{i}$ regroupe les facteurs inobservés déterminants de l'âge aux examens (parallèlement de l'âge d'entrée et de la durée d'études jusqu'au CM2). Ils peuvent contenir, par exemple, en plus des facultés, la maturité sous différents angles [@HAM:KOL:12] qui déterminent le choix des parents de retarder ou d'avancer l'entrée à l'école de leur enfant ; ou la décision de redoublement ou de saut de classe de la part des responsables d'éducation.

[^7]: $d_i = 1$ pour un élève né le premier janvier, $d_i = 2$ pour celui né le 02 Janvier, etc..

\quad En suivant @IMB:ANG:94, @ANG:IMB:95 et @ANG:eal:96, deux conditions doivent être remplies pour que notre instrument soit valide.

\quad Premièrement, $z_i$ doit pouvoir être considérée comme exogène. Cela implique l'absence de corrélation entre la date de naissance et les facultés (déterminants inobservables des notes). Cette hypothèse peut être testée en analysant si certaines catégories sociales de parents tendent à faire naître leurs enfants à certaines périodes de l'année, et si oui, dans quelle mesure cela nuit à l'identification. @BUC:HUN:13 et @GRE:09 montrent qu'il existe un lien entre la catégorie sociale des parents et la date de naissance. Nous nous demandons s'il en est de même à La Réunion. À La Réunion, la distribution des naissances n'est clairement pas uniforme, comme nous pouvons le voir sur la Figure \@ref(fig:agenais). Un test de $\chi^2$ rejette d'ailleurs l'hypothèse d'uniformité de cette distribution.  

```{r, "agenais", fig.cap = "Distribution des valeurs de l'âge relatif (en mois de naissance) à La Réunion"}
agenais %+% 
  geom_bar(stat = "identity", fill = "gray69") +
  geom_hline(yintercept = 1/12, linetype = "dashed") +
  labs(x = "Âge relatif théorique (en mois de naissance)",
       y = "Proportion",
       caption = "Sources : Fichiers CM2 (2009 à 2012), calculs de l'auteurs. \nNotes : L'âge relatif théorique est montré sous forme de mois de naissance pour coller avec l'intuition et la suite \ndu raisonnement. \nLa barre horizontale en pointillées représente les proportions théoriques sous une distribution uniforme.") + 
  scale_x_discrete(labels = mois) + 
  scale_y_continuous(labels = scales::percent) +  
  theme_bw() + 
  mytheme %>% 
  (function (m) {
    m$axis.text.x <- element_text(angle = 45, hjust = 1)
    m$plot.caption <- element_text(vjust = - 1,
                                   size = m$plot.caption$size,
                                   hjust = 0) 
    m
    })
act <- NA
```

Cependant, la distribution du mois de naissance ne semble pas liée à la CSP des parents à La Réunion, comme nous pouvons le constater sur la Figure \@ref(fig:agemoispcs). L'année 2009 ne comportant pas de variable de CSP, cette figure est construite sur les données de 2010 à 2012. Les mois de naissance semblent distribués de la même manière pour toutes les catégories (y compris les valeurs manquantes), à l'exception de la catégorie "Autres". Au sein de cette catégorie, les élèves nés en septembre et en janvier sont sous-représentés. Toutefois, cela n'est très probablement dû qu'au très faible nombre d'observations dans la catégorie "Autres" (290, soit 0.7% du total en comptant les valeurs manquantes). Ainsi, visuellement, nous ne détectons *a priori* pas de lien entre la date de naissance et la catégorie sociale des parents à La Réunion.

```{r, "agechisq"}
agechisq_stat <- agechisq$statistic %>% round(2)
agechisq_pval <- agechisq$p.value %>% round(2)
```

En plus de ce diagnostic visuel, nous effectuons un test de $\chi^2$ dont l'hypothèse nulle est l'indépendance entre le mois de naissance et la catégorie sociale.[^12] La statistique de test correspondante est de `r agechisq_stat` (probabilité critique de `r agechisq_pval`). Cette conclusion demeure que l'on effectue le test par année et en excluant les valeurs "Autres" et manquantes de la catégorie sociale (voir Annexe \@ref(agechisqsupp))^[De plus, même en détectant un tel lien, le conditionnement sur la catégorie sociale atténuerait d'éventuels différences en facultés des enfants nés à différentes périodes de l'année. Intuitivement, même s'il s'avérait que les parents aisés visent le premier trimestre par exemple, il ne devrait pas y avoir de différences en facultés entre les aisés du premier trimestre et ceux des trimestres restants.].\  

[^12]: Nous empilons toujours les 3 années 2010, 2011 et 2012 pour effectuer ce test et nous utilisons les valeurs manquantes comme modalité à part entière.

```{r, "agemoispcs", fig.cap = "Distribution des mois de naissance par catégorie sociale à La Réunion"}
agemois_pcs %>% 
  (function (g) {
    g$data <- 
      mutate(g$data, 
             pcsR2 = str_replace(pcsR2, "Defav", 
                                 "Défavorisés") %>% 
               str_replace("Moy", "Moyens") %>% 
               str_replace("Fav", "Favorisés") %>% 
               str_replace("Tresfav", "Très favorisés") %>% 
               str_replace("NA", "Manquantes")) %>%
  (function (d) group_by(d, pcsR, pcsR2) %>% summarise %>% 
     pull(pcsR2) %>% (function (p) mutate(d, pcsR2 = factor(pcsR2, levels = p))))
    g
  }) %+% 
  geom_bar(stat = "identity", fill = "gray69") +
  geom_hline(yintercept = 1/12, linetype = "dashed") + 
  scale_x_discrete(labels = mois) + 
  scale_y_continuous(labels = scales::percent) + 
  labs(x = "Mois de naissance",
       y = "Proportion",
       caption = "Sources : Fichiers CM2 (2009 à 2012), calculs de l'auteur. \nNotes : L'âge relatif théorique est montré sous forme de mois de naissance pour coller avec l'intuition. \nLa barre horizontale en pointillées représente les proportions théoriques sous une distribution uniforme.") + 
  theme_bw() + 
  mytheme %>% 
  (function (m) {
    m$axis.text.x <- element_text(angle = 45, hjust = 1)
    m$plot.caption <- element_text(vjust = - 1,
                                   size = m$plot.caption$size,
                                   hjust = 0) 
    m
    })
```

L'exogénéité de l'instrument signifie également que $z_i$ ne doit avoir d'effet sur $y_i$ qu'à travers $a_i$. Cette condition est appelée plus communément la restriction d'exclusion. Formulé autrement, la date de naissance ne devrait pas avoir d'effet direct sur la note [@DAT:06]. Cette hypothèse n'est pas directement testable en l'absence d'autres instruments. Néanmoins, nous pouvons évaluer sa crédibilité en divisant la variation de $z_i$ en plusieurs parties et en utilisant une partie de sa variation comme instrument et une autre partie comme variables de contrôle de l'équation structurelle \@ref(eq:ageols). Concrètement, nous prenons l'indicatrice de naissance au mois de janvier comme instrument de l'âge aux examens et utilisons les autres indicatrices comme variables explicatives [voir @GOU:MAU:07 qui utilisent une technique similaire]. Les résultats sont indiqués dans la colonne (4) du Tableau \@ref(tab:agemodels). Nous constatons que l'effet de l'âge mesuré par le modèle est similaire aux résultats principaux. De plus, les coefficients devant les indicatrices de mois de naissance sont conjointement non significatifs. Bien que cela ne prouve pas l'absence d'effet direct de la forme principale de notre instrument sur la note, ce résultat nous fait aller dans ce sens^[Utiliser des versions alternatives de bimestre ou trimestre de naissance (régressions non reportées) ne change pas cette conclusion.].

\quad Deuxièmement, $z_i$ doit être corrélée avec $a_i$. Cette condition est quant à elle directement vérifiable avec l'estimation de la première étape (équation \ref{eq:agepe}). Le résultat est clair : être né en janvier plutôt qu'en décembre augmente la moyenne d'âge aux examens de 0.8 année (colonne 1 du Tableau \@ref(tab:agemodels)). Ce coefficient est élevé (presque égale à 1) et très significatif. Cette forte relation entre l'âge relatif théorique et l'âge aux examens s'explique par la grande proportion d'élèves à l'heure dans le système (80%).

\quad Enfin, il convient de donner un sens clair du coefficient estimé $\hat{\alpha_1}$. Sous l'hypothèse d'homogénéité de l'effet de l'âge, il est connu que nous estimons un paramètre du type effet moyen de traitement. En effet, nous pouvons définir l'effet de l'âge pour un individu en particulier :

```{=tex}
\begin{equation}
(\#eq:ageeffethetero)
\alpha_{1i} = \alpha_1 + e_{1i}
\end{equation}
```
Cette équation traduit le fait que l'effet de l'âge pour un individu est une variable aléatoire composée d'un effet moyen $\alpha_1 = E(\alpha_{1i})$ et d'un terme aléatoire propre à l'individu $e_{1i}$. Ainsi, l'équation structurelle (équation \ref{eq:ageols}) suppose implicitement $\alpha_{1i} = \alpha_1, \forall \ {i}$. Cette hypothèse est difficilement crédible : l'effet de l'âge peut dépendre des facultés. Et certains parents peuvent choisir l'âge d'entrée (et donc dans une certaine mesure l'âge aux examens) de leur enfant en fonction de cette information. Dans cette configuration où l'effet de l'âge est hétérogène, nous savons que le paramètre $\alpha_1$ n'a pas de sens bien défini [@ANG:IMB:95]. \
\
Pour surmonter ce problème, @IMB:ANG:94 et @ANG:IMB:95 montrent que sous une hypothèse moins forte qu'est la monotonie, $\alpha_1$ est l'effet de l'âge pour les individus dont la date de naissance affecte (au sens contrefactuel du terme) l'âge aux examens. Cette hypothèse implique que le signe de l'effet de $z_i$ sur $a_i$ (au sens contrefactuel du terme) doit être le même pour tous les individus. Ramenée à notre étude, l'hypothèse de monotonie implique qu'être né plus tard dans l'année (respectivement plus tôt) induise tous les individus à passer les examens plus jeunes (respectivement plus âgés). Or, dans le contexte présent, nous savons qu'être né plus tard (respectivement plus tôt) augmente la probabilité d'entrer à l'école tardivement ou de redoubler (respectivement entrer à l'école en avance). Cela veut dire qu'être né plus tard (respectivement plus tôt) dans l'année induit certains élèves à être plus âgés (respectivement plus jeunes) aux examens. Cette dernière proposition est directement contraire à la condition de monotonie. La violation de l'hypothèse de monotonie dans la majorité des études sur l'effet de l'âge est bien documentée dans la littérature récente sur les effets de l'âge. Elle a par exemple été signalée par @BAR:LAN:09, discutée dans @BLA:eal:11 et plus récemment explicitée dans @FIO:STE:21.

\quad L'hypothèse de monotonie et d'homogénéité de l'effet de l'âge ne sont pas crédibles : nous ne pouvons pas correctement identifier la nature du paramètre $\alpha_1$ par variables instrumentales traditionnelles. Pour surmonter ce problème, nous présentons le modèle avec une approche par fonction de contrôle, qui ne requiert pas l'hypothèse de monotonie, en suivant @HAM:KOL:12. 
L'équation structurelle \@ref(eq:ageols) peut se réécrire en prenant directement en compte l'effet hétérogène de l'âge : 

```{=tex}
\begin{equation}
(\#eq:ageolshetero)
y_{i} = \alpha_0 + \alpha_{1i} a_{i} + x'_{i} \alpha_2 + \epsilon_{i}.
\end{equation}
```
Dans l'équation \@ref(eq:ageolshetero), nous substituons $\alpha_{1i}$ par son expression dans l'équation \@ref(eq:ageeffethetero) :

```{=tex}
\begin{equation}
(\#eq:ageolsheterodev)
y_{i} = \alpha_0 + \alpha_1 a_{i} + x'_{i} \alpha_2 + \epsilon_{i} + e_{1i} a_{i}
\end{equation}
```

À partir de l'équation \@ref(eq:ageolsheterodev), nous pouvons retrouver l'expression de $E(y_i \mid a_i, x_i)$, en suivant @GAR:84 [p. 1205] : 

```{=tex}
\begin{equation}
(\#eq:ageolsheterodev2)
E(y_i \mid a_i, x_i) = \alpha_0 + \alpha_1 a_i + x_i' \alpha_2 + E(\epsilon_i +e_{1i} a_i \mid a_i, x_i),
\end{equation}
```

avec 

```{=tex}
\begin{equation}
(\#eq:ageolserror)
\begin{aligned}
& E(\epsilon_i +e_{1i} a_i \mid a_i, x_i) &=& 
E(\epsilon_i +e_{1i} a_i \mid a_i = \delta_0 + \delta_1 z_i + x_i'\delta_2 + \nu_i, x_i) \\
& &=& E(\epsilon_i + e_{1i} a_i \mid \nu_i, z_i, x_i) \\
& &=& E(\epsilon_i \mid \nu_i, z_i, x_i) \\
& && + E(e_{1i} a_i \mid \nu_i, z_i, x_i)
\end{aligned}
\end{equation}
```

Sous l'hypothèse d'exogénéité de $z_i$ et considérant que $x_i$ est exogène par construction, $E(\epsilon_i \mid \nu_i, z_i, x_i) = E(\epsilon_i \mid \nu_i)$ et $E(e_{1i} a_i \mid \nu_i, z_i, x_i) = E(e_{1i} a_i \mid \nu_i)$. Sachant cela et en s'aidant de l'équation \@ref(eq:ageolserror), nous pouvons réécrire l'équation \@ref(eq:ageolsheterodev2) comme suit : 

```{=tex}
\begin{equation}
(\#eq:ageolsheterodev3)
E(y_i \mid a_i, x_i) = \alpha_0 + \alpha_1 a_i + x_i' \alpha_2 + E(\epsilon_i \mid \nu_i) + E(e_{1i} a_i \mid \nu_i) 
\end{equation}
```

À partir de l'équation \@ref(eq:ageolsheterodev3), l'approche par fonction de contrôle prenant en compte l'hétérogénéité de l'effet de l'âge nécessite deux hypothèses qui concernent l'écriture des deux derniers termes. La première est la relation linéaire entre l'erreur de l'équation structurelle $\epsilon_i$ et l'erreur de première étape $\nu_i$. La seconde est la relation linéaire entre l'aléa de l'effet de l'âge $e_{1i}$ et l'erreur de première étape $\nu_i$. Cela nous permettra d'arriver à une réécriture de l'équation structurelle telle que les paramètres estimés par les moindres carrés ordinaires sont convergents [voir @WOO:15, par exemple]. Formellement, ces deux hypothèses peuvent s'écrire comme suit : 

```{=tex}
\begin{equation} 
(\#eq:agehypcf1)
E(\epsilon_i \mid \nu_i) = c_1 \nu_i
\end{equation}
```

et 

```{=tex}
\begin{equation}
(\#eq:agehypcf2)
E(e_{1i} \mid \nu_i) = c_2 \nu_i
\end{equation}
```

<!-- Qu'est-ce que ça raconte ? -->

En intégrant les expressions des équations \@ref(eq:agehypcf1) et \@ref(eq:agehypcf2) dans l'équation \@ref(eq:ageolsheterodev3), nous obtenons : 

```{=tex}
\begin{equation}
(\#eq:ageolscfhesp)
E(y_i \mid a_i, x_i) = \alpha_0 + \alpha_1 a_i + x_i' \alpha_2 + c_1 \nu_i + c_2 \nu_i a_i
\end{equation}
```

Dans l'équation \@ref(eq:ageolscfhesp), les valeurs de $\nu_i$ sont inconnues. Toutefois, grâce à la première étape (équation \ref{eq:agepe}), nous remarquons que $\nu_i = a_i - \delta_0 - \delta_1 z_i$. Puisque les paramètres estimés issus de la première étape sont non biaisés et convergents (sous les deux hypothèses de validité de $z_i$ que nous avons analysées plus haut), $\hat{\nu_i} = a_i - \hat{\delta_0} - \hat{\delta_1} z_i$ est un estimateur sans biais et convergent de $\nu_i$. L'idée est donc de remplacer $\nu_i$ par $\hat{\nu_i}$ dans l'équation \@ref(eq:ageolscfhesp). Concrètement, 

```{=tex}
\begin{equation}
(\#eq:agecfhesp2)
\begin{aligned}
& E(y_i \mid a_i, x_i) &=& \alpha_0 + \alpha_1 a_i + x_i' \alpha_2 + c_1 \nu_i + c_2 \nu_i a_i
 + (c_1 \hat{\nu_i} - c_1 \hat{\nu_i})
 + (c_2 \hat{\nu_i} a_i - c_2 \hat{\nu_i} a_i) \\
& &=& \alpha_0 + \alpha_1 a_i + x_i' \alpha_2 + c_1 \hat{\nu_i} + c_2 \hat{\nu_i} a_i + c_1(\nu_i - \hat{\nu_i}) + c_2 (\nu_i - \hat{\nu_i}) a_i
\end{aligned}
\end{equation}
```

Nous obtenons alors l'équation estimable de l'approche par fonction de contrôle suivante qui prend en compte l'hétérogénéité de l'effet de l'âge : 

```{=tex}
\begin{equation}
(\#eq:agecfh)
y_i = \alpha_0 + \alpha_1 a_i + x_i' \alpha_2 + c_1 \hat{\nu_i} + c_2 \hat{\nu_i} a_i + s_i,
\end{equation}
```

avec 

$$
s_i = c_1 (\nu_i - \hat{\nu_i}) + c_2 (\nu_i - \hat{\nu_i}) a_i + r_i,
$$
$r_i$ étant un terme d'erreur par construction non corrélé avec les variables explicatives observables de l'équation \@ref(eq:agecfh). L'estimateur par moindres carrés ordinaires de l'équation \@ref(eq:agecfh) est convergent^[Le terme d'erreur $s_i$ tend vers $r_i$ en échantillon large car $\hat{\nu}_i$ tend vers $\nu_i$.].  

<!-- Il reste la question de pourquoi les autres termes inobservalbes sont orthogonaux avec les termes observables ?  -->

\quad L'équation \@ref(eq:agecfh) traduit l'intuition selon laquelle les facultés ($\hat{\nu_i}$) et son hétérogénéité en fonction de l'âge ($\hat{\nu_i}a_i$) sont explicitement pris en compte dans l'équation structurelle. 

\quad Puisque $\hat{\nu}_i$ est issu d'une première étape et est utilisé comme régresseur, les procédures d'inférence standard ne sont pas valides. Nous suivons alors @WOO:15 et calculons nos écart-types par wild bootstrap^[@DAV:FLA:08.] pour prendre en compte l'hétéroscédasticité de forme inconnue du terme d'erreur. La procédure exacte est décrite dans l'Annexe \@ref(agewbootdesc).

### Régression sur une discontinuité {#agemethodsrd}

Puisque nos données contiennent suffisamment de cohortes de naissance, elles nous permettent d'identifier les effets de l'âge par régression sur une discontinuité. Ce type de régression permet de prendre en compte d'éventuels effets directs de la date de naissance. Elle permet également de confirmer nos résultats et comble la rareté des études sur les effets de l'âge en éducation menées sur le territoire français.  
  
\quad Selon la règle d'entrée à l'école, les élèves nés au 31 décembre 1999 doivent normalement passer les examens de CM2 de 2010 tandis que ceux nés au 01 janvier 2000 doivent normalement les passer en 2011, soit en étant un an plus âgés (donc physiologiquement et intellectuellement plus matures)[^14]. Sous l'hypothèse que les parents ne manipulent pas précisément la date de naissance de leur enfant pour des raisons liées à la réussite scolaire, nous pouvons supposer que c'est le hasard qui a déterminé que les uns soient nés un jour avant les autres. Dit autrement, c'est comme si leur âge aux examens leur avait été attribué aléatoirement. Une différence de performance aux examens entre ces deux individus peut alors être interprétée comme un effet causal de l'âge aux examens. L'idée de la régression sur une discontinuité revient à comparer les notes des élèves ayant un an de plus aux examens car nés en 2000 avec celles des élèves un an plus jeunes aux examens car nés en 1999. 

[^14]: Nous prenons particulièrement les années 1999 et 2000 dans cet exemple pour coller aux données et au modèle mobilisés pour les estimations.

\quad Concrètement, nous partons des élèves nés en 1999 et 2000. Nous justifions le choix de ces deux années par le fait que ce sont les deux seules années pour lesquelles nous récupérons toutes les positions (à l'heure, en retard et en avance), comme nous pouvons le voir dans le Tableau \@ref(tab:agerdnaiscohpos) qui montre, par année de naissance et par cohorte, la présence ou non des élèves dans les trois positions dans les données. Les lignes avec les années de naissance 1999 et 2000 sont les seules complètes. Par exemple, nous n'avons pas dans nos données ceux nés en 2001 et plus (respectivement avant 1998) et qui sont en retard (respectivement en avance) car ils seraient en 2013 et au-delà (respectivement avant 2008), des périodes non couvertes par nos données. 

```{r, "agerdnaiscohpos"}
 agerdnaiscohpos %>% 
  mutate(anais = as.character(anais)) %>% 
  rename("Année de naissance" = anais) %>% 
  mutate_all(function (x) as.character(x) %>% str_replace("Redoublant", "En retard") %>% 
               str_replace("Heure", "À l'heure") %>% str_replace("Avance", "En avance") %>% 
               replace_na("-")) %>% ungroup %>% 
  kable(booktabs = TRUE, longtable = TRUE, linesep = "",
        escape = FALSE,
        caption = "Années de naissance, année scolaire et position") %>%
  kable_styling(font_size = 8) %>% 
  add_header_above(c("", "Année scolaire" = 4)) %>% 
  footnote(general = c("\\\\textit{Sources :} Fichiers CM2 (2009 à 2012), calculs de l'auteur.",
                       "\\\\textit{Notes :} Renseigne la disponibilité des positions (en retard, à l'heure et en avance) selon l'année de naissance et l'année scolaire de CM2. Vide : individus non disponibles dans les données à disposition."))
```

\quad Les caractéristiques descriptives de ceux nés en 1999 et 2000 (deuxième colonne du Tableau \@ref(tab:agestats)) sont essentiellement les mêmes que celles de la totalité des individus à disposition (première colonne du Tableau \@ref(tab:agestats)). 

\
La Figure \@ref(fig:agerdgraph) illustre les moyennes d'âge (panel du haut) et de notes (panel du bas) par intervalles de 6 jours de date de naissance (excepté le premier, le plus à gauche de l'axe des abscisses, qui compte 5 jours)[^15]. La ligne verticale est tracée sur l'intervalle du 01^er^ au 06 janvier 2000. Son intérêt est de montrer le saut clair dans les moyennes d'âge et de la note en français par rapport à l'intervalle précédent dont la borne droite est le 31 décembre 1999.

[^15]: Le choix de la largeur de l'intervalle n'est pas important tant qu'il y a assez d'observations dans chaque intervalle. Nous avons choisi la largeur de 6 jours pour être cohérent avec la présentation du modèle qui vient après : définir la date du 01 janvier 2000 exactement comme seuil. Ainsi, avec cette manière précise de construire les intervalles sur les dates de naissance de nos données (nés en 1999 et 2000), la borne gauche fermée du premier intervalle qui contient l'année de naissance 2000 est le 01 janvier 2000.

```{r, "agerdgraph", "fig.cap" = "Moyennes d'âge aux examens et de note en français des élèves nés en 1999 et 2000, par intervalles de 6 jours de la date de naissance", fig.asp = 1}
act <- NA
agerdgraph2 %>% 
  (function (g) {
    g$data <- 
     mutate(g$data, type = 
              str_replace(type, "age", "Âge aux examens") %>% 
              str_replace("score", "Note totale (UET)"))
    g
    }) + 
  geom_vline(aes(xintercept = 62), linetype = "dashed") + 
  scale_x_discrete(labels = NULL) + 
  labs(x = "Date de naissance", 
       y = "Moyennes",
       caption = "Sources : Fichiers CM2 (2009 à 2012) - élèves nés en 1999 et 2000, calculs de l'auteurs. \nNotes : Excepté la plus à gauche qui correspond à un intervalle de 5 jours, chaque graduation de l'axe des abscisses \ncorrespond à un intervalle de 6 jours de la date de naissance. De cette manière, la borne gauche de fermée du premier \nintervalle qui contient l'année de naissance 2000 est le 01 janvier 2000, le seuil dans le modèle. \nLa ligne verticale est tracée sur cet intervalle et met en évidence le saut en moyennes d'âge et de note. \nN = 27893. Nés en 1999 = 13654. Nés en 2000 = 14239. UET : Unité d'Écart-Type.") + 
  theme_bw() + 
  mytheme %>% 
  (function (m) {
    m$plot.caption <- element_text(vjust = - 1,
                                   size = m$plot.caption$size,
                                   hjust = 0)
    m
    })
## 62 : à partir du 01 janv. 
```

\quad Nous nous demandons dans quelle mesure le saut sur la moyenne d'âge aux examens est la cause du saut sur la moyenne de la note en français. Pour répondre à cette question, nous proposons l'équation structurelle correspondant à la régression sur une discontinuité ci-après :

```{=tex}
\begin{equation}
(\#eq:ageolsrd)
y_i = \alpha_0 + \alpha_1 a_i + \sum_{k = 1}^p \pi_{(1)k} dist_i^k + \sum_{k = 1}^p \pi_{(1)p+k} old_i dist_i^k + x'_i \alpha_2 + \epsilon_i.
\end{equation}
```
Pour alléger les notations, nous utilisons essentiellement les mêmes que dans la Section \@ref(agemethodscfh). L'année scolaire n'est pas incluse dans $x_i$ car elle représenterait ici essentiellement la même information que l'âge aux examens.  
La variable $dist_i$ est la distance en jours entre la date de naissance et le seuil (01^er^ janvier 2000). Elle est différente pour deux individus nés le même jour mais pas la même année et n'est donc pas à confondre avec la variable instrumentale de la Section \@ref(agemethodscfh). Elle est centrée au 01 janvier 2000. En guise d'illustration, $dist_i = 0, - 1, - 2, 1$ et $2$ pour des individus nés le 01 janvier 2000, 02 janvier 2000, 31 décembre 1999 et 30 décembre 1999 respectivement. La même logique s'applique pour toutes les dates de naissance de 1999 et 2000. La dichotomique $old_i$ indique si l'individu est né en 2000 ou en 1999. Plus formellement,

$$
old_i = 
\begin{cases} 
1 \ si \ dist_i \geq 0 \\
0 \ si \ dist_i < 0
\end{cases}
$$

Le terme $\sum_{k = 1}^p \pi_{(1)k} dist_i^k + \sum_{k = 1}^p \pi_{(1)p+k} old_i dist_i^k$ est un polynôme d'ordre $p$ qui capture la tendance continue entre la variable dépendante et la date de naissance.  
  
Le terme d'interaction $old_i dist_i$ reflète le fait que nous autorisons la relation continue à se comporter différemment de part et d'autre du seuil. 
Notre paramètre d'intérêt est toujours $\alpha_1$. Il représente l'effet causal d'avoir un an de plus aux examens sur la note. 

\quad Nous nous limitons à $p = \{1, 2\}$ [@GEL:IMB:19] et pour toute estimation, nous regardons systématiquement les résultats pour chacun de ces deux degrés de polynôme.

\quad Nous commençons par effectuer nos estimations en utilisant des fenêtres de 30 jours, c'est-à-dire en utilisant uniquement les individus nés 30 jours avant et 30 jours après le seuil. Une fenêtre de plus en plus étroite rend de plus en plus similaires en inobservables les enfants nés d'une part et d'autre du 01 janvier 2000, au détriment de la précision de nos estimations. Nous discutons de la sensibilité de nos résultats en fonction de la largeur de la fenêtre.

<!--## Hypothèses -->

Les élèves nés en 1999 ou en 2000 ne passent pas tous leur examen en 2010 ou en 2011, respectivement. Les élèves en retard le passent après et les élèves en avance le passent avant. Les raisons de ces décalages sont essentiellement les mêmes que celles exposées dans la Section \@ref(agemethodscfh), c'est-à-dire liées aux facultés. Cela nous ramène à l'idée d'instrumenter l'âge $a_i$ par l'année de naissance $old_i$. Nous intégrons alors dans notre modèle l'équation de première étape suivante :

```{=tex}
\begin{equation}
(\#eq:ageperd)
a_i = \delta_0 + \delta_1 old_i + \sum_{k = 1}^p \pi_{(2)k} dist_i^k + \sum_{k = 1}^p \pi_{(2)p+k} old_i dist_i^k + x' _i \delta_2 + \nu_i.
\end{equation}
```
Nous trouvons dans le cadre d'un *fuzzy regression design* [@IMB:LEM:08]. Une différence par rapport au modèle théorique est que notre variable endogène $a_i$ est une variable continue au lieu d'une variable binaire (passer ou pas ses examens en 2011). Si nous notons $w_i$ une telle variable, elle vaudrait 1 si l'élève passe ses examens en 2011 et 0 sinon. Cette valeur 0 n'a pas de sens clair car elle englobe les élèves qui passent les examens en 2010 mais aussi en 2009 (nés en 1999 et en avance) et 2012 (nés en 2000 avec deux ans de retard) comme le Tableau \@ref(tab:agerdnaiscohpos) le montre. Autrement dit, en prenant $w_i$ qui collerait mieux aux modèles standards de régressions sur une discontinuité, nous comparerons l'effet de passer les examens en 2011 plutôt qu'une autre. Cet effet n'équivaut pas à l'effet d'avoir un an de plus aux examens.\  
@SMI:09 utilise similairement une spécification continue de l'âge à la seule différence que ses données contiennent plusieurs seuils de discontinuité, l'auteur possédant plus de deux cohortes d'années de naissance pour lesquelles il récupère toutes les positions possibles.

\quad Pour que $old_i$ soit un instrument valide, il ne faudrait pas que les parents de La Réunion manipulent la date de naissance de leur enfant de manière à le faire naître avant ou après le seuil pour des raisons liées à la réussite scolaire. Cette hypothèse est directement le parallèle de l'hypothèse d'exogénéité de l'instrument $z_i$ de la Section \@ref(agemethodscfh). En effet, les parents les plus avantagés pourraient être capables de choisir stratégiquement la date de conception pour viser un intervalle de mois de naissance de leur enfant. Ils pourraient de plus avoir accès aux pratiques médicales permettant de choisir de faire naître leur enfant d'un côté de l'autre du seuil. Nous analysons cette possibilité en testant si la densité de la date de naissance présente un saut significatif au niveau du 01 janvier 2000 [@MCC:08]. L'hypothèse nulle est l'absence de discontinuité. Nous appliquons sans nous restreindre à une fenêtre. Notre période d'étude présente une spécificité puisqu'il y a eu un *baby boom* en 2000, dans laquelle nous comptons 4.2\% naissances en plus par rapport à 1999. Cette brusque augmentation entraîne un rejet de l'hypothèse nulle du test de @MCC:08 (probabilité critique de 0.03), dans sa version originale. Ce rejet peut faire craindre *a priori* une présence de manipulation de la date de naissance de la part des parents. Cependant, ce saut n'est vraisemblablement pas lié à des stratégies liées à la réussite scolaire puisqu'elle a été documentée pour toute la France et dans plusieurs pays [@DOI:01]. Nous apportons alors une légère modification au test \: nous calculons les fréquences de base qui servent à estimer la densité, non pas sur la totalité des observations (version originale), mais sur chaque côté du seuil. La probabilité critique dans la version corrigée est de 0.09 et ne nous permet pas de rejeter l'hypothèse nulle au seuil de 5\%. Les résultats des deux versions du test sont montrés par la Figure \@ref(fig:agerdmctestgraph). 

```{r, "agerdmctestgraph", fig.cap = "Tests de discontinuité de McCrary (2008) sur la densité de la date de naissance", fig.asp = 1}
## agerdmctestgraph + 
##   annotate("text", x = 200, y = .0001,
##            label = paste("Probabilité critique = ", agerdmctest$p %>% round(2))) + 
##   
act <- NA
agerdmctestgraph %>% 
  (function (a) {
    a$data <- mutate(a$data, 
                     Version = str_replace(Version, 
                                           "p = ",
                                           "Probabilité critique = ")) %>% 
      (function (d) 
        mutate(d,
               Version = factor(Version, levels = 
                                  unique(d$Version) %>% 
                                  (function (u) c(
                                    u[str_detect(u, "^Or")],
                                    u[str_detect(u, "^Cor")]
                                  )))))
    a
  }) + 
  geom_vline(aes(xintercept = 0), linetype = "dashed") + 
  labs(x = "Date de naissance",
       y = "Densité estimée",
       caption = "Sources : Fichiers CM2 (2009 à 2012) - élèves nés en 1999 et 2000, calculs de l'auteur. \nNotes : Tests de manipulation de la date de naissance. \nHypothèse nulle : absence de discontinuité de la date de naissance au niveau du seuil. \nDans le panel du haut, les fréquences de base sont calculées sur toutes des observations. \nDans le panel du bas, les fréquences de base sont calculées sur les observations de chaque côté. \nN = 27893. Nés en 1999 = 13654. Nés en 2000 = 14239.") + 
  theme_bw() + 
  mytheme %>% 
  (function (m) {
    m$axis.text.x <- element_text(size = 10)
    m$plot.caption <- element_text(vjust = - 1,
                                   size = m$plot.caption$size,
                                   hjust = 0)
    m
  })
```

\quad Nous avons alors des raisons de penser que l'hypothèse d'absence de manipulation précise de la date de naissance à La Réunion est crédible. 

\quad Le prochain test consiste à regarder si les observables sont similaires d'un côté et d'autre du seuil. Cela crédibiliserait plus l'hypothèse selon laquelle les inobservables le seraient aussi. Pour ce faire, nous estimons la forme réduite du modèle en utilisant des pseudo-variables dépendantes : les variables de contrôle. Concrètement, pour une pseudo-variable dépendante $y^0_i$, nous estimons : 

```{=tex}
\begin{equation}
(\#eq:agerdbcheck)
y^0_i = \rho_0 + \rho_1 old_i + \sum_{k = 1}^p \pi_{(3)k} dist_i^k + \sum_{k = 1}^p \pi_{(3)p+k} old_i dist_i^k + x_i ' \rho_2 + \eta_i
\end{equation}
```

Les $y^0_i$ possibles sont les indicatrices suivantes : garçon, catégorie sociale moyenne, favorisée et très favorisée. Nous estimons l'équation \@ref(eq:agerdbcheck) par les moindres carrés ordinaires dans une fenêtre de 30 jours et pour $p = \{1, 2\}$. À chaque valeur estimée de $\rho_1$, nous effectuons un test de significativité. Ainsi, si la distribution des inobservables est continue d'une part et d'autre du seuil, nous nous attendons à obtenir des $\hat{\rho}_1$ tous non significatifs. Les résultats sont illustrés dans le Tableau \@ref(tab:agebchecks) et sont clairs : nous ne trouvons aucun coefficient significatif à 5%.


```{r, "agebchecks"}
agebchecks %>% set_colnames(c("",
                              "sexeMp1", "sexeMp2",
                              "pcsg2Moyp1", "pcsg2Moyp2",
                              "pcsg2Favp1", "pcsg2Favp2",
                              "pcsg2Tresfavp1", "pcsg2Tresfavp2")) %>% 
  ## Sélection de lignes. 
  ## (function (d) d[d[, 1] %ino% c("old", "dist", "Idist.2", "old:dist", "old:Idist.2", "n", "arsq"), ]) %>%
  
  (function (d) {
    sapply(c("old", "dist", "Idist.2",
             "old:dist", "old:Idist.2"), 
           function (x) which(d[, 1] == x) %>% 
             (function (w) c(w, w + 1))) %>% 
      as.vector %>% 
      (function (v) sapply(c("n", "arsq"),
                           function (x) which(d[, 1] == x)) %>% 
         as.vector %>% (function (v2) c(v, v2))) %>% 
      (function (v3) d[v3, ])
  }) %>% 
  
  ## Rajout de ligne : contrôles. 
  (function (d) rbind(d[1:(nrow(d) - 2), ],
                      rep("", ncol(d)),
                      c("Contrôles", rep("Oui", ncol(d) - 1)),
                      d[(nrow(d) - 1):nrow(d), ])) %>% 
  ## Remplacement nom de variables. 
  (function (d) {
    d[, 1] <- d[, 1] %>% agereplace
    d
  }) %>% 
  set_colnames(c("", rep(c("$p=1$", "$p=2$"), 4))) %>% 
  kable(booktabs = TRUE, longtable = TRUE, linesep = "",
        escape = FALSE,
        caption = "Tests d'équilibre des observables d'un côté à l'autre du seuil : résultats de régressions avec des pseudo-variables dépendantes") %>%
  add_header_above(c("", "Sexe - Garçon" = 2, 
                     "CSP - Moyenne" = 2,
                     "CSP - Favorisée" = 2, 
                     "CSP - Très favorisée" = 2)) %>% 
  add_header_above(c("", "Variable dépendante : " = 8)) %>% 
  kable_styling(font_size = 8) %>% 
  footnote(general = c("\\\\textit{Sources :} Fichiers CM2 (2009 à 2012) - élèves nés en 1999 et 2000, calculs de l'auteur.",
                       "\\\\textit{Notes :} Tests pour détecter d'éventuels discontinuité des observables au niveau du seuil. Simples régressions linéaires avec variables dépendantes binaires. Une colonne correspond à une régression. On note $p$ le degré de polynôme de $dist$ et $old \\\\times dist$ utilisé. Les contrôles utilisés sont le sexe et la CSP lorsque cela est possible. Fenêtre de 30 jours.",
                       "CSP : Catégorie Socio-Professionnelle.",
                       "Significativité : 10\\\\% * 5\\\\% ** 1\\\\% ***."))
```


\quad Le dernier test de validité consiste à vérifier qu'il n'existe pas d'autres discontinuités sur la note à d'autres dates de naissance que le seuil. Si tel était le cas, il faudrait prendre en compte ces multiples discontinuités et notre spécification actuelle ne serait pas valide.\  
Concrètement, nous suivons toujours @IMB:LEM:08 et estimons l'équation \@ref(eq:agerdbcheck) avec les changements ci-après. La variable dépendante est désormais la note totale, contrairement à celles du test précédent où nous retenions les observables (sexe et catégorie sociale). Nous n'utilisons pas de fenêtre. Pour chaque côté du seuil, nous déterminons la médiane de $dist_i$. La médiane à gauche et à droite du seuil correspond respectivement au 30 Juin 1999 et au 04 Juillet 2000. Ensuite, pour chaque côté du seuil, nous estimons l'équation \@ref(eq:agerdbcheck) en remplaçant $old_i$ par l'indicatrice si l'individu est né après la médiane ou pas. L'idée est d'utiliser des seuils placebos au niveau desquels il ne devrait pas y avoir de discontinuité de la note en fonction de la date de naissance.\  
L'intérêt principal de diviser l'échantillon en deux (à gauche et à droite du seuil) est d'exclure du test le seuil d'origine au niveau duquel nous savons qu'il y a une discontinuité. Les résultats montrent que les coefficients devant les indicatrices de médiane ne sont en aucun cas significatifs à 5% (Tableau \@ref(tab:agecutchecks)) : il n'y a vraisemblablement pas de discontinuité de la note à d'autres dates de naissance que le 01^er^ Janvier 2000^[Par ailleurs, cela se vérifie visuellement en regardant le panel du bas de la Figure \@ref(fig:agerdgraph).]. 
  
```{r, "agecutchecks"}
##
agecutchecks %>% 
  set_colnames(c("",
                 "lp1", "lp2",
                 "rp1", "rp2")) %>%
  ## Sélection de lignes. 
  ## (function (d) d[d[, 1] %ino%
  ##                   c("oldmedl", "oldmedr",
  ##                     "dist", "Idist.2",
  ##                     "oldmedl:Idist.2",
  ##                     "oldmedr:Idist.2",
  ##                     "n", "arsq"), ]) %>%
  (function (d) {
    sapply(c("oldmedl", "oldmedr",
                      "dist", "Idist.2",
                      "oldmedl:Idist.2",
                      "oldmedr:Idist.2"), 
           function (x) which(d[, 1] == x) %>% 
             (function (w) c(w, w + 1))) %>% 
      as.vector %>% 
      (function (v) sapply(c("n", "arsq"),
                           function (x) which(d[, 1] == x)) %>% 
         as.vector %>% (function (v2) c(v, v2))) %>% 
      (function (v3) d[v3, ])
  }) %>% 
  
  ## Rajout de ligne : contrôles. 
  (function (d) rbind(d[1:(nrow(d) - 2), ],
                      rep("", ncol(d)),
                      c("Contrôles", rep("Oui", ncol(d) - 1)),
                      d[(nrow(d) - 1):nrow(d), ])) %>% 
  ## Remplacement nom de variables. 
  (function (d) {
    d[, 1] <- d[, 1] %>% agereplace
    d
  }) %>% 
  set_colnames(c("", rep(c("$p=1$", "$p=2$"), 2))) %>% 
  kable(booktabs = TRUE, longtable = TRUE, linesep = "",
        escape = FALSE,
        caption = "Tests de présence d'autres discontinuités : régressions séparées d'un côté et de l'autre du seuil") %>% 
  add_header_above(c("", "Nés en 1999" = 2, 
                     "Nés en 2000" = 2)) %>%
  add_header_above(c("", 
                     "Variable dépendante : Note en français" = 4)) %>% 
  kable_styling(font_size = 8) %>% 
  footnote(general = c("\\\\textit{Sources :} Fichiers CM2 (2009 à 2012) - élèves nés en 1999 et 2000, calculs de l'auteur.",
                       "\\\\textit{Notes :} Tests pour détecter d'éventuels discontinuités ailleurs qu'au niveau du seuil. Une colonne correspond à une régression. On note $p$ le degré de polynôme de $dist$ et $old \\\\times dist$ utilisé. Les contrôles utilisés sont le sexe et la CSP. Fenêtre de 30 jours.",
                       "CSP : Catégorie Socio-Professionnelle.",
                       "Significativité : 10\\\\% * 5\\\\% ** 1\\\\% ***."))
```
  
\quad L'hypothèse de monotonie est également nécessaire [@HAH:eal:01]. Elle implique qu'être né après (respectivement avant) le seuil devrait induire les individus à être un an plus âgés (respectivement moins âgés) au moment des examens. Or, être né après (respectivement avant) le seuil augmente la probabilité d'être en avance (respectivement en retard), soit un an moins âgé (respectivement plus âgé) au moment des examens. Cette dernière proposition est contraire à la condition de monotonie. Nous estimons alors l'équation \@ref(eq:ageolsrd) par fonction de contrôle en utilisant l'équation \@ref(eq:ageperd) comme première étape. Nous mobilisons exactement le même raisonnement que dans la Section \@ref(agemethodscfh), pour ce faire. 
Néanmoins, suivant @BLA:eal:11, les résultats obtenus avec les variables instrumentales usuelles du FRD devraient fournir une approximation relativement pertinente des effets de l'âge du type effets moyens de traitement étant donné la grande proportion qu'occupe les élèves à l'heure^[Des résultats non reportés lorsque les équations de FRD sont estimées par variables instrumentales sont pratiquement identiques à ceux estimés par fonction de contrôle.].  
  
\quad Au total, le contexte et les données semblent adaptés à l'application du modèle de régression sur une discontinuité pour calculer les effets de l'âge aux examens sur les performances scolaires. Il est toutefois connu que le modèle de régression sur une discontinuité identifie un effet de traitement local, dans le sens où il s'agit de l'effet au voisinage du seuil.  

<!-- \quad Aussi, et plus important, nous pensons que le rôle de tests de robustesse aux résultats principaux garde son importance par rapport à d'éventuels hétérogénéités de l'effet de l'âge selon les observables et variables dépendantes intéressantes.  -->


## Résultats et discussions {#ageres}

### L'effet de l'âge aux examens : résultats de l'approche par fonction de contrôle {#agemodelsres}

Le Tableau \@ref(tab:agemodels) illustre nos résultats principaux. Les coefficients estimés en première étape (équation \ref{eq:agepe}) apparaissent dans la colonne (1). Nous avons déjà mis en évidence dans la Section \@ref(agemethodscfh) que nous n'avons pas un problème d'instrument faible (coefficient de 0.8 sur l'instrument). Ce propos est renforcé par une statistique de Fisher de 2540 largement supérieur à 10 [@STA:STO:97].  
  
\quad Les colonnes (2) à (5) présentent respectivement les résultats d'estimation par les moindres carrés ordinaires^[Elles sont présentées afin d'illustrer le biais de sous-estimation des effets de l'âge aux examens discuté précédemment.], les doubles moindres carrés, les doubles moindres carrés avec test d'effet direct d'une partie de la variation de l'instrument, et finalement par la fonction de contrôle (équation \ref{eq:agecfh}).  

\quad Selon l'estimation "naïve" par les moindres carrés ordinaires, un an de plus au moment des examens procure 0.5 unité d'écart-type de désavantage aux évaluations de CM2. Nous savons toutefois que ce résultat est biaisé surtout par la présence d'élèves en retard parmi les plus âgés et dans une moindre mesure celle des élèves en avance parmi les plus jeunes.  
  
\quad Dès que l'âge relatif théorique est utilisé comme instrument de l'âge aux examens (colonne 3), nous constatons effectivement un coefficient estimé de 0.33 unité d'écart-type très significatif. Ce changement de signe par rapport à la colonne (2) confirme bien le signe attendu du biais dû aux élèves en retard. Ce biais est négatif et est de l'ordre de - 0.23.  
Un changement d'une telle ampleur  entre le coefficient des moindres carrés ordinaires et celui des doubles moindres carré peut être étonnant. Plusieurs éléments nous rassurent. Premièrement, il s'agit d'un résultat communément observé dans plusieurs pays dans lesquels le retard d'entrée et/ou le redoublement ne sont pas négligeables. Nous pensons que la meilleure référence pour appuyer ce dernier propos est le Tableau III de @BED:DHU:06. En effet, l'étude couvre plusieurs pays de l'OCDE et utilisent des tests de même nature dispensés à travers ces pays. Les taux d'élèves en retard documentés par ces auteurs dans leur Annexe 1 montrent que la France et le Portugal font partie des pays de l'OCDE avec le plus d'élèves en retard. Être en retard est de plus un signal fort de facultés relativement faibles [@ALE:eal:13]. Tous ces éléments rationalisent la différence substantielle entre un coefficient d'effet d'âge aux examens biaisé à cause de l'omission des facultés (colonne 2) et un autre qui prend en compte ces dernières (colonne 3).  
Deuxièmement et plus concrètement, les coefficients associés aux variables de contrôle sont comparables en signe et en ampleur entre les deux modèles. Par exemple, l'effet d'être un garçon plutôt qu'une fille est compris entre - 0.23 et - 0.3. De la même manière, être un enfant issu de parents très favorisés procure un avantage entre 0.8 et 1 unité d'écart-type. Seul le signe du coefficient associé à l'âge aux examens change entre les colonnes (2) et (3).  

\newpage
```{r, "agemodels"}
act2 <- NA
agemodels %>% 
  set_colnames(c("", "ols", "pe", "iv", "ivexcl", "cfh")) %>% 
  ## Sélection de lignes. 
  ## (function (d) d[d[, 1] %ino% 
  ##                   c("age.abs", "z", 
  ##                     "resid", "age.abs:resid",
  ##                     "sexeM", "pcsRMoy", "pcsRFav", 
  ##                     "pcsRTresfav", "pcsRAutres", "pcsRNA",
  ##                     "cohorte2010", "cohorte2011", "cohorte2012", 
  ##                     paste("mois.", 2:11, sep = ""),
  ##                     "n", "arsq"), ]) %>% 
  
  (function (d) {
    sapply(c("age.abs", "z", 
                      "resid", "age.abs:resid",
                      "sexeM", "pcsRMoy", "pcsRFav", 
                      "pcsRTresfav", "pcsRAutres", "pcsRNA",
                      "cohorte2010", "cohorte2011", "cohorte2012", 
                      paste("mois.", 2:11, sep = "")), 
           function (x) which(d[, 1] == x) %>% 
             (function (w) c(w, w + 1))) %>% 
      as.vector %>% 
      (function (v) sapply(c("n", "arsq"),
                           function (x) which(d[, 1] == x)) %>% 
         as.vector %>% (function (v2) c(v, v2))) %>% 
      (function (v3) d[v3, ])
  }) %>% 
  
  ## Rajout de ligne : contrôles. 
  (function (d) rbind(d[1:(nrow(d) - 2), ],
                      rep("", ncol(d)),
                      d[(nrow(d) - 1):nrow(d), ])) %>% 
  ## Remplacement nom de variables. 
  (function (d) {
    d[, 1] <- d[, 1] %>% agereplace
    d
  }) %>% 
  ## pe en première colonne. 
  as.data.frame %>% 
  select(V1, pe, ols, iv, ivexcl, cfh) %>% 
  set_colnames(c("", c("\\makecell{Première \\\\ étape}",
                 "\\makecell{MCO \\\\ \\ }", 
                 "\\makecell{VI \\\\ \\ }", 
                 "\\makecell{VI-EXCL \\\\ \\ }",
                 "\\makecell{Fonction de \\\\ contrôle}") %>% 
                   col_numbers())) %>% 
  # 2022_08_21 : j'enlève les R2 négatifs.
  (function (d) {
    d[nrow(d), str_detect(d[nrow(d), ], "-")] <- "-"
    d
  }) %>% 
  kable(booktabs = TRUE, longtable = TRUE, linesep = "",
        escape = FALSE,
        caption = "Tests et résultats principaux sur les effets de l'âge aux examens",
        align = "l") %>%
  add_header_above(c("", "Âge aux examens", 
                     "Note totale" = 4)) %>% 
  add_header_above(c("", "Variable dépendante : " = 5)) %>% 
  kable_styling(font_size = 7) %>% 
  footnote(general = c("\\\\textit{Sources :} Fichiers CM2 (2009 à 2012), calculs de l'auteur.",
                       "\\\\textit{Notes :} Une colonne correspond à une régression. La note est normalisée sur l'année scolaire. Écart-types entre parenthèses. Les écart-types dans la colonne (5) sont calculés par wild bootstrap avec 1001 réplications. La variable $\\\\hat{\\\\nu}$ est le résidu de la première étape. Les contrôles utilisés sont le sexe, la CSP et l'année scolaire.",
                       "MCO : Moindres Carrés Ordinaires, VI : Variable Instrumentale. VI-EXCL : Variable Instrumentale avec test indirect de la restriction d'Exclusion. FCH : Fonction de Contrôle avec prise en compte de l'Hétérogénéité de l'effet de l'âge. CSP : Catégorie Socio-Professionnelle.",
                       "Significativité : 10\\\\% * 5\\\\% ** 1\\\\% ***."))
```
\newpage

\quad La colonne (4) a été discutée précédemment et sert à discuter de la présence d'effets directs de la date de naissance sur la réussite aux examens. Au vu de la similarité des coefficients estimés de cette colonne (surtout celui associé à l'âge aux examens) avec ceux de la colonne précédente^[Un $z$-test d'égalité des coefficients associés à l'âge ne permet pas de rejeter l'hypothèse nulle (probabilité critique de `r 2 * pnorm(abs((.328 - .366) / sqrt(.019 ^ 2 + .029 ^ 2)), lower.tail = FALSE) %>% round(2)`).] ; et de l'absence de significativité jointe des coefficients associés aux indicatrices de mois de naissance, nous avons toutes les raisons de penser que d'éventuels effets directs de saison de naissance ne remettent pas en cause nos conclusions [@GOU:MAU:07].  
  
\quad Les résultats de l'estimation par fonction de contrôle se trouvent en colonne (5). L'effet estimé correspond dès lors à une estimation de l'effet de l'âge pour un individu tiré aléatoirement de la population (du type effet moyen de traitement). Le coefficient est de 0.326 : un an de plus aux examens procure en moyenne un avantage d'environ 0.33 unité d'écart-type aux évaluations de CM2^[Outre, de manière rassurante, les coefficients associés aux variables de contrôle restent très cohérents avec les résultats des modèles précédents (colonnes 2 à 4).]. Ce coefficient est pratiquement égal à celui estimé par simple variable instrumentale (colonne 3). Toutefois, il est possible que ce soit juste une coïncidence.  

\quad Les résultats d'estimation par fonction de contrôle fournissent également un test direct d'endogénéité de l'âge aux examens [voir @WOO:15, par exemple]. Il correspond à un test de significativité jointe des coefficients associés à $\hat{\nu}$ et à son interaction avec l'âge aux examens. La statistique de test de Fisher est égale à `r ageendotest_cfh$F %>% na.omit %>% round(2)` (probabilité critique pratiquement nulle). Les paramètres estimés  par les coefficients de - 0.53 et - 0.06 associés respectivement à $\hat{\nu}$ et son interaction avec l'âge aux examens sont significativement différents de 0.  
  
\quad Nous montrons dans l'Annexe \@ref(ageheterofac) que les signes négatifs des coefficients associés à $\hat{\nu}$ et à son interaction avec l'âge aux examens indiquent que l'effet de l'âge aux examens à La Réunion augmente avec les facultés. 
  
\quad Jusque-là, la variable sur laquelle nous avons analysé les effets d'âge est la note totale aux évaluations de CM2. Rappelons qu'il s'agit une note composite constituée à 60% de la note en français et à 40% de la note en mathématiques. Nous analysons les effets de l'âge séparément sur les résultats en français et en mathématiques.  
  
\quad À cette fin, le Tableau \@ref(tab:agemodelsfm) propose les résultats des mêmes exercices que dans les colonnes (4) (doubles moindres carrés) et (5) (fonction de contrôle) du Tableau \@ref(tab:agemodels) mais en prenant comme variables dépendantes les notes en français (colonnes 1 et 2) et en mathématiques (colonnes 3 et 4).  
Nous constatons que l'effet n'est pas modifié de manière significative : il est toujours à environ 0.3 et des $z$-tests sur les coefficients associés à l'âge, deux à deux (colonne 1 avec colonne 3 et colonne 2 avec colonne 4) ne détectent pas de différence entre ces coefficients. Il en est de même pour les coefficients associés à $\hat{\nu}$ et son interaction avec l'âge aux examens.^[De la même manière que dans les résultats principaux du Tableau \@ref(tab:agemodels), nous observons de manière robuste une proximité entre les coefficients estimés par doubles moindres carrés et par fonction de contrôle.]  
Ainsi, l'effet de l'âge ne semble pas être différent sur les résultats en français et en mathématiques.   
  
```{r, "agemodelsfm"}
agemodels_fm %>% 
  set_colnames(c("", "ivfrench", "cfhfrench", "ivmaths", "cfhmaths")) %>% 
   ## Sélection de lignes. 
  (function (d) {
    sapply(c("age.abs", "resid", "age.abs:resid"), 
           function (x) which(d[, 1] == x) %>% 
             (function (w) c(w, w + 1))) %>% 
      as.vector %>% 
      (function (v) sapply(c("n", "arsq"),
                           function (x) which(d[, 1] == x)) %>% 
         as.vector %>% (function (v2) c(v, v2))) %>% 
      (function (v3) d[v3, ])
  }) %>%
  ## Rajout de ligne : contrôles. 
  (function (d) rbind(d[1:(nrow(d) - 2), ],
                      rep("", ncol(d)),
                      c("Contrôles", rep("Oui", ncol(d) - 1)),
                      d[(nrow(d) - 1):nrow(d), ])) %>% 
  ## Remplacement nom de variables. 
  (function (d) {
    d[, 1] <- d[, 1] %>% agereplace
    d
  }) %>% 
  set_colnames(c("", rep(c("VI", "FCH"), 2) %>% 
                   col_numbers())) %>% 
  # 2022_08_21 : j'enlève les R2 négatifs.
  (function (d) {
    d[nrow(d), str_detect(d[nrow(d), ], "-")] <- "-"
    d
  })  %>% 
  kable(booktabs = TRUE, longtable = TRUE, linesep = "",
        escape = FALSE,
        caption = "Effets de l'âge aux examens sur les notes en français et en mathématiques") %>%
  add_header_above(c("", "Note en français" = 2,
                     "Note en mathématiques" = 2)) %>% 
  add_header_above(c("", "Variable dépendante : " = 4)) %>% 
  kable_styling(font_size = 8) %>% 
  footnote(general = c("\\\\textit{Sources :} Fichiers CM2 (2009 à 2012), calculs de l'auteur.",
                       "\\\\textit{Notes :} Une colonne correspond à une régression. Les notes sont normalisées sur l'année scolaire. Écart-types entre parenthèses. Les écart-types des coefficients estimés par fonction de contrôle sont calculées par wild bootstrap avec 1001 réplications. La variable $\\\\hat{\\\\nu}$ est le résidu de la première étape. Les contrôles utilisés sont le sexe, la CSP et l'année scolaire.",
                       "VI : Variable Instrumentale. CSP : Catégorie Socio-Professionnelle.",
                       "Significativité : 10\\\\% * 5\\\\% ** 1\\\\% ***."))
```

\quad Dans la même logique, la disponibilité des sous-composantes de français et mathématiques (voir Section \@ref(agedata)) nous permettent de pousser l'analyse à des niveaux plus fins. Pour le français, nous pouvons analyser les effets de l'âge aux examens sur la note en écriture, en grammaire, en lecture, en orthographe et en grammaire. Pour les mathématiques, nous pouvons mesurer les effets de l'âge aux examens sur la note en calcul, en géométrie, en grandeurs-et-mesures, en nombre et en organisation-et-gestion-des-données. 
Les Tableaux \@ref(tab:agemodelsssitemsfrench) et \@ref(tab:agemodelsssitemsmaths) en Annexe \@ref(agemodelsssitems) qui montrent les résultats des estimations sur les sous-composantes de français et de mathématiques, respectivement, nous enseignent que les effets de l'âge aux examens sur ces sous-composantes ne sont pas non plus fondamentalement différents.
  
  \quad Ainsi, l'effet de l'âge est positif et, en moyenne, semble être le même indépendamment de la nature de la note et, par extension, des capacités cognitives et non cognitives qui en seraient la source. Cela rejoint finalement l'intuition : il n'y a *a priori* pas de raison pour que le développement physiologique des enfants à travers l'âge favorise en moyenne des capacités bien précises. De telles différences détectées dans les études précédentes [@DAT:06, par exemple] sont probablement causées par la difficulté relative entre les matières, bien qu'il soit difficile d'avoir une mesure de difficulté d'une matière par rapport à une autre. C'est probablement pour cette raison que les articles précédents ne donnent pas d'interprétation entre la différence entre les effets selon la nature de la note en tant que variable dépendante [@SMI:09 ; @GRE:09 ; @ATT:COH:18, par exemple].   

### De l'hétérogénéité selon les observables {#agemodelsheterores}

À La Réunion, 17\% des élèves de CM2 sont en retard. Cette proportion est beaucoup plus grande chez les garçons (20\%) que chez les filles (13\%). Ce constat semble être un fait général à travers le monde et une raison possible est que les garçons mûrissent moins rapidement que les filles, ce qui a pour conséquence que leurs parents décident plus souvent de décaler l'inscription de leur fils [@ATT:COH:18, par exemple].  
De manière similaire, les proportions de positions sont très différentes d'une catégorie sociale à une autre. Par exemple, la part d'élèves en retard chez les défavorisés est de 19\% tandis qu'elle n'est que de 2\% chez les très favorisés. Ici, ce constat pourrait être expliqué par le fait que les parents très favorisés fournissent un cadre permettant à leur enfant de maturer beaucoup plus rapidement que son homologue enfant de parents défavorisés.  
  
\quad Ces deux groupes de constats et d'interprétations nous suggèrent que les effets de l'âge sont supérieurs respectivement chez les filles et au fur et à mesure que les parents appartiennent à une catégorie sociale supérieure. Si cela est le cas, cela peut débuter la réflexion sur des mesures particulières ciblées vers ces sous-populations pour atténuer l'aggravation des désavantages causés par les différentielles d'âge aux examens, toutes choses égales par ailleurs, via le sexe et la catégorie sociale.  
  
\quad Notre modèle nous permet de déceler d'éventuels effets hétérogènes selon ces observables. Pour ce faire, pour chacun des variables sexe et catégorie sociale, nous effectuons une régression dans laquelle nous rajoutons respectivement à l'équation \@ref(eq:agecfh) les régresseurs suivants^[@WOO:15, équation (29).] :  
$$a_i \ Garçon_i , \ \hat{\nu}_i \ Garçon_i \ \text{et} \  a_i \ \hat{\nu}_i \ Garçon_i$$ \ ; 
et 
$$a_i \ \begin{pmatrix} Moyenne_i \\ Favorisée_i \\ TrèsFavorisée_i \\ Autre_i \end{pmatrix}', \  \hat{\nu}_i \ \begin{pmatrix} Moyenne_i \\ Favorisée_i \\ TrèsFavorisée_i \\ Autre_i \end{pmatrix}' \ \text{et} \ a_i \ \hat{\nu}_i \begin{pmatrix} Moyenne_i \\ Favorisée_i \\ TrèsFavorisée_i \\ Autre_i \end{pmatrix}'.$$  

$Garçon_i$ est une indicatrice qui vaut 1 si l'élève est un garçon. La même logique s'applique pour les régresseurs concernant la catégorie sociale.  
Pour les modèles estimés correspondants, nous n'interprétons pas les coefficients associés à $\hat{\nu_i}$ et à son interaction avec l'âge aux examens comme nous l'avons fait dans la Section \@ref(agemodelsres), par souci de simplicité. 

\quad Les résultats principaux avec effets hétérogènes selon le sexe sont présentés dans le Tableau \@ref(tab:agemodelssexe)^[Pour les colonnes des doubles moindres carrés, les régresseurs incluant les interactions de l'âge avec d'autres variables exogènes sont instrumentés par l'interaction de l'âge relatif théorique avec ces mêmes variables.]. Les effets de l'âge estimés par doubles moindres carrés et par fonction de contrôle tournent respectivement autour de 0.3 et 0.36. De manière intéressante, les doubles moindres carrés ne permettent pas de détecter l'effet hétérogène (coefficients non significatifs autour de 0.1) tandis que l'estimation par fonction de contrôle semble montrer de manière robuste (à travers les trois variables dépendantes) que l'effet est plus faible chez les garçons. Cela est illustré par la ligne *Âge aux examens* $\times$ *Sexe - Garçon*. 
Les résultats sur les notes en sous-composantes de français et de mathématiques sont reportés dans l'Annexe \@ref(agemodelssexessitems) et aboutissent à des conclusions similaires.

```{r, "agemodelssexe"}
act <- NA
agemodels_sexe %>% 
  set_colnames(c("", 
                 "ivtot", "cfhtot",
                 "ivfrench", "cfhfrench",
                 "ivmaths", "cfhmaths")) %>%  
  ## Sélection de lignes. 
  (function (d) {
    sapply(c("age.abs", 
             "age.abs:sexeM"
             ## ,
                      ## "resid", "age.abs:resid"
             ## ,
                      ## "sexeM:resid", "age.abs:sexeM:resid"
             ), 
           function (x) which(d[, 1] == x) %>% 
             (function (w) c(w, w + 1))) %>% 
      as.vector %>% 
      (function (v) sapply(c("n", "arsq"),
                           function (x) which(d[, 1] == x)) %>% 
         as.vector %>% (function (v2) c(v, v2))) %>% 
      (function (v3) d[v3, ])
  }) %>%
   ## Rajout de ligne : contrôles. 
  (function (d) rbind(d[1:(nrow(d) - 2), ],
                      rep("", ncol(d)),
                      c("Contrôles", rep("Oui", ncol(d) - 1)),
                      d[(nrow(d) - 1):nrow(d), ])) %>% 
   ## Remplacement nom de variables. 
  (function (d) {
    d[, 1] <- d[, 1] %>% agereplace 
    d
  }) %>% 
  set_colnames(c("", rep(c("VI", "FCH"), 3) %>% 
                   col_numbers())) %>% 
  # 2022_08_21 : j'enlève les R2 négatifs.
  (function (d) {
    d[nrow(d), str_detect(colnames(d), "VI")] <- "-"
    d
  })  %>% 
  kable(booktabs = TRUE, longtable = TRUE, linesep = "",
        escape = FALSE,
        caption = "Estimations des effets hétérogènes de l'âge aux examens selon le sexe") %>%
  add_header_above(c("", "Note totale" = 2,
                     "Note en français" = 2,
                     "Note en mathématiques" = 2)) %>% 
  add_header_above(c("", "Variable dépendante : " = 6)) %>% 
  kable_styling(font_size = 8) %>% 
  footnote(general = c("\\\\textit{Sources :} Fichiers CM2 (2009 à 2012), calculs de l'auteur.",
                       "\\\\textit{Notes :} Une colonne correspond à une régression. Les notes sont normalisées sur l'année scolaire. Écart-types entre parenthèses. Les écart-types des coefficients estimés par fonction de contrôle sont calculées par wild bootstrap avec 1001 réplications. La variable $\\\\hat{\\\\nu}$ est le résidu de la première étape. Les contrôles utilisés sont le sexe, la CSP et l'année scolaire.",
                       "VI : Variable Instrumentale. FCH : Fonction de Contrôle prenant en compte l'Hétérogénéité de l'effet de l'âge. CSP : Catégorie Socio-Professionnelle.",
                       "Significativité : 10\\\\% * 5\\\\% ** 1\\\\% ***."))
```
  
  
\quad Quant aux estimations des effets de l'âge aux examens différenciés selon la catégorie sociale, le Tableau \@ref(tab:agemodelspcsg2) montre que pour l'individu de référence (*CSP - Défavorisée*), un an de plus aux évaluations procure environ 0.3 unité d'écart-type d'avantage sur la note.   
Sauf en mathématiques, les deux modèles (VI et FCH) nous apprennent que l'effet de l'âge est plus fort pour un élève de catégorie très favorisée. 
  
\quad Les effets hétérogènes de l'âge aux examens selon la catégorie sociale sur les notes en sous-composantes de français et de mathématiques sont analysés et sont illustrés dans l'Annexe \@ref(agemodelspcsg2ssitems). Les estimations par fonction de contrôle nous montrent que l'effet de l'âge est plus fort chez les très favorisés sur la note en écriture, en lecture et en vocabulaire (Tableau \@ref(tab:agemodelspcsg2ssitemsfrench)). Ce n'est pas le cas en grammaire et en orthographe. Une raison plutôt intuitive pourrait expliquer ce constat : l'écriture, la lecture et le vocabulaire sont des domaines plutôt vastes tandis que la grammaire et l'orthographe sont plus techniques. Si nous supposons que l'effet de l'âge est plus fort chez les très favorisés parce que ces derniers sont significativement plus en contact avec de l'information littéraire, la nature de cette information relève plus probablement du général que de la technique^[Ils ont par exemple plus de livres et journaux chez eux, ils ont en moyenne plus accès à internet, etc..]. Plus intuitivement, les défavorisés et les très favorisés seraient en moyenne exposés à la même quantité de livres de grammaire ou d'orthographe purs mais les très favorisés auraient plus de matériels d'écriture, lisent des livres plus généraux et ont donc une gamme de vocabulaire plus large [@CHA:eal:21, par exemple].
En ce qui concerne les effets différenciés sur les notes en sous-composantes de mathématiques (Tableau \@ref(tab:agemodelspcsg2ssitemsmaths)), nous n'observons d'effet plus fort chez les très favorisés (par fonction de contrôle) que sur la note de grandeurs-et-mesures. Cela est cohérent avec l'absence d'effet en plus chez les très favorisés en mathématiques, démontrée précédemment par le Tableau \@ref(tab:agemodelspcsg2). Ce résultat est également cohérent avec notre proposition d'explication sur les sous-items de français car les mathématiques sont plutôt techniques.
  
```{r, "agemodelspcsg2"}
act <- NA
agemodels_pcs_g2 %>% 
  set_colnames(c("",
                 "ivtot", "cfhtot",
                 "ivfrench", "cfhfrench",
                 "ivmaths", "cfhmaths")) %>%  
  ## Sélection de lignes. 
  (function (d) {
    sapply(c("age.abs", 
             "age.abs:pcsRMoy",
             "age.abs:pcsRFav",
             "age.abs:pcsRTresfav",
             "age.abs:pcsRAutres",
             "age.abs:pcsRNA"
             ## ,
             ## "resid", "age.abs:resid",
             ## "age.abs:pcsRMoy:resid",
             ## "age.abs:pcsRFav:resid",
             ## "age.abs:pcsRTresfav:resid",
             ## "age.abs:pcsRAutres:resid",
             ## "age.abs:pcsRNA:resid"
             ), 
           function (x) which(d[, 1] == x) %>% 
             (function (w) c(w, w + 1))) %>% 
      as.vector %>% 
      (function (v) sapply(c("n", "arsq"),
                           function (x) which(d[, 1] == x)) %>% 
         as.vector %>% (function (v2) c(v, v2))) %>% 
      (function (v3) d[v3, ])
  }) %>%
   ## Rajout de ligne : contrôles. 
  (function (d) rbind(d[1:(nrow(d) - 2), ],
                      rep("", ncol(d)),
                      c("Contrôles", rep("Oui", ncol(d) - 1)),
                      d[(nrow(d) - 1):nrow(d), ])) %>% 
   ## Remplacement nom de variables. 
  (function (d) {
    d[, 1] <- d[, 1] %>% agereplace 
    d
  }) %>% 
  set_colnames(c("", rep(c("VI", "FCH"), 3) %>% 
                   col_numbers())) %>% 
  # 2022_08_21 : j'enlève les R2 négatifs.
  (function (d) {
    d[nrow(d), str_detect(colnames(d), "VI")] <- "-"
    d
  }) %>% 
  kable(booktabs = TRUE, longtable = TRUE, linesep = "",
        escape = FALSE,
        caption = "Estimations des effets hétérogènes de l'âge aux examens selon la catégorie sociale") %>%
  add_header_above(c("", "Note totale" = 2,
                     "Note en français" = 2,
                     "Note en mathématiques" = 2)) %>% 
  add_header_above(c("", "Variable dépendante : " = 6)) %>% 
  kable_styling(font_size = 8) %>% 
  footnote(general = c("\\\\textit{Sources :} Fichiers CM2 (2009 à 2012), calculs de l'auteur.",
                       "\\\\textit{Notes :} Une colonne correspond à une régression. Les notes sont normalisées sur l'année scolaire. Écart-types entre parenthèses. Les écart-types des coefficients estimés par fonction de contrôle sont calculées par wild bootstrap avec 1001 réplications. La variable $\\\\hat{\\\\nu}$ est le résidu de la première étape. Les contrôles utilisés sont le sexe, la CSP et l'année scolaire.",
                       "VI : Variable Instrumentale. FCH : Fonction de Contrôle prenant en compte l'Hétérogénéité de l'effet de l'âge. CSP : Catégorie Socio-Professionnelle.",
                       "Significativité : 10\\\\% * 5\\\\% ** 1\\\\% ***."))
```

\quad En somme, les effets de l'âge apparaissent plus forts chez les filles et chez les enfants très favorisés. Même si nous pouvons associer le premier résultat avec une interprétation cohérente (les filles mûrissent plus vite que les garçons), un effet plus fort chez les filles n'est pas systématiquement retrouvé dans la littérature^[Par exemple, pour la France, à bas âge, @GRE:09 ne documente pas d'effet significativement différent selon le sexe. Il en est de même dans @PUH:WEB:05 pour l’Allemagne ou encore @DAT:06 pour les États-Unis. Dans certains articles, l'effet est retrouvé comme étant plus fort chez les garçons. C'est le cas par exemple au Brésil avec @MAT:eal:16 pour le Brésil, @MCE:SHA:08 en Chili ou encore @CAS:SCH:16 aux États-Unis.].  
L'effet plus prononcé chez les très favorisé trouvé pour La Réunion, quant à lui, va à l'encontre de ce qui ressort de la littérature : les effets de l'âge sous ses diverses formes (âge d'entrée, âge aux examens, par exemple), apparaissent en général plus fort chez les individus plutôt "défavorisés". Cette classification de "défavorisée" peut être définie de manières différentes en fonction des données disponibles. L'éducation des parents [@MAT:eal:16 ; @ATT:COH:18, par exemple] ou la tranche de revenu de la famille [@DAT:06 ; @SMI:09] en sont deux exemples.  
  
\quad Pourquoi trouvons-nous des effets plus forts chez les individus issus de parents très favorisés ? Une explication possible est l'efficacité de la remédiation ciblée en faveur des élèves défavorisés. En effet, une des raisons  pour laquelle un effet plus fort est détecté chez les "défavorisés" serait que les familles correspondantes ont plus de mal à accompagner leur enfant dans son développement à travers le temps. Cela a pour conséquence de creuser l'écart de performances dû à un même écart d'âge chez les défavorisés par rapport aux familles favorisées [@HAM:KOL:12]. Or, la France est caractérisée par l'existence des écoles en éducation prioritaire qui se voient allouer des moyens supplémentaires [@ALE:eal:13] car elles concentrent une part considérable d'élèves défavorisés. Empiriquement, à La Réunion, les écoles en éducation prioritaire comptent 64\% d'élèves défavorisés alors que cette proportion n'est que de 48\% dans les écoles hors éducation prioritaire. Si ce type de mesure réduit les écarts de performance dus aux écarts d'âge aux examens, nous nous attendons à trouver un effet plus faible chez les élèves défavorisés dans les écoles en éducation prioritaire comparés aux défavorisés dans les écoles hors éducation prioritaire. 
   
\quad Nous proposons alors le Tableau \@ref(tab:agemodelspcsg2reseaubinsep) qui montre les résultats des estimations par fonction de contrôle, séparément en fonction du statut d'éducation prioritaire. Les colonnes (1), (3) et (5) correspondent aux écoles hors éducation prioritaire tandis que les colonnes (2), (4) et (6) correspondent aux écoles en éducation prioritaire.  
Ce tableau ne fait pas ressortir de manière robuste le résultat attendu vu que sur la note totale, l'effet chez les défavorisés n'est pas significativement différent selon le statut d'éducation prioritaire^[En comparant deux à deux dans l'ordre les colonnes de la première ligne du tableau.]. 
Le même constat est fait lorsque les notes en sous-composantes sont utilisées comme variables dépendantes <!--(Annexes \@ref(agemodelssexereseaubinsepssitems) et \@ref(agemodelspcsg2reseaubinsepssitems)) MAJ 2021_12_30 : pas besoin de l'effet hétérogène selon le sexe par éducation prioritaire.--> (Annexe \@ref(agemodelssexereseaubinsep)).
La remédiation ne semble alors pas expliquer l'effet plus fort observé chez les très favorisés à La Réunion.  
  
  
\quad Un autre phénomène peut alternativement expliquer la supériorité des effets de l'âge chez les très favorisés. Il est probable que les élèves en retard chez les très favorisés sont en majorité, cette fois, d'élèves qui sont entrés en retard pour des raisons stratégiques (être plus mature à l'entrée et ainsi obtenir de meilleurs résultats). La stratégie aurait alors été très efficace pour les enfants des parents très favorisés [@CAS:SCH:16]. En effet, un enfant issu de famille aisée qui attend un an de plus avant d'entrer à l'école cumulerait plus de capital humain grâce à son environnement familial et les moyens mis à sa disposition par rapport à son homologue issu de famille défavorisée. Les familles très favorisées seraient également indifférentes aux coûts d'attente d'une année de plus avant l'inscription à l'école (crèches ou services domestiques, par exemple), ce qui n'est pas le cas des familles défavorisées. Vu sous un autre angle, les effets supérieurs mesurés chez les enfants très favorisés seraient dus à leurs âges d'entrée. Nos données ne disposent pas des variations nécessaires pour tester une telle hypothèse.  
Cette explication rejoint celle de @ELD:LUB:09. Selon ces auteurs, si on trouve de tels effets, c'est que c'est l'investissement avant le primaire qui importe par rapport à la maturité au moment des examens dans les premières années du primaire. 
  
\quad Remarquons enfin qu'il existe une cohérence entre l'effet croissant avec les facultés (Section \@ref(agemodelsres)) et l'effet plus fort chez les filles et les très favorisés. 

```{r, "agemodelspcsg2reseaubinsep"}
agemodels_pcs_g2_reseau_bin_sep %>% 
  set_colnames(c("",
                 "cfhtotnon", "cfhtotoui",
                 "cfhfrenchnon", "cfhfrenchoui",
                 "cfhmathsnon", "cfhmathsoui")) %>%  
  ## Sélection de lignes. 
  (function (d) {
    sapply(c("age.abs", 
             "age.abs:pcsRMoy",
             "age.abs:pcsRFav",
             "age.abs:pcsRTresfav",
             "age.abs:pcsRAutres",
             "age.abs:pcsRNA"
             ## ,
             ## "resid", "age.abs:resid",
             ## "age.abs:pcsRMoy:resid",
             ## "age.abs:pcsRFav:resid",
             ## "age.abs:pcsRTresfav:resid",
             ## "age.abs:pcsRAutres:resid",
             ## "age.abs:pcsRNA:resid"
             ), 
           function (x) which(d[, 1] == x) %>% 
             (function (w) c(w, w + 1))) %>% 
      as.vector %>% 
      (function (v) sapply(c("n", "arsq"),
                           function (x) which(d[, 1] == x)) %>% 
         as.vector %>% (function (v2) c(v, v2))) %>% 
      (function (v3) d[v3, ])
  }) %>%
   ## Rajout de ligne : contrôles. 
  (function (d) rbind(d[1:(nrow(d) - 2), ],
                      rep("", ncol(d)),
                      c("Contrôles", rep("Oui", ncol(d) - 1)),
                      d[(nrow(d) - 1):nrow(d), ])) %>% 
   ## Remplacement nom de variables. 
  (function (d) {
    d[, 1] <- d[, 1] %>% agereplace 
    d
  }) %>% 
  set_colnames(c("", rep(c("FCH, Hors EP", "FCH, EP"), 3) %>% 
                   col_numbers())) %>% 
  kable(booktabs = TRUE, longtable = TRUE, linesep = "",
        escape = FALSE,
        caption = "Estimations des effets hétérogènes de l'âge selon la catégorie sociale, par statut d'éducation prioritaire") %>%
  add_header_above(c("", "Note totale" = 2,
                     "Note en français" = 2,
                     "Note en mathématiques" = 2)) %>% 
  add_header_above(c("", "Variable dépendante : " = 6)) %>% 
  kable_styling(font_size = 8) %>% 
  footnote(general = c("\\\\textit{Sources :} Fichiers CM2 (2009 à 2012), calculs de l'auteur.",
                       "\\\\textit{Notes :} Une colonne correspond à une régression. Les notes sont normalisées sur l'année scolaire. Écart-types entre parenthèses. Les écart-types des coefficients estimés par fonction de contrôle sont calculées par wild bootstrap avec 1001 réplications. La variable $\\\\hat{\\\\nu}$ est le résidu de la première étape. Les contrôles utilisés sont le sexe, la CSP et l'année scolaire.",
                       "FCH : Fonction de Contrôle prenant en compte l'Hétérogénéité de l'effet de l'âge. EP : Éducation Prioritaire. CSP : Catégorie Socio-Professionnelle.",
                       "Significativité : 10\\\\% * 5\\\\% ** 1\\\\% ***."))
```

### Résultats des estimations par régressions sur une discontinuité {#agefrdcfhmodelsres}

Les résultats principaux liés aux estimations par régression sur une discontinuité sont donnés par le Tableau \@ref(tab:agefrdcfhmodels).  
  
\quad La première étape (colonnes 1 et 2) montre que nous n'avons pas un problème d'instrument faible : être né en 2000 plutôt qu'en 1999 augmente en moyenne l'âge aux examens de 0.74 année. 
  
\quad Les résultats du *fuzzy regression discontinuity* (estimé par fonction de contrôle, voir Section \@ref(agemethodsrd)) en utilisant une fenêtre de 30 jours nous montrent que l'effet d'avoir un an de plus aux examens varie entre environ 0.5 et environ 0.7 unité d'écart-type. Les ampleurs sont nettement supérieures à celles trouvées dans les estimations sur données en coupe précédentes. Cela s'explique par la fenêtre de 30 jours utilisée en régression sur une discontinuité puisque les individus concernés ont des différentiels d'âge largement supérieurs à ceux des individus dans les estimations en coupe. Ces ampleurs rejoignent celles trouvées par @MAT:eal:16 (Brésil) et @CRA:eal:14 (Angleterre). @SMI:09 [p. 23] trouvent également que les coefficients estimés par régressions sur une discontinuités sont supérieurs à ceux estimés sur les données en coupe^[Mais pour des élèves en 10^ème^ année d'éducation du premier cycle.]. Les résultats ne diffèrent pas significativement selon le degré de polynôme considéré lorsque nous regardons par les coefficients associés à $dist_i$ et $dist_i^ 2$ qui sont non significatifs et de très faible ampleur. Ce constat peut également être interprété par la vraisemblable absence d'effets directs de la date de naissance absolue (en considérant l'année). Cela rejoint l'absence d'effet direct de la date de naissance dans l'année discutée dans la Section précédente \@ref(agemodelsres) (colonne 4 du Tableau \@ref(tab:agemodels)). 
  
\quad Les effets de l'âge sur la note en mathématiques sont légèrement supérieurs à ceux sur la note en français mais pas de manière significative lorsque des *z-tests* sont effectués.
Excepté en écriture où ils sont relativement moins prononcés, les effets mesurés ne diffèrent pas non plus à travers les sous-composantes de français entre elles comme le montre le Tableau \@ref(tab:agefrdcfhmodelsssitemsfrench) de l'Annexe \@ref(agefrdcfhmodelsssitems). Le même constat peut être fait pour les effets sur les sous-composantes de mathématiques entre elles (Tableau \@ref(tab:agefrdcfhmodelsssitemsmaths) de l'Annexe \@ref(agefrdcfhmodelsssitems)). L'ampleur des coefficients dans le cas des sous-composantes de mathématiques apparaissent supérieure par rapport aux sous-composantes de français.

\newpage
```{r, "agefrdcfhmodels"}
## Version précédente : agefrdcfhmodels. 
act2 <- NA
agefrdcfhmodels %>% 
  set_colnames(c("", "pep1", "pep2", 
                 "frdtotp1", "frdtotp2",
                 "frdfrenchp1", "frdfrenchp2",
                 "frdmathsp1", "frdmathsp2")) %>%   
  ## Sélection de lignes. 
(function (d) {
  sapply(c("age.abs", 
           "old", "dist", "old:dist",
           "Idist.2", "old:Idist.2"), 
         function (x) which(d[, 1] == x) %>% 
           (function (w) c(w, w + 1))) %>% 
    as.vector %>% 
    (function (v) sapply(c("n", "arsq"),
                         function (x) which(d[, 1] == x)) %>% 
       as.vector %>% (function (v2) c(v, v2))) %>% 
    (function (v3) d[v3, ])
}) %>%
  ## Rajout de ligne : contrôles. 
  (function (d) rbind(d[1:(nrow(d) - 2), ],
                      rep("", ncol(d)),
                      c("Contrôles", rep("Oui", ncol(d) - 1)),
                      d[(nrow(d) - 1):nrow(d), ])) %>% 
  ## Remplacement nom de variables. 
  (function (d) {
    d[, 1] <- d[, 1] %>% agereplace 
    d
  }) %>% 
  set_colnames(c("", 
                 c("\\makecell{Première étape \\\\ p = 1}",
                   "\\makecell{Première étape \\\\ p = 2}",
                   "\\makecell{FRD \\\\ p = 1}", 
                   "\\makecell{FRD \\\\ p = 2}",
                   "\\makecell{FRD \\\\ p = 1}", 
                   "\\makecell{FRD \\\\ p = 2}",
                   "\\makecell{FRD\\\\ p = 1}", 
                   "\\makecell{FRD\\\\ p = 2}") %>% 
                   col_numbers())) %>% 
  kable(booktabs = TRUE, longtable = TRUE, linesep = "",
        escape = FALSE,
        caption = "Estimations des effets de l'âge aux examens par régressions sur une discontinuité") %>%
  kable_styling(font_size = 8) %>% 
  footnote(general = c("\\\\textit{Sources :} Fichiers CM2 (2009 à 2012) - nés en 1999 et 2000, calculs de l'auteur.",
                       "\\\\textit{Notes :} Une colonne correspond à une régression. On note $p$ le degré de polynôme de $dist$ et $old \\\\times dist$ utilisé. Les notes sont normalisées sur l'année scolaire. Écart-types entre parenthèses. Les contrôles utilisés sont le sexe, la CSP et l'année scolaire.",
                       "FRD : \\\\textit{Fuzzy Regression Discontinuity.} CSP : Catégorie Socio-Professionnelle.",
                       "Significativité : 10\\\\% * 5\\\\% ** 1\\\\% ***.")) %>% 
  add_header_above(c("", "Âge aux examens" = 2,
                     "Note totale" = 2,
                     "Note en français" = 2,
                     "Note en mathématiques" = 2)) %>% 
  add_header_above(c("", "Variable dépendante : " = 8))
```

\quad N'ayant pas de justification formelle du choix spécifique de la fenêtre de 30 jours, nous présentons les résultats obtenus en fonction de la fenêtre retenue dans la Figure \@ref(fig:agefrdcfhmodelsh). Concrètement, pour chaque fenêtre allant de 5 à 30 jours, par pas de 1 jour, nous réestimons le modèle de *fuzzy regression discontinuity*. Les fenêtres utilisées sont représentées sur l'axe horizontal de la figure et la hauteur des points représente les effets estimés de l'âge aux examens. Les nombres d'observations correspondant à chaque fenêtre sont représentés à l'aide d'un diagramme en couleurs. Les lignes en pointillées mettent en évidence les résultats avec 30 jours de fenêtre. Les lignes non horizontales autour des points représentent les intervalles de confiance à 95\% construits à partir d'écart-types calculés par wild bootstrap (voir Section \@ref(agemethodscfh) et Annexe \@ref(agewbootdesc)). Les variables dépendantes changent d'une ligne de graphiques à l'autre et le degré de polynôme d'une colonne de graphique à l'autre.
De manière générale, nos résultats sont robustes par rapport à la fenêtre vu que les points ne s'éloignent de la ligne horizontale en pointillée que pour des cas de fenêtres très petites^[Il est également attendu d'avoir des intervalles de confiances de plus en plus larges au fur et à mesure que les fenêtres sont petites car de moins en moins d'observations sont utilisées dans les régressions correspondantes.]. 
  
\quad Ce premier ensemble de résultats va globalement dans le sens de nos résultats obtenus par fonction de contrôle (Section \@ref(agemodelsres)).  

  
```{r, "agefrdcfhmodelsh", fig.cap = "Sensibilité des effets estimés de l'âge aux examens par régressions sur une discontinuité selon la fenêtre utilisée (de 5 à 30 jours)", fig.asp = 1}
act <- NA
filter(agefrdcfhmodels_h, depvar %in% c("score_norm",
                                     "score_f_norm",
                                     "score_m_norm")) %>%
  mutate(poly = str_replace(poly, "p1", "p = 1") %>% 
           str_replace("p2", "p = 2"),
         depvar = factor(depvar,
                         levels = c("score_norm",
                                    "score_f_norm",
                                    "score_m_norm"),
                         labels = c("Note totale",
                                    "Note en français",
                                    "Note en mathématiques"))) %>%
  (function (d) left_join(d, group_by(d, depvar, poly) %>% 
                            filter(h == 30) %>% 
                            summarise(coefh30 = unique(coef)))) %>%
  filter(h <= 30) %>% 
  ggplot(aes(h, coef)) + 
  geom_point(aes(color = nobs)) +
  scale_color_distiller(name = "Observations",
                        palette = "Greys", direction = 1) + 
  facet_grid(depvar ~ poly) +
  geom_line(aes(y = up)) + 
  geom_line(aes(y = low)) + 
  geom_hline(aes(yintercept = coefh30), 
             linetype = "dashed",
             color = "blue") +
  geom_hline(aes(yintercept = 0), 
             linetype = "solid",
             color = "red") + 
  labs(x = "Fenêtre en jours",
       y = "Effet de l'âge aux examens",
       caption = "Sources : Fichiers CM2 (2009 à 2012) - élèves nés en 1999 et 2000, calculs de l'auteur. \nNotes : Effets de l'âge aux examens estimés par FRD en fonction de la fenêtre (par pas de 1 jour). \nLes variables dépendantes sont normalisées par année scolaire. On note p le degré de polynôme. \nIntervalles de confiances à 95%. Ligne horizontale au niveau 0.") + 
  theme_bw() + 
  ylim(- .5, 1.5) + 
  ## geom_vline(xintercept = 30, 
  ##            linetype = "dashed", 
  ##            color = "blue") + 
  mytheme %>% 
  (function (m) {
    m$strip.text.y <- element_text(size = m$axis.title$size - 2,
                                   angle = 45)
    m$legend.position <- "bottom"
    m$legend.key.width <- unit(2, "cm")
    m$plot.caption <- element_text(vjust = - 1,
                                   size = m$plot.caption$size,
                                   hjust = 0)
    m
  })
```
  
\quad L'ampleur des coefficients devant l'interaction entre l'âge aux examens et l'indicatrice du fait d'être un garçon du Tableau \@ref(tab:agefrdcfhmodelssexe) suggèrent que les effets de l'âge sont plus forts chez les filles. Ces ampleurs sont également supérieures à leurs homologues obtenues par fonction de contrôle. Les coefficients concernés sont toutefois mesurés avec très peu de précision. Cela peut être dû à la taille de l'échantillon plus réduite (environ 2000 contre environ 50000 dans l'approche par fonction de contrôle). Mais cette dernière est de l'ordre de 2000 individus et cette justification est alors à considérer avec prudence. L'autre explication serait alors qu'il n'y a pas d'effet de l'âge supplémentaire chez les filles pour les individus au voisinage du seuil. Le fait que les coefficients sont relativement importants et stables (environ entre - 0.13 UET et - 0.16) constitue tout de même un point faible de cet argument.    
<!-- Phrase modifiée radicalement, revoir la dernière version en fin déc pour le paragraphe original.  -->
Les résultats sur les sous-items de français montrés par le Tableau \@ref(tab:agefrdcfhmodelssexessitemsfrench) de l'Annexe \@ref(agefrdcfhmodelssexessitems) nous permettent de confirmer des effets supérieurs chez les filles surtout sur les notes en grammaire et en lecture. Ces résultats s'accordent avec leurs homologues sur données en coupe. Nous retrouvons moins de cette cohérence en ce qui concerne les sous-items de mathématiques (Tableau \@ref(tab:agefrdcfhmodelssexessitemsfrench) de l'Annexe \@ref(agefrdcfhmodelssexessitems)). 


```{r, "agefrdcfhmodelssexe"}
agefrdcfhmodels_sexe %>% 
  apply(2, function (x) str_replace(x, "dist:old",
                                    "old:dist")) %>% 
  set_colnames(c("", "frdtotp1", "frdtotp2",
                 "frdfrenchp1", "frdfrenchp2",
                 "frdmathsp1", "frdmathsp2")) %>% 
  ## Sélection de lignes. 
  (function (d) {
    sapply(c("age.abs", "age.abs:sexeM",
             "dist", "old:dist",
             "Idist.2", "old:Idist.2") , 
           function (x) which(d[, 1] == x) %>% 
             (function (w) c(w, w + 1))) %>% 
      as.vector %>% 
      (function (v) sapply(c("n", "arsq"),
                           function (x) which(d[, 1] == x)) %>% 
         as.vector %>% (function (v2) c(v, v2))) %>% 
      (function (v3) d[v3, ])
  }) %>%
  ## Rajout de ligne : contrôles. 
  (function (d) rbind(d[1:(nrow(d) - 2), ],
                      rep("", ncol(d)),
                      c("Contrôles", rep("Oui", ncol(d) - 1)),
                      d[(nrow(d) - 1):nrow(d), ])) %>% 
  ## Remplacement nom de variables. 
  (function (d) {
    d[, 1] <- d[, 1] %>% agereplace 
    d
  }) %>% 
  set_colnames(c("", 
                 c("FRD, p = 1", "FRD, p = 2") %>% 
                   rep(3) %>% 
                   col_numbers())) %>% 
  kable(booktabs = TRUE, longtable = TRUE, linesep = "",
        escape = FALSE,
        caption = "Estimations des effets hétérogènes de l'âge selon le sexe par régressions sur une discontinuité") %>%
  kable_styling(font_size = 8) %>% 
  footnote(general = c("\\\\textit{Sources :} Fichiers CM2 (2009 à 2012) - nés en 1999 et 2000, calculs de l'auteur.",
                       "\\\\textit{Notes :} Une colonne correspond à une régression. On note $p$ le degré de polynôme de $dist$ et $old \\\\times dist$ utilisé. Les notes sont normalisées sur l'année scolaire. Écart-types entre parenthèses. Fenêtre de 30 jours. Les contrôles utilisés sont le sexe, la CSP et l'année scolaire.",
                       "FRD : \\\\textit{Fuzzy Regression Discontinuity.} CSP : Catégorie Socio-Professionnelle.",
                       "Significativité : 10\\\\% * 5\\\\% ** 1\\\\% ***.")) %>% 
  add_header_above(c("", "Note totale" = 2,
                     "Note totale en français" = 2,
                     "Note en mathématiques" = 2)) %>% 
  add_header_above(c("", "Variable dépendante : " = 6))
```

\quad Nous montrons également les résultats en fonction de la fenêtre choisie. La Figure \@ref(fig:agefrdcfhmodelssexeh) est construite de la même manière que la figure précédente à la seule différence que l'ampleur et la significativité des coefficients associés à l'interaction entre l'âge aux examens et l'indicatrice du sexe masculin sont en plus mises en évidence avec les points en forme de triangles.  
Nous observons ici aussi généralement que nos résultats sont robustes et cohérents avec ceux obtenus avec l'approche par fonction de contrôle. Au vu de leurs ampleurs, les effets supplémentaires pour les garçons ne sont très probablement non significatifs qu'à cause de la taille de l'échantillon. 

```{r, "agefrdcfhmodelssexeh", fig.cap = "Sensibilité des effets estimés de l'âge aux examens par régressions sur une discontinuité selon la fenêtre utilisée (de 5 à 30 jours), hétérogènes selon le sexe", fig.asp = 1}
act <- NA
filter(agefrdcfhmodels_sexe_h,
       depvar %in% c("score_norm",
                     "score_f_norm",
                     "score_m_norm")) %>%
  mutate(poly = str_replace(poly, "p1", "p = 1") %>% 
           str_replace("p2", "p = 2"),
         depvar = factor(depvar,
                         levels = c("score_norm",
                                    "score_f_norm",
                                    "score_m_norm"),
                         labels = c("Note totale",
                                    "Note en français",
                                    "Note en mathématiques"))) %>%
  (function (d) left_join(d, group_by(d, depvar, poly) %>% 
                                                                                             filter(h == 30) %>% 
                            summarise(coefh30 = unique(coef)))) %>%
  filter(h <= 30) %>% 
  ggplot(aes(h, coef)) + 
  geom_point(aes(color = nobs), shape = 16) +
  scale_color_distiller(name = "Observations",
                        palette = "Greys", direction = 1) + 
  geom_point(aes(y = coef_sexeM, shape = pval_sexeM <= .05)) +
  scale_shape_manual(name = "Effet supplémentaire pour les garçons",
                     values = c(2, 17),
                     labels = c("Non significatif",
                                "Significatif")) + 
  facet_grid(depvar ~ poly) + 
  geom_line(aes(y = up)) + 
  geom_line(aes(y = low)) + 
  geom_hline(aes(yintercept = coefh30),
             linetype = "dashed",
             color = "blue") + 
  geom_hline(aes(yintercept = 0),
             linetype = "solid",
             color = "red") + 
  labs(x = "Fenêtre en jours",
       y = "Effet de l'âge aux examens",
       caption = "Sources : Fichiers CM2 (2009 à 2012) - élèves nés en 1999 et 2000, calculs de l'auteur. \nNotes : Effets de l'âge aux examens estimés par FRD en fonction de la fenêtre (par pas de 1 jour). \nLes variables dépendantes sont normalisées par année scolaire. On note p le degré de polynôme. \nIntervalles de confiances à 95%. Ligne horizontale au niveau 0.") + 
  ## geom_vline(xintercept = 30, linetype = "dashed",
  ##            color = "blue") +
  theme_bw() +
  ylim(- 1, 2)  + 
  mytheme %>% 
  (function (m) {
    m$strip.text.y <- element_text(size = m$axis.title$size - 2,
                                   angle = 45)
    m$legend.position <- "bottom"
    m$legend.box <- "vertical"
    m$legend.key.width <- unit(2, "cm")
    m$plot.caption <- element_text(vjust = - 1,
                                   size = m$plot.caption$size,
                                   hjust = 0)
    m
  })
```

\quad Puisque nous ne disposons pas des CSP pour les élèves de 2009, c'est-à-dire pour les élèves nés en 1999 et en avance, nous nous abstenons de montrer les effets de l'âge selon la catégorie sociale estimés par régressions sur une discontinuité puisqu'ils souffrent d'un biais de sélection important. 
  
\quad Les résultats obtenus par régressions sur une discontinuité supportent nos conclusions principales.

### Les effets à moyen terme de l'âge aux examens {#agemodelsmtres}

Nous avons montré qu'être âgé d'un an de plus aux évaluations de CM2 procure environ 0.3 unité d'écart-type d'avantage pour les élèves de même année scolaire et 0.6 unité d'écart-type ou plus pour les élèves nés au voisinage du 01^er^ janvier 2000. Ces effets sont importants. Néanmoins, nous les avons mesurés en fin de primaire, c'est-à-dire lorsque les élèves sont encore très jeunes. Au vu de la vitesse de croissance d'un enfant par rapport à celui d'un humain plus âgé, il est plutôt intuitif de penser qu'une différence d'âge entre deux enfants de bas âge joue plus de rôle dans la performance aux examens par rapport à une même différence entre deux adolescents, par exemple. Si le fonctionnement du système scolaire atténue, voire même élimine les différences de résultats causées par des différences d'âge à moyen ou à long terme, les effets de l'âge ne devraient alors pas être une préoccupation majeure des décideurs publics. Par contre, si les différences de performances survenues très tôt (causées par l'âge aux examens) influent considérablement sur le parcours scolaire ultérieur qui, lui est un déterminant des performances futures, alors il est important de penser à réduire cette "injustice"^[Les différences de résultats purement causées par des différences d'âge aux examens peuvent être vues comme une injustice car l'enfant ne choisit pas sa date de naissance.] le plus tôt possible. De plus, il est connu que l'enfance est la meilleure période pour investir en capital humain [@CUN:HEC:07]. 
<!-- Voir références de Clements et al. 201 (g20), p. 128 -->
  
\quad Les mécanismes du système français qui font que les effets de l'âge aux examens plus tôt dans la scolarité d'un enfant peuvent être maintenus, voire amplifiés, sont nombreux. Les sections du collège (voir Section \@ref(ageinst)) constituent un premier exemple si ces dernières "scellent" en quelque sorte le sort des élèves qui s'y retrouvent [@PAL:11]. La pratique du redoublement au collège peut également maintenir ou aggraver les effets de l'âge au CM2 si les moins performants au CM2 ont tendance à redoubler au collège et si le redoublement influe lui-même sur les performances futures via la démotivation de l'élève par exemple^[@ALE:eal:13 fournissent quelques éléments par lesquels l'effet du redoublement peut être positif ou négatif. Le consensus n'est toutefois pas encore établi, à notre connaissance.].  
  
\quad Nos données de DNB peuvent nous permettent d'estimer pratiquement les mêmes modèles que ceux au CM2 pour analyser les effets à moyen terme de l'âge aux examens. Concrètement, nous prenons comme variables dépendantes principales la note totale, la note en français et la note en mathématiques au DNB. La note totale ici n'est pas uniquement composée de la note en français et en mathématiques. Nous considérons les notes aux écrits d'histoire-et-géographie, de dictée et de rédaction comme variables dépendantes secondaires pour nous assurer de la robustesse de nos résultats. La variable explicative d'intérêt est l'âge au moment des épreuves finales de DNB. Nous utilisons le régime scolaire comme variable de contrôle supplémentaire.    
  
Les résultats sont présentés par le Tableau \@ref(tab:agemodelsmt). Le coefficient associé à l'âge relatif théorique de la colonne (1) indique une fois de plus que l'instrument utilisé est fort. Il est normal de constater que le coefficient de première étape (0.7 UET) est légèrement plus faible que celui au CM2, vu les possibles redoublements et sauts de classe entre le CM2 et la 3^ème^, ce qui rend en quelque sorte la date de naissance moins prédictive de l'âge aux épreuves du DNB.   
Les effets de l'âge sur les résultats aux examens du DNB sont compris entre environ 0.13 et 0.18 unité d'écart-type. Ces amplitudes représentent moins de la moitié des effets mesurés en fin de primaire.  
Ces résultats suggèrent que les effets de l'âge aux examens diminuent à travers le temps mais restent significatifs jusqu'à la fin du collège. Cette proposition est en accord avec la littérature qui couvre les pays ne pratiquant pas de spécialisation précoce en éducation [@BED:DHU:06 ; @GRE:09]. 
<!-- Cette affirmation est toutefois à considérer avec prudence car nous ne mesurons pas exactement les effets des mêmes différentiels d'âge qu'au CM2. En l'occurrence, les résultats du Tableau \@ref(tab:agemodelsmt) utilisent des différentiels d'âge aux examens survenus après des redoublements au collège et sont donc supérieurs aux différentiels d'âge aux évaluations de CM2. Nous pensons alors que les effets documentés dans cette section sont des bornes supérieures des effets à moyen terme de l'âge aux évaluations de CM2.   -->
Notons que les coefficients associés aux indicatrices de sexe et de catégorie sociale restent cohérents avec ceux présentés dans la section précédente.  
  
\quad Les effets ne sont pas significativement différents en fonction de la variable dépendante, comme le montre le Tableau \@ref(tab:agemodelsmtssmoy) de l'Annexe \@ref(agemodelsmtssmoy).
  
```{r, "agemodelsmt"}
act2 <- NA
agemodelsmt %>% 
  ## Sélection de lignes. 
  (function (d) {
    sapply(c("age.absdnb", "resid", "age.absdnb:resid",
             "z.dnb",
             "sexe.modM",
             "pcs.reg.modMoy", "pcs.reg.modFav",
             "pcs.reg.modTresfav", "pcs.reg.modAutres",
             "lregime.constat.gint",
             "lregime.constat.gext",
             "session.mod2015", "session.mod2016"), 
           function (x) which(d[, 1] == x) %>% 
             (function (w) c(w, w + 1))) %>% 
      as.vector %>% 
      (function (v) sapply(c("n", "arsq"),
                           function (x) which(d[, 1] == x)) %>% 
         as.vector %>% (function (v2) c(v, v2))) %>% 
      (function (v3) d[v3, ])
  }) %>%
  ## Rajout de ligne : contrôles. 
  (function (d) rbind(d[1:(nrow(d) - 2), ],
                      rep("", ncol(d)),
                      c("Contrôles", rep("Oui", ncol(d) - 1)),
                      d[(nrow(d) - 1):nrow(d), ])) %>% 
  ## Remplacement nom de variables. 
  (function (d) {
    d[, 1] <- d[, 1] %>% agereplace 
    d
  }) %>% 
  set_colnames(c("", 
                 c("\\makecell{Première \\\\ étape}",
                 rep(c("\\makecell{VI \\\\ \\ }", 
                       "\\makecell{FCH \\\\ \\ }"), 3)) %>% 
                   col_numbers())) %>% 
  # 2022_08_21 : j'enlève les R2 négatifs.
  (function (d) {
    d[nrow(d), str_detect(colnames(d), "VI")] <- "-"
    d
  }) %>% 
  kable(booktabs = TRUE, longtable = TRUE, linesep = "",
        escape = FALSE,
        caption = "Estimations des effets à moyen terme de l'âge aux examens") %>% 
  add_header_above(c("", 
                     "Âge aux examens",
                     "Totale" = 2,
                     "En français (écrits)" = 2,
                     "En mathématiques (écrits)" = 2)) %>% 
  add_header_above(c("", "",
                     "Variable dépendante : Note" = 6)) %>% 
  kable_styling(font_size = 8) %>% 
  footnote(general = c("\\\\textit{Sources :} Fichiers DNB (2014 à 2016), calculs de l'auteur.",
                       "\\\\textit{Notes :} Une colonne correspond à une régression. Les notes sont normalisées sur l'année scolaire. Écart-types entre parenthèses. Les écart-types des coefficients estimés par fonction de contrôle sont calculées par wild bootstrap avec 1001 réplications. La variable $\\\\hat{\\\\nu}$ est le résidu de la première étape. Les contrôles utilisés sont le sexe, la CSP, le régime scolaire et l'année scolaire.",
                       "VI : Variable Instrumentale. FCH : Fonction de Contrôle prenant en compte l'Hétérogénéité de l'effet de l'âge. CSP : Catégorie Socio-Professionnelle.",
                       "Significativité : 10\\\\% * 5\\\\% ** 1\\\\% ***."))
```
\newpage

\quad Le Tableau \@ref(tab:agemodelsmtsexemod) nous enseigne qu'il n'y a plus d'hétérogénéité de ces effets selon le sexe puisque les coefficients associés à l'interaction entre l'âge aux examens et l'indicatrice de sexe masculin ne sont pas significatifs et sont de faible ampleur.  
Le Tableau \@ref(tab:agemodelsmtsexemodssmoy) de l'Annexe \@ref(agemodelsmtssmoysexemod) qui tente de capturer les éventuels effets hétérogènes de l'âge au DNB sur les notes en histoire-et-géographie, en dictée et en rédaction fournit le même enseignement.
En reprenant notre interprétation dans la Section \@ref(agemodelsheterores), il semble que si les filles mûrissent plus vite que les garçons en primaire, soit ce n'est plus le cas au collège, soit la différence de vitesse de maturité n'affecte plus les performances en fin de collège. 

```{r, "agemodelsmtsexemod"}
act <- NA
agemodelsmt_sexe_mod %>% 
  ## Sélection de lignes. 
  (function (d) {
    sapply(c("age.absdnb", "age.absdnb:sexe.modM"
             ## ,
             ## "resid", "age.absdnb:resid",
             ## "sexe.modM:resid",
             ## "age.absdnb:sexe.modM:resid",
             ## "sexe.modM"
             ), 
           function (x) which(d[, 1] == x) %>% 
             (function (w) c(w, w + 1))) %>% 
      as.vector %>% 
      (function (v) sapply(c("n", "arsq"),
                           function (x) which(d[, 1] == x)) %>% 
         as.vector %>% (function (v2) c(v, v2))) %>% 
      (function (v3) d[v3, ])
  }) %>%
  ## Rajout de ligne : contrôles. 
  (function (d) rbind(d[1:(nrow(d) - 2), ],
                      rep("", ncol(d)),
                      c("Contrôles", rep("Oui", ncol(d) - 1)),
                      d[(nrow(d) - 1):nrow(d), ])) %>% 
  ## Remplacement nom de variables. 
  (function (d) {
    d[, 1] <- d[, 1] %>% agereplace
    d
  }) %>% 
  set_colnames(c("", 
                   rep(c("\\makecell{VI \\\\ \\ }", 
                         "\\makecell{FCH \\\\ \\ }"), 3) %>% 
                   col_numbers())) %>% 
  # 2022_08_21 : j'enlève les R2 négatifs.
  (function (d) {
    d[nrow(d), str_detect(colnames(d), "VI")] <- "-"
    d
  }) %>% 
  kable(booktabs = TRUE, longtable = TRUE, linesep = "",
        escape = FALSE,
        caption = "Estimations des effets de l'âge aux examens hétérogènes de l'âge selon le sexe, à moyen terme") %>% 
  add_header_above(c("", 
                     "Totale" = 2,
                     "En français (écrits)" = 2,
                     "En mathématiques (écrits)" = 2)) %>% 
  add_header_above(c("",
                     "Variable dépendante : Note" = 6)) %>% 
  kable_styling(font_size = 8) %>% 
  footnote(general = c("\\\\textit{Sources :} Fichiers DNB (2014 à 2016), calculs de l'auteur.",
                       "\\\\textit{Notes :} Une colonne correspond à une régression. Les notes sont normalisées sur l'année scolaire. Écart-types entre parenthèses. Les écart-types des coefficients estimés par fonction de contrôle sont calculées par wild bootstrap avec 1001 réplications. La variable $\\\\hat{\\\\nu}$ est le résidu de la première étape. Les contrôles utilisés sont le sexe, la CSP, le régime scolaire et l'année scolaire.",
                       "VI : Variable Instrumentale. FCH : Fonction de Contrôle prenant en compte l'Hétérogénéité de l'effet de l'âge. CSP : Catégorie Socio-Professionnelle.",
                       "Significativité : 10\\\\% * 5\\\\% ** 1\\\\% ***."))
```

\quad Quant aux résultats d'estimation des effets de l'âge aux épreuves de DNB, hétérogènes selon la catégorie sociale, le Tableau \@ref(tab:agemodelsmtpcsregmod) montre qu'il n'y a clairement pas d'effets plus forts chez les très favorisés en français^[Coefficients associés à l'interaction entre l'âge aux examens et l'indicatrice de CSP très favorisée de faible ampleur et non significatifs.]. L'effet mesuré sur la note en mathématiques est d'ampleur non négligeable mais estimé avec peu de précision. L'effet sur la note totale par fonction de contrôle est à peine significatif au seuil de 5\% et n'est significatif qu'au seuil de 10\% lorsqu'il est estimé par variables instrumentales traditionnelles.  
Nous pouvons alors considérer que l'effet à moyen terme de l'âge aux examens sur les performances en fin de collège ne diffèrent pas en fonction de la catégorie sociale.  
En réitérant notre interprétation de la Section \@ref(agemodelsheterores) qui explique la supériorité des effets chez les très favorisés par la prévalence des décalages stratégiques d'inscription de la part des parents, nos résultats à moyen terme suggèrent que les avantages considérables de décaler l'inscription de son enfant ne sont plus visibles à la fin du collège. De même, l'explication de @ELD:LUB:09 sur l'importance des investissements pré-primaires est cohérente avec ce constat. 

```{r, "agemodelsmtpcsregmod"}
act <- NA
agemodelsmt_pcs_reg_mod %>% 
  ## Sélection de lignes. 
  (function (d) {
    sapply(c("age.absdnb", 
             "age.absdnb:pcs.reg.modMoy",
             "age.absdnb:pcs.reg.modFav",
             "age.absdnb:pcs.reg.modTresfav",
             "age.absdnb:pcs.reg.modAutres"
             ## ,
             ## "resid", "age.absdnb:resid",
             ## "age.absdnb:pcs.reg.modMoy:resid",
             ## "age.absdnb:pcs.reg.modFav:resid",
             ## "age.absdnb:pcs.reg.modTresfav:resid",
             ## "age.absdnb:pcs.reg.modAutres:resid"
             ), 
           function (x) which(d[, 1] == x) %>% 
             (function (w) c(w, w + 1))) %>% 
      as.vector %>% 
      (function (v) sapply(c("n", "arsq"),
                           function (x) which(d[, 1] == x)) %>% 
         as.vector %>% (function (v2) c(v, v2))) %>% 
      (function (v3) d[v3, ])
  }) %>%
  ## Rajout de ligne : contrôles. 
  (function (d) rbind(d[1:(nrow(d) - 2), ],
                      rep("", ncol(d)),
                      c("Contrôles", rep("Oui", ncol(d) - 1)),
                      d[(nrow(d) - 1):nrow(d), ])) %>% 
  ## Remplacement nom de variables. 
  (function (d) {
    d[, 1] <- d[, 1] %>% agereplace
    d
  }) %>% 
  set_colnames(c("", 
                   rep(c("\\makecell{VI \\\\ \\ }", 
                         "\\makecell{FCH \\\\ \\ }"), 3) %>% 
                   col_numbers())) %>% 
  # 2022_08_21 : j'enlève les R2 négatifs.
  (function (d) {
    d[nrow(d), str_detect(colnames(d), "VI")] <- "-"
    d
  }) %>% 
  kable(booktabs = TRUE, longtable = TRUE, linesep = "",
        escape = FALSE,
        caption = "Estimations des effets de l'âge aux examens hétérogènes de l'âge selon la catégorie sociale, à moyen terme") %>% 
  add_header_above(c("", 
                     "Totale" = 2,
                     "En français (écrits)" = 2,
                     "En mathématiques (écrits)" = 2)) %>% 
  add_header_above(c("",
                     "Variable dépendante : Note" = 6)) %>% 
  kable_styling(font_size = 8) %>% 
  footnote(general = c("\\\\textit{Sources :} Fichiers DNB (2014 à 2016), calculs de l'auteur.",
                       "\\\\textit{Notes :} Une colonne correspond à une régression. Les notes sont normalisées sur l'année scolaire. Écart-types entre parenthèses. Les écart-types des coefficients estimés par fonction de contrôle sont calculées par wild bootstrap avec 1001 réplications. La variable $\\\\hat{\\\\nu}$ est le résidu de la première étape. Les contrôles utilisés sont le sexe, la CSP, le régime scolaire et l'année scolaire.",
                       "VI : Variable Instrumentale. FCH : Fonction de Contrôle prenant en compte l'Hétérogénéité de l'effet de l'âge. CSP : Catégorie Socio-Professionnelle.",
                       "Significativité : 10\\\\% * 5\\\\% ** 1\\\\% ***."))
```

### Extensions : isolation des effets de l'âge aux examens *per se* et de l'âge relatif dans la classe {#agemodelssuppres}

Dans cette section, nous tentons d'isoler les effets de l'âge aux examens au CM2 en soi et de l'âge relatif. Ce sont des tentatives et extensions puisque la première n'exploite qu'un évènement très particulier survenu à La Réunion et nous n'utilisons que l'estimateur par double moindres carrés dans la seconde. 

\quad D'une part, rappelons que les évaluations de CM2 de 2012 se sont déroulées 4 mois plus tard que d'habitude pour des raisons exogènes. À même âge d'entrée, les élèves de 2012 sont alors âgés de 4 mois de plus que ceux des années scolaires précédentes. Nous exploitons ce phénomène pour tenter de séparer l'effet de l'âge aux examens net de celui de l'âge d'entrée. Pour ce faire, nous rajoutons le régresseur $a_i \times I(t = 2012)$ dans l'équation structurelle \@ref(eq:ageols). Le coefficient associé est donc l'effet supplémentaire d'être spécifiquement âgé 4 mois de plus aux examens. Nous utilisons l'approche par fonction de contrôle.    
  
\quad D'autre part, l'identifiant de la classe est à notre disposition au CM2 comme en 3^ème^. Nous pouvons alors tenter de séparer l'effet de l'âge relatif de la classe de l'effet de l'âge aux examens. Intuitivement, nous nous demandons dans quelle mesure être le plus âgé parmi les camarades de classe (les *pairs*) affecte la performance scolaire, indépendamment de la valeur absolue de l'âge de l'élève^[Cet effet est par définition le même que l'élève fasse partie des plus jeunes parmi des adolescents ou parmi des enfants de bas âge.]. Pratiquement, nous suivons @CAS:SCH:16 (États-Unis) ou encore @PEN:17 (Mexique) en rajoutant dans l'équation structurelle \@ref(eq:ageols) le régresseur supplémentaire $(a_i - \bar{a}_{-i})$ où $\bar{a}_{-i}$ représente la moyenne de l'âge aux examens chez les pairs de l'individu $i$^[Les pairs sont constitués des élèves de la classe à l'exception de l'individu.]. Nous instrumentons $\bar{a}_{-i}$ par $\bar{z}_{-i}$^[Pour comprendre cet instrument, il peut être utile d'imaginer sa version en mois de naissance, par exemple. Dans ce cas, cet instrument serait les proportions de pairs nés en janvier, février, etc..]. En plus des conditions de validité de $z_i$, une condition supplémentaire est l'absence de lien entre les classes et $z_{-i}$. En guise d'illustration, il ne faudrait pas que certaines classes regroupent une grande part d'élèves nés en janvier et d'autres une grande part d'élèves nés en décembre. D'après les informations fournies par des responsables de l'Académie de La Réunion, les classes ne devraient pas être formées en fonction de la date de naissance. Pour appuyer ce propos empiriquement, nous suivons @CAS:SCH:16 et régressons chaque variable de contrôle en fonction  de l'instrument de l'âge relatif : $(z_i - \bar{z}_{-i})$ ainsi que des variables de contrôles restantes. Les résultats sont présentés dans le Tableau \@ref(tab:ageexoinstagerel). Au CM2 (panel A), on ne détecte aucune corrélation entre l'instrument de l'âge relatif et les observables, toutes choses égales par ailleurs et au sein d'un établissement. Au CM2 comme en 3^ème^, nous ne détectons aucune corrélation robuste entre les observables et le jour de naissance dans l'année des pairs.  
  
\quad Les tests de présence d'éventuels effets directs de $\bar{z}_{-i}$ sont globalement négatifs (non reportés). 
  
<!-- En 3^ème^, une corrélation significative au seuil de 5\% est détectée entre l'indicatrice régime scolaire interne et l'instrument de l'âge relatif (panel B, colonne 7)^[Il existe également une corrélation entre l'instrument de l'âge absolu et l'indicatrice de régime scolaire interne. Cela n'est pas inquiétant puisque nous avons montré qu'il est peu crédible puisque nous avons montré dans la Section \@ref(agemethods) dépende de facteurs inobservés qui déterminent la réussite scolaire.]. Il est peu crédible que cette corrélation traduise un lien entre la date de naissance et l'attribution des classes car tous les coefficients homologues des autres régressions (panel B, colonnes 1 à 6 et colonne 8) sont non significatifs. -->

Les conditions de validité de notre stratégie d'identification de l'effet de l'âge relatif semblent alors être remplies.  

Une limite de cette seconde extension est que nous estimons les modèles uniquement par variables instrumentales. En effet, deux variables potentiellement endogènes sont à instrumenter : l'âge absolu et l'âge relatif. Nous laissons aux futures recherches l'utilisation de l'approche par fonction de contrôle pour ce type d'estimation.

```{r, "ageexoinstagerel0"}
act <- NA
  ## cm2. 
ageexoinstagerelmodelstab <- 
  ageexoinstagerelmodels %>% 
  (function (d) {
  ## Sélection de lignes. 
  sapply(c("z",
           "Iz $-$ p.z"
           ## , 
           ## "sexeM",
           ## "pcsRMoy", "pcsRFav", "pcsRTresfav", 
           ## "pcsRAutres", "pcsRNA"
           ),
           function (x) which(d[, 1] == x) %>% 
             (function (w) c(w, w + 1))) %>% 
  as.vector %>% 
  (function (v) sapply(c("n", "arsq"),
                       function (x) which(d[, 1] == x)) %>% 
     as.vector %>% (function (v2) c(v, v2))) %>% 
  (function (v3) d[v3, ])
  }) %>% 
  ## Rajout de ligne : contrôles. 
  (function (d) rbind(d[1:(nrow(d) - 2), ],
                      rep("", ncol(d)),
                      c("Contrôles", rep("Oui", ncol(d) - 1)),
                      d[(nrow(d) - 1):nrow(d), ])) %>% 
  ## Remplacement nom de variables. 
  (function (d) {
    d[, 1] <- d[, 1] %>% agereplace
    d
  })

  ## dnb. 
ageexoinstagerelmtmodelstab <- 
  ageexoinstagerelmtmodels %>% 
  (function (d) {
  ## Sélection de lignes. 
  sapply(c("z.dnb",
           "Iz.dnb $-$ p.z.dnb"
           ## , 
           ## "sexe.modM",
           ## "pcs.reg.modMoy", "pcs.reg.modFav", "pcs.reg.modTresfav", 
           ## "pcs.reg.modAutres",
           ## "lregime.constat.gint", 
           ## "lregime.constat.gext"
           ),
           function (x) which(d[, 1] == x) %>% 
             (function (w) c(w, w + 1))) %>% 
  as.vector %>% 
  (function (v) sapply(c("n", "arsq"),
                       function (x) which(d[, 1] == x)) %>% 
     as.vector %>% (function (v2) c(v, v2))) %>% 
  (function (v3) d[v3, ])
  }) %>% 
  ## Rajout de ligne : contrôles. 
  (function (d) rbind(d[1:(nrow(d) - 2), ],
                      rep("", ncol(d)),
                      c("Contrôles", rep("Oui", ncol(d) - 1)),
                      d[(nrow(d) - 1):nrow(d), ])) %>% 
  ## Remplacement nom de variables. 
  (function (d) {
    d[, 1] <- d[, 1] %>% agereplace
    d
  })
```

\newpage
```{r, "ageexoinstagerel"}
act2 <- NA
ageexoinstagerelmodelstab %>% 
    (function (d) cbind(d, matrix("-", nrow = nrow(d), ncol = 2))) %>% 
  (function (d2)
    
rbind(
  d2,
  ## rep(" ", ncol(d2)),
  ageexoinstagerelmtmodelstab %>% 
    (function (d) 
      cbind(d[, 1:6], rep("-", nrow(d)), d[, 7:ncol(d)]))) %>% 
  set_colnames(c("",
                 c("Garçon", "Moyenne", "Favorisée", 
                 "Très favorisée", "Autres", "Manquante",
                 "Interne", "Externe") %>% 
                   col_numbers()))) %>% 
  # 2022_08_21 : j'enlève les R2 négatifs : pas besoin. 
  kable(booktabs = TRUE, longtable = TRUE, linesep = "",
        escape = FALSE,
        caption = "Crédibilité de l'hypothèse d'indépendance entre la date de naissance et la classe assignée à l'élève") %>% 
  kable_styling(font_size = 8) %>% 
  group_rows("Panel A : CM2", 1, 8,
             latex_gap_space = ".5cm",
             hline_after = TRUE) %>%
  group_rows("Panel B : 3ème", 9, 16,
             latex_gap_space = ".5cm",
             hline_after = TRUE) %>%
  add_header_above(c("",
                     "Sexe - " ,
                     "CSP - " = 5,
                     "Régime scolaire - " = 2)) %>% 
  add_header_above(c("",
                     "Variable dépendante : " = 8)) %>% 
  footnote(general = c("\\\\textit{Sources :} Fichiers CM2 (2010 à 2012), Fichiers DNB (2014 à 2016), calculs de l'auteur.",
                       "\\\\textit{Notes :} Un panel-colonne correspond à une régression par moindres carrés ordinaires. L'instrument de l'âge relatif est décrit dans le texte. Effets fixes d'établissement-année puisque c'est à ce niveau que les classes sont attribuées. Écart-types robustes entre parenthèses.",
                       "CSP : Catégorie Socio-Professionnelle. CM2 : Cours Moyen 2\\\\textsuperscript{ème} année.",
                       "Significativité : 10\\\\% * 5\\\\% ** 1\\\\% ****."))
```


\quad Le Tableau \@ref(tab:agemodelsrel) montre les résultats d'estimation de trois types de modèles lorsque la note totale (colonnes 1 à 3), la note en français (colonnes 4 à 6) et la note en mathématiques (colonnes 7 à 9) sont retenues comme variables dépendantes. Ces trois modèles sont tels que nous tentons uniquement d'isoler l'effet de l'âge absolu dans le premier ("ABS", colonnes 1, 5 et 7, issus d'estimations par fonction de contrôle), l'effet d'âge relatif dans le deuxième ("REL", colonnes, 2, 5 et 8, issus d'estimations par variables instrumentales) et les deux à la fois dans le dernier qui sert de test de robustesse ("ABSREL", colonnes 3, 6 et 9, issus d'estimations par variables instrumentales).
  
Avec le modèle ABS, nous ne détectons aucun effet d'avoir passé les évaluations de 2012 4 mois plus tard, comme cela est indiqué par le coefficient devant l'interaction entre l'âge aux examens et l'indicatrice de cohorte de 2012 qui est non significatif, de faible ampleur et même négatif. 
  
Le modèle REL nous montre que l'effet de l'âge relatif est négatif et d'ampleur considérable (- 0.33 pour la note totale, - 0.21 pour la note en français et - 0.46 pour la note en mathématiques). En plus, les coefficients devant l'âge aux examens avec des ampleurs qui sont deux fois plus élevées et très significatifs (0.66 pour la note totale, 0.5 pour la note en français et 0.78 pour la note en mathématiques). Cette fois, les effets en mathématiques ressortent significativement supérieurs à ceux en français (probabilité critique de `r z_beta_test(c(.514, .078), c(.788, .079))$pval %>% round(2)` issu d'un test d'égalité des coefficients associés à l'âge aux examens des colonnes 5 et 8). De la même manière, l'effet de l'âge relatif en mathématiques est supérieur à celui en français (probabilité critique de `r z_beta_test(c(- .212, .076), c(- .463, .077))$pval %>% round(2)`).  
  
Les résultats d'estimation du modèle ABSREL sont qualitativement les mêmes que ceux issus des deux premiers.  

\quad Le fait que l'âge absolu en soi ne soit pas significatif va en partie à l'encontre des résultats de la littérature puisque @CRA:eal:07 et @BLA:eal:11 trouvent que l'âge absolu est plus important que l'effet de l'âge d'entrée en Angleterre et en Norvège, respectivement. Une possible raison de l'absence d'effet dans notre cas est que les enfants absolument plus âgés (même âge d'entrée que les autres enfants) ne le sont que de 4 mois. Ces 4 mois peuvent ne pas générer assez de variation pour que l'on arrive à détecter un effet isolé de l'âge absolu, s'il existe. L'autre explication est qu'il n'y pas d'effet d'âge absolu au CM2 à La Réunion. Nous préférons cette seconde explication pour deux raisons. Premièrement, les coefficients devant l'interaction entre l'âge aux examens et l'indicatrice de cohorte de 2012 sont négatifs et non significatifs (colonnes 1, 3, 4, 6, 7 et 9 du Tableau \@ref(tab:agemodelsrel)) alors que nous nous attendrions plutôt à ce qu'ils soient positifs et significatifs, d'après les résultats de la littérature. Deuxièmement, nos résultats précédents sur la supériorité des effets de l'âge chez les très favorisés est cohérent avec un modèle théorique dans lequel l'âge d'entrée est important mais pas l'âge absolu en soi [@ELD:LUB:09]. 

\quad Être relativement plus jeune dans sa classe semble donc être considérablement bénéfique aux élèves de CM2. Le même type de résultat est retrouvé dans @CAS:SCH:16 ou encore @PEN:17. Nous ne savons cependant pas si cet avantage en faveur des plus jeunes de la classe est dû au fait que les enseignants porteraient plus d'attention à ces élèves ou au fait que les élèves plus âgés ont un effet positif direct sur les élèves plus jeunes (via des effets de motivation ou d'entraide, par exemple).   

\newpage
```{r, "agemodelsrel"}
act2 <- NA
agemodelsrel %>% 
  ## Sélection de lignes. 
  (function (d) {
    sapply(c("age.abs", 
             "Iage.abs $-$ p.age.abs",
             "age.abs:cohorte2010", "age.abs:cohorte2011",
             "age.abs:cohorte2012"), 
           function (x) which(d[, 1] == x) %>% 
             (function (w) c(w, w + 1))) %>% 
      as.vector %>% 
      (function (v) sapply(c("n", "arsq"),
                           function (x) which(d[, 1] == x)) %>% 
         as.vector %>% (function (v2) c(v, v2))) %>% 
      (function (v3) d[v3, ])
  }) %>%
  ## Rajout de ligne : contrôles. 
  (function (d) rbind(d[1:(nrow(d) - 2), ],
                      rep("", ncol(d)),
                      c("Contrôles", rep("Oui", ncol(d) - 1)),
                      d[(nrow(d) - 1):nrow(d), ])) %>% 
  ## Remplacement nom de variables. 
  (function (d) {
    d[, 1] <- d[, 1] %>% agereplace 
    d
  }) %>% 
  set_colnames(c("", 
                 rep(c("ABS", "REL", "ABSREL"), 3) %>% 
                 col_numbers())) %>% 
  # 2022_08_21 : j'enlève les R2 négatifs.
  (function (d) {
    d[nrow(d), str_detect(colnames(d), "REL")] <- "-"
    d
  }) %>% 
  kable(booktabs = TRUE, longtable = TRUE, linesep = "",
        escape = FALSE,
        caption = "Estimations des effets séparés de l'âge absolu et de l'âge relatif") %>% 
  add_header_above(c("", 
                     "Totale" = 3,
                     "En français" = 3,
                     "En mathématiques" = 3)) %>% 
  add_header_above(c("",
                     "Variable dépendante : Note" = 9)) %>% 
  kable_styling(font_size = 7) %>% 
  footnote(general = c("\\\\textit{Sources :} Fichiers CM2 (2009 à 2012), calculs de l'auteur.",
                       "\\\\textit{Notes :} Une colonne correspond à une régression. Les notes sont normalisées sur l'année scolaire. Écart-types entre parenthèses. Ils sont calculés par wild bootstrap avec 1001 réplications. Les contrôles utilisés sont le sexe, la CSP et l'année scolaire.",
                       "ABS : modèle qui tente de mesurer séparément l'effet de l'âge absolu. REL : modèle qui tente de mesurer séparément l'effet de l'âge relatif. ABSREL : croisement des spécifications ABS et REL. CSP : Catégorie Socio-Professionnelle.",
                       "Significativité : 10\\\\% * 5\\\\% ** 1\\\\% ***."))
```


\quad Lorsque les interactions nécessaires sont intégrées pour analyser les effets de l'âge relatif séparément selon le genre (Tableau \@ref(tab:agemodelsrelsexe)), les estimations issues du modèle ABS (colonnes 1, 4 et 7) ne nous renseignent pas davantage sur les effets de l'âge aux examens en soi.  
  
Les effets de l'âge aux examens, lorsqu'ils sont isolés de ceux de l'âge relatif (modèle REL, colonnes 2, 5 et 8), apparaissent cette fois plus fort chez les garçons. En même temps, l'amplitude de l'effet négatif de l'âge relatif est plus fort chez les garçons. Autrement dit, les garçons sont plus avantagés d'être de plus en plus jeune dans la classe et en même temps sont plus avantagés par un même écart d'âge aux examens par rapport aux filles.  
<!-- Comment concilier cela avec les résultats d'auparavant ? -->
\quad Le modèle ABSREL (colonnes 3, 6 et 9) nous ramène aux mêmes conclusions mais nous apprend en plus qu'être plus âgé aux examens en 2012 est désavantageux pour les garçons, au vu des coefficients associés à l'interaction entre l'âge aux examens, indicatrice de cohorte de 2012 et l'indicatrice de sexe masculin. <!--Une interprétation possible de ce constat est que les garçons oublient plus vite ce qu'ils ont appris durant l'année scolaire. -->  

\quad Les effets en mathématiques montrés dans ce tableau sont également significativement supérieurs aux effets en français.  

\quad Les effets supérieurs chez les filles trouvés dans les modèles sans prise en compte de l'âge relatif peuvent alors s'expliquer en partie par le fait que les garçons bénéficient plus d'être plus âgés en soi mais être parmi les plus âgés de la classe nuit plus à ces derniers qu'aux filles. 


```{r, "agemodelsrelsexe"}
act2 <- NA
agemodelsrel_sexe %>% 
  (function (a) {
    a[, 1] <- str_replace(a[, 1], 
                          "sexeM:cohorte2010", 
                          "cohorte2010:sexeM") %>% 
      str_replace("sexeM:cohorte2011", "cohorte2011:sexeM") %>% 
      str_replace("sexeM:cohorte2012", "cohorte2012:sexeM")
    a
  }) %>% 
  ## Sélection de lignes. 
  (function (d) {
    sapply(c("age.abs", "age.abs:sexeM",
             "Iage.abs $-$ p.age.abs",
             "Iage.abs $-$ p.age.abs:sexeM",
             "age.abs:cohorte2010", "age.abs:cohorte2011",
             "age.abs:cohorte2012",
             "age.abs:cohorte2010:sexeM", 
             "age.abs:cohorte2011:sexeM",
             "age.abs:cohorte2012:sexeM"), 
           function (x) which(d[, 1] == x) %>% 
             (function (w) c(w, w + 1))) %>% 
      as.vector %>% 
      (function (v) sapply(c("n", "arsq"),
                           function (x) which(d[, 1] == x)) %>% 
         as.vector %>% (function (v2) c(v, v2))) %>% 
      (function (v3) d[v3, ])
  }) %>%
  ## Rajout de ligne : contrôles. 
  (function (d) rbind(d[1:(nrow(d) - 2), ],
                      rep("", ncol(d)),
                      c("Contrôles", rep("Oui", ncol(d) - 1)),
                      d[(nrow(d) - 1):nrow(d), ])) %>% 
  ## Remplacement nom de variables. 
  (function (d) {
    d[, 1] <- str_replace(d[, 1], # ne pas appliquer agereplace
                          "^age\\.abs$", "Âge aux examens") %>%
      str_replace("Iage\\.abs \\$-\\$ p\\.age\\.abs", 
                  "Âge relatif (classe)") %>% 
      str_replace("age\\.abs", "Âge aux examens") %>% 
      str_replace("cohorte", "Cohorte - ") %>% 
      str_replace("sexeM", "Sexe - Garçon") %>% 
      str_replace("^n$", "Observations") %>% 
      str_replace("arsq", "R$^2$ ajusté") %>% 
      str_replace_all(":", " $\\\\times$ ") 
    d
  }) %>% 
  set_colnames(c("", 
                 rep(c("ABS", "REL", "ABSREL"), 3) %>% 
                 col_numbers()))%>% 
  # 2022_08_21 : j'enlève les R2 négatifs.
  (function (d) {
    d[nrow(d), str_detect(colnames(d), "REL")] <- "-"
    d
  })  %>% 
  kable(booktabs = TRUE, longtable = TRUE, linesep = "",
        escape = FALSE,
        caption = "Estimations des effets séparés de l'âge absolu et de l'âge relatif, hétérogènes selon le sexe") %>% 
  add_header_above(c("", 
                     "Totale" = 3,
                     "En français" = 3,
                     "En mathématiques" = 3)) %>% 
  add_header_above(c("",
                     "Variable dépendante : Note" = 9)) %>% 
  kable_styling(font_size = 8) %>% 
  footnote(general = c("\\\\textit{Sources :} Fichiers CM2 (2009 à 2012), calculs de l'auteur.",
                       "\\\\textit{Notes :} Une colonne correspond à une régression. Les notes sont normalisées sur l'année scolaire. Écart-types entre parenthèses. Ils sont calculés par wild bootstrap avec 1001 réplications. Les contrôles utilisés sont le sexe, la CSP et l'année scolaire.",
                       "ABS : modèle qui tente de mesurer séparément l'effet de l'âge absolu. REL : modèle qui tente de mesurer séparément l'effet de l'âge relatif. ABSREL : croisement des spécifications ABS et REL. CSP : Catégorie Socio-Professionnelle.",
                       "Significativité : 10\\\\% * 5\\\\% ** 1\\\\% ***.")) %>% 
  landscape()
```

\quad En analysant les éventuelles hétérogénéités des effets de l'âge absolu et de l'âge relatif en fonction de la catégorie sociale (Tableau \@ref(tab:agemodelsrelpcs)), nous observons dans le modèle ABS (colonnes 1, 4 et 7) que passer les examens 4 mois plus tard entraîne une diminution significative de la note pour les élèves défavorisés. <!--Cela peut également résulter d'un processus d'oubli plus rapide chez les enfants défavorisés.-->  

\quad Le modèle REL (colonnes 2, 5 et 8) montre d'une part que l'effet de l'âge aux examens net de celui de l'âge relatif est plus le plus fort chez les enfants défavorisés au vu de l'ampleur des coefficients négatifs (bien que non précisément estimés pour les catégories plus élevées) devant l' interaction entre l'âge aux examens et les indicatrices de catégories sociales. Il est également nettement supérieur en mathématiques (0.76 UET contre 0.42 UET en français).  

\quad L'effet de l'âge relatif est, quant à lui, non significatif et de plus faible ampleur en français et très important en mathématiques. Le coefficient correspondant n'est significatif que pour les défavorisés. Cela suggère que les défavorisés sont les plus sensibles à d'éventuels effets négatifs de la présence de camarades plus jeunes (via des perturbations ou de la monopolisation de l'attention de l'enseignant). Cette interprétation est renforcée par les valeurs positives des coefficients correspondant aux interactions entre l'âge relatif et la catégorie sociale, bien que ces derniers soient estimés de manière très imprécise. Ces valeurs positives signifient en effet de moindres désavantages pour les classes sociales plus élevées. 
  
\quad Ces constats permettent en partie d'expliquer les effets d'âge supérieurs chez les élèves très favorisés trouvés précédemment puisque les avantages qu'obtiennent les défavorisés à être plus âgés *per se* sont contrecarrés par les désavantages à être les plus âgés de la classe. Or, ces désavantages sont limités chez les élèves très favorisés. 

```{r, "agemodelsrelpcs"}
act2 <- NA
agemodelsrel_pcs_g2 %>% 
  (function (a) {
    a[, 1] <- str_replace(a[, 1], 
                          "pcsRMoy:cohorte2010", 
                          "cohorte2010:pcsRMoy") %>% 
      str_replace("pcsRMoy:cohorte2011", "cohorte2011:pcsRMoy") %>% 
      str_replace("pcsRMoy:cohorte2012", "cohorte2012:pcsRMoy") %>% 
      
      str_replace("pcsRFav:cohorte2010", 
                  "cohorte2010:pcsRFav") %>% 
      str_replace("pcsRFav:cohorte2011", 
                  "cohorte2011:pcsRFav") %>% 
      str_replace("pcsRFav:cohorte2012", 
                  "cohorte2012:pcsRFav") %>% 
      
      str_replace("pcsRTresfav:cohorte2010", 
                  "cohorte2010:pcsRTresfav") %>% 
      str_replace("pcsRTresfav:cohorte2011", 
                  "cohorte2011:pcsRTresfav") %>% 
      str_replace("pcsRTresfav:cohorte2012", 
                  "cohorte2012:pcsRTresfav") %>% 
      
      str_replace("pcsRAutres:cohorte2010", 
                  "cohorte2010:pcsRAutres") %>% 
      str_replace("pcsRAutres:cohorte2011", 
                  "cohorte2011:pcsRAutres") %>% 
      str_replace("pcsRAutres:cohorte2012", 
                  "cohorte2012:pcsRAutres") %>% 
      
      str_replace("pcsRNA:cohorte2010", 
                  "cohorte2010:pcsRNA") %>% 
      str_replace("pcsRNA:cohorte2011", 
                  "cohorte2011:pcsRNA") %>% 
      str_replace("pcsRNA:cohorte2012", 
                  "cohorte2012:pcsRNA") 
      
    a
  }) %>% 
  ## Sélection de lignes. 
  (function (d) {
    sapply(c("age.abs", 
             "age.abs:pcsRMoy",
             "age.abs:pcsRFav",
             "age.abs:pcsRTresfav",
             "age.abs:pcsRAutres",
             "age.abs:pcsRNA",
             
             "Iage.abs $-$ p.age.abs",
             "Iage.abs $-$ p.age.abs:pcsRMoy",
             "Iage.abs $-$ p.age.abs:pcsRFav",
             "Iage.abs $-$ p.age.abs:pcsRTresfav",
             "Iage.abs $-$ p.age.abs:pcsRAutres",
             "Iage.abs $-$ p.age.abs:pcsRNA",
             
             ## "age.abs:cohorte2010",
             "age.abs:cohorte2011",
             "age.abs:cohorte2012",
             
             ## "age.abs:cohorte2010:pcsRMoy", 
             "age.abs:cohorte2011:pcsRMoy",
             "age.abs:cohorte2012:pcsRMoy",
             
             ## "age.abs:cohorte2010:pcsRFav", 
             "age.abs:cohorte2011:pcsRFav",
             "age.abs:cohorte2012:pcsRFav",
             
             ## "age.abs:cohorte2010:pcsRTresfav", 
             "age.abs:cohorte2011:pcsRTresfav",
             "age.abs:cohorte2012:pcsRTresfav",
             
             ## "age.abs:cohorte2010:pcsRAutres", 
             "age.abs:cohorte2011:pcsRAutres",
             "age.abs:cohorte2012:pcsRAutres",
             
             ## "age.abs:cohorte2010:pcsRNA", 
             "age.abs:cohorte2011:pcsRNA",
             "age.abs:cohorte2012:pcsRNA"),
           
           function (x) which(d[, 1] == x) %>% 
             (function (w) c(w, w + 1))) %>% 
      as.vector %>% 
      (function (v) sapply(c("n", "arsq"),
                           function (x) which(d[, 1] == x)) %>% 
         as.vector %>% (function (v2) c(v, v2))) %>% 
      (function (v3) d[v3, ])
  }) %>%
  ## Rajout de ligne : contrôles. 
  (function (d) rbind(d[1:(nrow(d) - 2), ],
                      rep("", ncol(d)),
                      c("Contrôles", rep("Oui", ncol(d) - 1)),
                      d[(nrow(d) - 1):nrow(d), ])) %>% 
  ## Remplacement nom de variables. 
  (function (d) {
    d[, 1] <- str_replace(d[, 1], 
                          "^age\\.abs$", "Âge aux examens") %>%
      str_replace("Iage\\.abs \\$-\\$ p\\.age\\.abs", 
                  "Âge relatif (classe)") %>% 
      str_replace("age\\.abs", "Âge aux examens") %>% 
      str_replace("cohorte", "Cohorte - ") %>% 
      str_replace("pcsR", "CSP - ") %>%
      str_replace("Moy", "Moyenne") %>% 
      str_replace("Fav", "Favorisée") %>% 
      str_replace("Tresfav", "Très favorisée") %>% 
      str_replace("Autres", "Autre") %>% 
      str_replace("NA", "Manquante") %>% 
      str_replace("^n$", "Observations") %>% 
      str_replace("arsq", "R$^2$ ajusté") %>% 
      str_replace_all(":", " $\\\\times$ ") 
    d
  }) %>% 
  set_colnames(c("", 
                 rep(c("ABS", "REL", "ABSREL"), 3) %>% 
                 col_numbers())) %>% 
  # 2022_08_21 : j'enlève les R2 négatifs.
  (function (d) {
    d[nrow(d), str_detect(colnames(d), "REL")] <- "-"
    d
  }) %>% 
  kable(booktabs = TRUE, longtable = TRUE, linesep = "",
        escape = FALSE,
        caption = "Estimations des effets séparés de l'âge absolu et de l'âge relatif, hétérogènes selon la catégorie sociale") %>% 
  add_header_above(c("", 
                     "Totale" = 3,
                     "En français" = 3,
                     "En mathématiques" = 3)) %>% 
  add_header_above(c("",
                     "Variable dépendante : Note" = 9)) %>% 
  kable_styling(font_size = 8) %>% 
  footnote(general = c("\\\\textit{Sources :} Fichiers CM2 (2009 à 2012), calculs de l'auteur.",
                       "\\\\textit{Notes :} Une colonne correspond à une régression. Les notes sont normalisées sur l'année scolaire. Écart-types entre parenthèses. Ils sont calculés par wild bootstrap avec 1001 réplications. Les contrôles utilisés sont le sexe, la CSP et l'année scolaire.",
                       "ABS : modèle qui tente de mesurer séparément l'effet de l'âge absolu. REL : modèle qui tente de mesurer séparément l'effet de l'âge relatif. ABSREL : croisement des spécifications ABS et REL. CSP : Catégorie Socio-Professionnelle.",
                       "Significativité : 10\\\\% * 5\\\\% ** 1\\\\% ***.")) %>% 
  landscape()
```

\quad Sur les résultats du DNB (Tableau \@ref(tab:agemodelsmtrel)), les effets de l'âge aux examens et de l'âge relatif sont qualitativement les mêmes mais de plus grande ampleur par rapport aux effets correspondant trouvés pour le CM2 puisque les coefficients estimés associés à l'âge aux examens se trouvent entre 0.8 et 0.9 UET et ceux associés à l'âge relatif entre 0.6 et 0.8 UET. Il n'y a cette fois pas de différence entre les effets estimés en français et en mathématiques^[Probabilité critique de `r z_beta_test(c(.836, .092), c(.892, .095))$pval %>% round(2)` issue d'un test d'égalité des effets de l'âge absolu en français et en mathématiques. Cette probabilité est de `r z_beta_test(c(- .661, .09), c(- .76, .093))$pval %>% round(2)` en ce qui concerne les effets de l'âge relatif.].  
   
\quad Dans la même logique qu'au CM2, les ampleurs des coefficients du Tableau \@ref(tab:agemodelsmtrel) qui apparaissent très différents des résultats à moyen terme qui ne tiennent pas compte des effets éventuels de l'âge relatif ne représentent pas une incohérence puisque les effets mesurés auparavant représentent mécaniquement la somme de l'effet de l'âge aux examens en soi et de l'effet de l'âge relatif. 

\quad Quelques hypothèses permettent d'expliquer ces différences d'ampleur entre les effets estimés au CM2 et ceux estimés au DNB. D'une part, l'effet de l'âge aux examens *per se* qui est supérieur est probablement dû à la pratique du redoublement entre le CM2 (y compris) et la 3^ème^ (y compris)^[Les arguments fournis par @GRE:09 qui tentent d'expliquer pourquoi des effets de l'âge restent visibles à moyen terme en France vont dans ce sens.]. En effet, redoubler une fois pendant cette période équivaut à avoir un an de plus aux examens du DNB. On peut alors supposer que le redoublement entre la fin du primaire et le collège a un effet positif à La Réunion.  
D'autre part, l'effet de l'âge relatif peut être plus prononcé à la fin du collège puisque des élèves plus âgés sont plus aptes à s'influencer directement^[On peut penser qu'ils ont la possibilité de mieux s'exprimer, vu qu'ils sont plus âgés, par exemple.]. Une autre serait que les tailles de classes légèrement plus élevées au collège impliquent plus de difficulté pour un enseignant de gérer ses élèves, augmentant ainsi en moyenne les perturbations des plus jeunes ou le détournement de l'attention de l'enseignant en faveur des plus jeunes de la classe [@GIV:20, p. 42].    
  
\newpage
```{r, "agemodelsmtrel"}
agemodelsmtrel %>% 
## Sélection de lignes. 
  (function (d) {
    sapply(c("age.absdnb", 
             "Iage.absdnb $-$ p.age.absdnb"), 
           function (x) which(d[, 1] == x) %>% 
             (function (w) c(w, w + 1))) %>% 
      as.vector %>% 
      (function (v) sapply(c("n", "arsq"),
                           function (x) which(d[, 1] == x)) %>% 
         as.vector %>% (function (v2) c(v, v2))) %>% 
      (function (v3) d[v3, ])
  }) %>%
  ## Rajout de ligne : contrôles. 
  (function (d) rbind(d[1:(nrow(d) - 2), ],
                      rep("", ncol(d)),
                      c("Contrôles", rep("Oui", ncol(d) - 1)),
                      d[(nrow(d) - 1):nrow(d), ])) %>% 
  ## Remplacement nom de variables. 
  (function (d) {
    d[, 1] <- str_replace(d[, 1], "^age.absdnb$", "Âge aux examens") %>%
      str_replace("Iage\\.absdnb \\$-\\$ p\\.age\\.absdnb",
                  "Âge relatif (classe)") %>% 
      str_replace("age\\.absdnb", "^Age aux examens") %>% 
      str_replace("^n$", "Observations") %>% 
      str_replace("arsq", "R$^2$ ajusté") %>% 
      str_replace_all(":", " $\\\\times$ ") 
    d
  }) %>% 
  set_colnames(c("", 
                 
                 rep(c("\\makecell{Données \\\\ complètes}",
                       "\\makecell{Sans sections \\\\ spécifiques}"),
                     3) %>% 
                   col_numbers())) %>% 
  ## Sélection de colonnes du 2021_11_18 : il est justifié de
  ## prendre toutes les données grâce à l'instrument. (discutable). 
  (function (d) d[, - c(3, 5, 7)] %>% 
     set_colnames(c("", 
                    c("\\makecell[l]{Note totale (écrits) \\\\ \\ }",
                      "\\makecell[l]{Note en \\\\ français (écrits)}",
                      "\\makecell[l]{Note en \\\\ mathématiques (écrits)}") %>% col_numbers())))%>% 
  # 2022_08_21 : j'enlève les R2 négatifs.
  (function (d) {
    d[- nrow(d), ]
  })  %>% 
  kable(booktabs = TRUE, longtable = TRUE, linesep = "",
        escape = FALSE,
        caption = "Estimations des effets séparés à moyen terme de l'âge relatif") %>% 
  ## add_header_above(c("", 
  ##                    "Note totale (écrits)" = 1,
  ##                    "Français (écrits)" = 1,
  ##                    "Maths (écrits)" = 1)) %>% 
  add_header_above(c("", 
                     "Variable dépendante :" = 3)) %>% 
  kable_styling(font_size = 8) %>% 
  footnote(general = c("\\\\textit{Sources :} Fichiers CM2 (2009 à 2012), calculs de l'auteur.",
                       "\\\\textit{Notes :} Une colonne correspond à une régression. Les notes sont normalisées sur l'année scolaire. Écart-types entre parenthèses. Ils sont calculés par wild bootstrap avec 1001 réplications. Les contrôles utilisés sont le sexe, la CSP, le régime scolaire et l'année scolaire.",
                       "CSP : Catégorie Socio-Professionnelle.",
                       "Significativité : 10\\\\% * 5\\\\% ** 1\\\\% ***."))
```

\quad Les effets de l'âge relatif ne semblent pas différents en fonction du sexe, comme le démontre le Tableau \@ref(tab:agemodelsmtrelsexemod). Cette observation est cohérente avec les constats précédents indiquant une absence d'effets hétérogènes de l'âge aux examens à moyen terme. 

```{r, "agemodelsmtrelsexemod"}
act <- NA
agemodelsmtrel_sexe_mod %>% 
  (function (a) {
    a[, 1] <- str_replace(a[, 1], 
                          "sexe\\.modM:Iage\\.absdnb \\$-\\$ p\\.age\\.absdnb",
                          "Iage.absdnb $-$ p.age.absdnb:sexe.modM")
    a
  }) %>% 
## Sélection de lignes. 
  (function (d) {
    sapply(c("age.absdnb", "age.absdnb:sexe.modM",
             "Iage.absdnb $-$ p.age.absdnb",
             "Iage.absdnb $-$ p.age.absdnb:sexe.modM"), 
           function (x) which(d[, 1] == x) %>% 
             (function (w) c(w, w + 1))) %>% 
      as.vector %>% 
      (function (v) sapply(c("n", "arsq"),
                           function (x) which(d[, 1] == x)) %>% 
         as.vector %>% (function (v2) c(v, v2))) %>% 
      (function (v3) d[v3, ])
  }) %>%
  ## Rajout de ligne : contrôles. 
  (function (d) rbind(d[1:(nrow(d) - 2), ],
                      rep("", ncol(d)),
                      c("Contrôles", rep("Oui", ncol(d) - 1)),
                      d[(nrow(d) - 1):nrow(d), ])) %>% 
  ## Remplacement nom de variables. 
  (function (d) {
    d[, 1] <- str_replace(d[, 1], "^age.absdnb$", "Âge aux examens") %>% 
      str_replace("Iage\\.absdnb \\$-\\$ p\\.age\\.absdnb",
                  "Âge relatif (classe)") %>%
      str_replace("^age\\.absdnb", "Âge aux examens") %>% 
      str_replace("sexe\\.modM", "Sexe - Garçon") %>% 
      str_replace("^n$", "Observations") %>% 
      str_replace("arsq", "R$^2$ ajusté") %>% 
      str_replace_all(":", " $\\\\times$ ") 
    d
  }) %>% 
  set_colnames(c("", 
                 
                 rep(c("\\makecell{Données \\\\ complètes}",
                       "\\makecell{Sans sections \\\\ spécifiques}"),
                     3) %>% 
                   col_numbers())) %>% 
  (function (d) d[, - c(3, 5, 7)] %>% 
     set_colnames(c("",
                    c("\\makecell[l]{Note totale (écrits) \\\\ \\ }",
                    "\\makecell[l]{Note en \\\\ français (écrits)}",
                    "\\makecell[l]{Note en \\\\ mathématiques (écrits)}") %>% col_numbers()))) %>% 
  (function (d) d[- nrow(d), ]) %>% 
  kable(booktabs = TRUE, longtable = TRUE, linesep = "",
        escape = FALSE,
        caption = "Estimations des effets séparés à moyen terme de l'âge relatif, hétérogènes selon le sexe") %>% 
  ## add_header_above(c("", 
  ##                    "Note totale" = 2,
  ##                    "Français (écrits)" = 2,
  ##                    "Maths (écrits)" = 2)) %>% 
  add_header_above(c("", 
                     "Variable dépendante :" = 3)) %>% 
  kable_styling(font_size = 8) %>% 
  footnote(general = c("\\\\textit{Sources :} Fichiers CM2 (2009 à 2012), calculs de l'auteur.",
                       "\\\\textit{Notes :} Une colonne correspond à une régression. Les notes sont normalisées sur l'année scolaire. Écart-types entre parenthèses. Ils sont calculés par wild bootstrap avec 1001 réplications. Les contrôles utilisés sont le sexe, la CSP, le régime scolaire et l'année scolaire.",
                       "CSP : Catégorie Socio-Professionnelle.",
                       "Significativité : 10\\\\% * 5\\\\% ** 1\\\\% ***."))
```

\quad De la même manière, selon le Tableau \@ref(tab:agemodelsmtrelpcsregmod), il est il n'y a pas d'hétérogénéité des effets de l'âge relatif en fonction de la catégorie sociale puisque les coefficients devant les interactions entre l'âge relatif et les indicatrices de catégorie sociale sont tous non significatifs.

```{r, "agemodelsmtrelpcsregmod"}
agemodelsmtrel_pcs_reg_mod %>% 
  (function (a) {
    a[, 1] <- str_replace(a[, 1], 
                          "pcs\\.reg\\.modMoy:Iage\\.absdnb \\$-\\$ p\\.age\\.absdnb",
                          "Iage.absdnb $-$ p.age.absdnb:pcs.reg.modMoy") %>% 
      str_replace("pcs\\.reg\\.modFav:Iage\\.absdnb \\$-\\$ p\\.age\\.absdnb",
                  "Iage.absdnb $-$ p.age.absdnb:pcs.reg.modFav") %>% 
      str_replace("pcs\\.reg\\.modTresfav:Iage\\.absdnb \\$-\\$ p\\.age\\.absdnb",
                  "Iage.absdnb $-$ p.age.absdnb:pcs.reg.modTresfav") %>% 
      str_replace("pcs\\.reg\\.modAutres:Iage\\.absdnb \\$-\\$ p\\.age\\.absdnb",
                  "Iage.absdnb $-$ p.age.absdnb:pcs.reg.modAutres")
    a
  }) %>% 
## Sélection de lignes. 
  (function (d) {
    sapply(c("age.absdnb", 
             "age.absdnb:pcs.reg.modMoy",
             "age.absdnb:pcs.reg.modFav",
             "age.absdnb:pcs.reg.modTresfav",
             "age.absdnb:pcs.reg.modAutres",
             
             "Iage.absdnb $-$ p.age.absdnb",
             "Iage.absdnb $-$ p.age.absdnb:pcs.reg.modMoy",
             "Iage.absdnb $-$ p.age.absdnb:pcs.reg.modFav",
             "Iage.absdnb $-$ p.age.absdnb:pcs.reg.modTresfav",
             "Iage.absdnb $-$ p.age.absdnb:pcs.reg.modAutres"), 
           function (x) which(d[, 1] == x) %>% 
             (function (w) c(w, w + 1))) %>% 
      as.vector %>% 
      (function (v) sapply(c("n", "arsq"),
                           function (x) which(d[, 1] == x)) %>% 
         as.vector %>% (function (v2) c(v, v2))) %>% 
      (function (v3) d[v3, ])
  }) %>%
  ## Rajout de ligne : contrôles. 
  (function (d) rbind(d[1:(nrow(d) - 2), ],
                      rep("", ncol(d)),
                      c("Contrôles", rep("Oui", ncol(d) - 1)),
                      d[(nrow(d) - 1):nrow(d), ])) %>% 
  ## Remplacement nom de variables. 
  (function (d) {
    d[, 1] <- str_replace(d[, 1], "^age.absdnb$", "Âge aux examens") %>%
      str_replace("Iage\\.absdnb \\$-\\$ p\\.age\\.absdnb",
                  "Âge relatif (classe)") %>%
      str_replace("^age\\.absdnb",
                  "Âge aux examens") %>% 
      str_replace("pcs\\.reg\\.mod", "CSP - ") %>% 
      str_replace("Moy", "Moyenne") %>% 
      str_replace("Fav", "Favorisée") %>% 
      str_replace("Tresfav", "Très favorisée") %>% 
      str_replace("^n$", "Observations") %>% 
      str_replace("arsq", "R$^2$ ajusté") %>% 
      str_replace_all(":", " $\\\\times$ ") 
    d
  }) %>% 
  set_colnames(c("", 
                 
                 rep(c("\\makecell{Données \\\\ complètes}",
                       "\\makecell{Sans sections \\\\ spécifiques}"),
                     3) %>% 
                   col_numbers())) %>% 
  (function (d) d[, - c(3, 5, 7)] %>% 
     set_colnames(c("",
                    c("\\makecell[l]{Note totale (écrits) \\\\ \\ }",
                    "\\makecell[l]{Note en \\\\ français (écrits)}",
                    "\\makecell[l]{Note en \\\\ mathématiques (écrits)}") %>% col_numbers()))) %>% 
  (function (d) d[- nrow(d), ]) %>% 
  kable(booktabs = TRUE, longtable = TRUE, linesep = "",
        escape = FALSE,
        caption = "Estimations des effets séparés à moyen terme de l'âge relatif, hétérogènes selon la catégorie sociale") %>% 
  ## add_header_above(c("", 
  ##                    "Note totale" = 2,
  ##                    "Français (écrits)" = 2,
  ##                    "Maths (écrits)" = 2)) %>% 
  add_header_above(c("", 
                     "Variable dépendante :" = 3)) %>% 
  kable_styling(font_size = 8) %>% 
  footnote(general = c("\\\\textit{Sources :} Fichiers CM2 (2009 à 2012), calculs de l'auteur.",
                       "\\\\textit{Notes :} Une colonne correspond à une régression. Les notes sont normalisées sur l'année scolaire. Écart-types entre parenthèses. Ils sont calculés par wild bootstrap avec 1001 réplications. Les contrôles utilisés sont le sexe, la CSP, le régime scolaire et l'année scolaire.",
                       "CSP : Catégorie Socio-Professionnelle.",
                       "Significativité : 10\\\\% * 5\\\\% ** 1\\\\% ***."))
```

## Conclusion {#ageconcl}

L'étude présente utilise des données exhaustives sur La Réunion pour mesurer l'effet d'être âgé un an de plus aux épreuves nationales de CM2 et de DNB en utilisant l'approche par fonction de contrôle. L'avantage de cette approche est qu'elle est basée sur l'utilisation de la date de naissance dans l'année comme instrument de l'âge réel mais ne nécessite pas l'hypothèse de monotonie pour identifier l'effet moyen du traitement [@HAM:KOL:12 ; @WOO:15]. Nous mobilisons également des modèles de régressions sur une discontinuité. Nous analysons l'hétérogénéité des effets de l'âge en fonction des caractéristiques observables et nous tentons de séparer l'effet de l'âge absolu en soi de l'effet de l'âge relatif.   
  
\quad En fin de CM2, nous trouvons des effets d'ampleur comparables aux résultats internationaux. L'effet confondu de l'âge d'entrée à l'école, de la position de l'âge dans la composition de la classe ainsi que de la maturité est positif, significatif et d'ampleur considérable à bas âge. Nous trouvons un effet plus fort chez les filles et chez les enfants issus de catégorie sociale très favorisée. Certains de ces effets hétérogènes n'auraient pas pu être mis en évidence avec de simples estimations par variables instrumentales. À bas âge, les effets ne semblent pas différer selon la matière (français ou mathématiques).  
Avec ces seuls résultats, bien qu'une inégalité liée à l'âge à bas âge soit confirmée, il est difficile de fournir des préconisations précises [@DHU:eal:17]. De telles préconisations requièrent en effet d'identifier le rôle distinct des trois types d'effet de l'âge.  
La recommandation principale que nous pouvons faire est qu'il est nécessaire de sensibiliser les enseignants sur les effets de l'âge. L'enseignant devra alors prendre en compte l'âge de ses élèves dans ses appréciations : plutôt que de comparer un enfant à des camarades plus âgés lors de commentaires envers l'enfant ou les parents, l'enseignant devra mettre en évidence soit la progression de l'enfant soit ses performances par rapport à son âge [@CRA:eal:14]. Cette initiative permettrait de diminuer les risques de perte de confiance en soi de l'enfant dès son plus jeune âge [@GIV:20]<!--Voir également le résumé de Salles et Le Cam 2020, TIMSS 2019.-->, qui influence ses performances futures et ses aspirations scolaires (dont découle son choix de spécialisation en classe de seconde, par exemple).    
Les parents doivent également être sensibilisés de la même manière, lors des réunions collectives ou individuelles, par exemple.  
  
\quad Pour éviter de pénaliser injustement les plus jeunes au CM2 à cause de leur âge, des politiques de normalisation des notes (aux examens officiels) en fonction du mois de naissance sont également envisageables. À notre connaissance, cela a été popularisé par @CRA:eal:07 (Angleterre). Concrètement, pour un élève né à un mois de naissance donné (en décembre, par exemple), il s'agit de rajouter le montant de la pénalité uniquement dû à son âge aux examens par rapport à un élève né en janvier dans sa note officielle. Ce sont ces notes normalisées qui devraient alors être utilisées dans les décisions institutionnelles (décision de redoublement, placement les sections spéciales comme la SEGPA, discussion avec les parents). Bien sûr, ces notes ne reflètent pas le niveau de capital humain de l'enfant en soi mais ont le mérite d'éviter les mêmes effets cités plus hauts tels que la perte de confiance en soi très tôt dans l'éducation. Il faudrait arrêter d'utiliser des notes normalisées au moment où les effets de l'âge ne sont en effet plus visibles (sur les vraies notes). Cela suggère de repérer précisément ce moment (2^nde^, première, ou terminale, par exemple). Cette question fera l'objet de futures recherches.  
Une politique de notes normalisées en fonction du mois de naissance peut être mise en place en sensibilisant le personnel enseignant à l'intérêt de cette pratique, en indiquant systématiquement le mois de naissance des élèves dans les copies d'examen, et en systématisant la normalisation par tous les correcteurs.
  
Afin de mieux comprendre ces problématiques, les futures recherches devraient tenter de mesurer précisément les effets de l'âge sur des mesures non cognitives de confiance en soi, ambitions, santé mentale, etc..

  
\quad Bien que d'autres études sur la France (ou mieux, sur La Réunion) soient nécessaires pour les confirmer ou les infirmer, nos résultats impliquent que l'âge d'entrée (toujours confondu avec l'âge relatif d'entrée en primaire) prime sur la maturité au moment des examens, du moins jusqu'à la fin du primaire. De plus, être plus jeune dans la classe s'avère être un avantage, contrairement à l'intuition. Ces deux résultats nuancés permettent de formuler plus assurément qu'avancer la date seuil d'entrée plus tôt dans l'année peut être un moyen efficace de lutter contre l'inégalité à bas âge. En effet, une telle politique augmenterait non seulement l'âge d'entrée de chaque élève mais l'exposerait aussi à des camarades de classes relativement plus âgés (ce qui leur est avantageux). Par ailleurs, différencier les dates seuils d'entrée en fonction des régions de France avec des expérimentations permettrait aux futures recherches de mesurer l'effet de l'âge d'entrée net de l'effet d'âge aux examens et de fournir ainsi des recommandations plus précises.   
Les avantages que tirent les plus jeunes de la classe des plus âgés indiquent de plus qu'il serait bénéfique pour la performance des élèves de limiter autant que possible les classes de groupes d'âge. Cette implication est valable que la cause derrière ces résultats soit l'ajustement du comportement de l'enseignant ou les effets de pairs.  
Les résultats sur les effets de l'âge relatif indiquent également que la pratique du retard d'entrée est à considérer avec prudence puisque décaler l'inscription de son enfant équivaut à un enfant plus âgé à l'entrée (avantage, effets de l'âge *per se*) mais aussi confrontés à des pairs plus jeunes (désavantage, effets de l'âge relatif). 
  
\quad Nos résultats indiquent également que les effets diminuent mais persistent vraisemblablement jusqu'en fin de collège. Cela suppose que les 4 années de collège ne sont probablement pas suffisantes pour éliminer les différences de performances dues aux différences d'âge. Cela peut être problématique à plus long terme puisque c'est à partir du lycée que les parcours scolaires des élèves diffèrent (général et technologique ou professionnel, entre autres). Plus d'attention devrait alors être fournie aux plus jeunes de la classe tout le long du collège.  
Les effets de l'âge aux examens nets de l'âge relatif semblent même avoir augmenté en fin de collège mais cette augmentation est compensée par les effets négatifs de l'âge relatif. Sur ces effets séparés et en fin de collège, des différences sont perçues selon la matière concernée : les effets en mathématiques sont significativement plus prononcés que ceux en français.  
  
\quad Pour assurer la qualité de futures recherches, les tests à bas âge pourraient être uniformisés (en structures et en difficulté) à travers le temps.  

\quad D'autres pistes de politiques publiques existent pour diminuer la pénalité de performance causée par l'âge, mais nous laissons le débat ouvert puisque nous notre travail ne contient pas d'éléments nous permettant d'en discuter. Ce sont les politiques liées à l'emploi du temps et à la taille des classes. Au primaire, il se pourrait en effet que les plus jeunes aient une limite de temps de concentration dont les plus âgés n'en souffrent pas. Des classes plus petites pourraient également permettre aux enseignants de mieux adapter leurs enseignements selon les différentes classes d'âge [@GIV:20]<!--sa conclusion-->. 

<!-- Notes.
Une référence probablement récente sur les éducations prioritaires : Azéma-Mathiot, que j'ai repéré grâce à mes notes sur le rapport du Sénat (random.mm), page 32.

Ne pas oublier de dire que les politiques basées sur la sensibilisation des parents sont cohérents avec le fait que les l'environnement familial compte beaucoup plus dans la détermination des performances éducatives des enfants que celles de l'école.

Dans l'intervention de Gurgand à La Réunion, vers 17m08, il y a une référence claire qui irait dans le sens de l'argument comme quoi il y aurait un manque d'information des plus modestes sur les composantes de la technologie de formation de capital humain de leurs enfants.
-->

<!-- \newpage -->

<!-- ## Bibliographie {-} -->

<!-- <div id="refs"></div> -->

